(self.webpackChunkplugin_amcharts5=self.webpackChunkplugin_amcharts5||[]).push([[4048],{35866:(I,b,r)=>{r.d(b,{z:()=>h});var _=r(6905),f=r(38489),c=r(43933);class h extends f.W{_afterNew(){this._settings.themeTags=c.Fy(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",_.c.new(this._root,{themeTags:c.Fy(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const v=this._prevSettings.icon,t=this.get("icon");t!==v&&(this._disposeProperty("icon"),v&&v.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){const v=this._prevSettings.label,t=this.get("label");t!==v&&(this._disposeProperty("label"),v&&v.dispose(),t&&this.children.push(t),this._prevSettings.label=t)}}}Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:f.W.classNames.concat([h.className])})},6905:(I,b,r)=>{r.d(b,{c:()=>u});var _=r(50886),f=r(71765),c=r(43933),h=r(53962);class u extends h.A{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let t=this.width(),e=this.height(),s=t,i=e,o=s/Math.abs(t),n=i/Math.abs(e);if(_.hj(s)&&_.hj(i)){let p=Math.min(s,i)/2,a=c.Iy(this.get("cornerRadiusTL",8),p),g=c.Iy(this.get("cornerRadiusTR",8),p),l=c.Iy(this.get("cornerRadiusBR",8),p),d=c.Iy(this.get("cornerRadiusBL",8),p),D=Math.min(Math.abs(s/2),Math.abs(i/2));a=f.C7(a,0,D),g=f.C7(g,0,D),l=f.C7(l,0,D),d=f.C7(d,0,D);const m=this._display;m.moveTo(a*o,0),m.lineTo(s-g*o,0),g>0&&m.arcTo(s,0,s,g*n,g),m.lineTo(s,i-l*n),l>0&&m.arcTo(s,i,s-l*o,i,l),m.lineTo(d*o,i),d>0&&m.arcTo(0,i,0,i-d*n,d),m.lineTo(0,a*n),a>0&&m.arcTo(0,0,a*o,0,a),m.closePath()}}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.A.classNames.concat([u.className])})},7644:(I,b,r)=>{r.d(b,{SliceGrouper:()=>u});var _=r(35866),f=r(54416),c=r(79522),h=r(15784);class u extends c.JH{constructor(){super(...arguments),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._setRawDefault("threshold",5),this._setRawDefault("groupName","Other"),this._setRawDefault("clickBehavior","none"),this.initZoomButton(),this._root.addDisposer(this)}initZoomButton(){"none"!==this.get("clickBehavior")&&(this.zoomOutButton=this.root.tooltipContainer.children.push(_.z.new(this._root,{themeTags:["zoom"],icon:f.T.new(this._root,{themeTags:["button","icon"]})})),this.zoomOutButton.hide(),this.zoomOutButton.events.on("click",()=>{this.zoomOut()}))}handleData(){const t=this.get("series");if(t){let e=this.getPrivate("groupDataItem");if(!e){const a=this.get("legend"),g=t.get("categoryField","category"),l=t.get("valueField","value"),d={};d[g]=this.get("groupName",""),d[l]=0,t.data.push(d),e=t.dataItems[t.dataItems.length-1],e.get("slice").events.on("click",()=>{this.handleClick()}),this.setPrivate("groupDataItem",e),a&&(a.data.push(e),e.on("visible",D=>{D&&this.zoomOut()}))}const s=this.get("threshold",0),i=this.get("limit",1e3),o=[],n=[];let p=0;(s||i)&&(h.S6(t.dataItems,(a,g)=>{const l=a.get("legendDataItem");(a.get("valuePercentTotal")<=s||g>i-1)&&e!==a?(p+=a.get("value",0),n.push(a),a.hide(0),l&&l.get("itemContainer").hide(0)):(o.push(a),l&&l.get("itemContainer").show(0))}),this.setPrivate("normalDataItems",o),this.setPrivate("smallDataItems",n),this.updateGroupDataItem(p))}}zoomOut(){const t=this.getPrivate("groupDataItem");if(t&&t.show(),"zoom"==this.get("clickBehavior")){const i=this.getPrivate("normalDataItems",[]);h.S6(i,(o,n)=>{o.show()})}const s=this.getPrivate("smallDataItems",[]);h.S6(s,(i,o)=>{i.hide()}),this.zoomOutButton&&this.zoomOutButton.hide()}updateGroupDataItem(t){const e=this.get("series");if(e){const s={},i=e.get("categoryField","category"),o=e.get("valueField","value");s[i]=this.get("groupName",""),s[o]=t,e.data.setIndex(e.data.length-1,s);const n=this.getPrivate("groupDataItem");0==t?n.hide(0):n.isHidden()&&n.show(),"none"!=this.get("clickBehavior")&&n.get("slice").set("toggleKey","none")}}handleClick(){const t=this.get("clickBehavior"),e=this.getPrivate("smallDataItems");if("none"==t||e&&0==e.length)return;const s=this.get("series");this.getPrivate("groupDataItem").hide(),h.S6(s.dataItems,o=>{-1!==e.indexOf(o)?o.show():"zoom"==t&&o.hide()}),this.zoomOutButton.show()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("series")){const t=this.get("series");t&&t.events.on("datavalidated",e=>{this.handleData()})}}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SliceGrouper"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.JH.classNames.concat([u.className])})}}]);