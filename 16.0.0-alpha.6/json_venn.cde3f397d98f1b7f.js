(self.webpackChunkplugin_amcharts5=self.webpackChunkplugin_amcharts5||[]).push([[5565],{11754:(It,rt,D)=>{D.d(rt,{U:()=>V});var X=D(79522),$=D(11951);class V extends X.JH{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const O=this.getPrivate("currentPass"),L=this.get("colors",[this.get("baseColor",$.Il.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",L.length);const W=this.getPrivate("numColors"),Y=this.get("passOptions"),st=this.get("reuse");for(let U=0;U<W;U++)if(st)L.push(L[U]);else{const J=L[U].toHSL();let T=J.h+(Y.hue||0)*O;for(;T>1;)T-=1;let G=J.s+(Y.saturation||0)*O;G>1&&(G=1),G<0&&(G=0);let Q=J.l+(Y.lightness||0)*O;for(;Q>1;)Q-=1;L.push($.Il.fromHSL(T,G,Q))}}getIndex(O){const L=this.get("colors",[]),W=this.get("saturation");return O>=L.length?(this.generateColors(),this.getIndex(O)):null!=W?$.Il.saturate(L[O],W):L[O]}next(){let O=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",O+this.get("step",1)),this.getIndex(O)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(V,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(V,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:X.JH.classNames.concat([V.className])})},30131:(It,rt,D)=>{D.d(rt,{Venn:()=>et});var X=D(84911),$=D(57333),V=D(49648),yt=D(11754);class O extends $.Q{setupDefaultRules(){super.setupDefaultRules();const t=this.rule.bind(this);t("Venn").setAll({legendLabelText:"{category}",legendValueText:"{value}",colors:yt.U.new(this._root,{}),width:V.AQ,height:V.AQ}),t("Label",["venn"]).setAll({text:"{category}",populateText:!0,centerX:V.CI,centerY:V.CI})}}var L=D(19037),W=D(24837),q=D(54416),Y=D(38489),st=D(88303),U=D(25905),J=D(43933),T=D(15784),G=D(50886);function Q(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function dt(e,t){return Q(e).map(function(){return Q(t)})}function K(e,t){for(var r=0,n=0;n<e.length;++n)r+=e[n]*t[n];return r}function it(e){return Math.sqrt(K(e,e))}function at(e,t,r){for(var n=0;n<t.length;++n)e[n]=t[n]*r}function B(e,t,r,n,s){for(var i=0;i<e.length;++i)e[i]=t*r[i]+n*s[i]}function mt(e,t,r){var x,n=(r=r||{}).maxIterations||200*t.length,s=r.nonZeroDelta||1.05,i=r.zeroDelta||.001,a=r.minErrorDelta||1e-6,u=r.minErrorDelta||1e-5,o=void 0!==r.rho?r.rho:1,l=void 0!==r.chi?r.chi:2,f=void 0!==r.psi?r.psi:-.5,h=void 0!==r.sigma?r.sigma:.5,y=t.length,g=new Array(y+1);g[0]=t,g[0].fx=e(t),g[0].id=0;for(var v=0;v<y;++v){var d=t.slice();d[v]=d[v]?d[v]*s:i,g[v+1]=d,g[v+1].fx=e(d),g[v+1].id=v+1}function c(C){for(var z=0;z<C.length;z++)g[y][z]=C[z];g[y].fx=C.fx}for(var M=function(C,z){return C.fx-z.fx},P=t.slice(),b=t.slice(),m=t.slice(),w=t.slice(),A=0;A<n;++A){if(g.sort(M),r.history){var I=g.map(function(C){var z=C.slice();return z.fx=C.fx,z.id=C.id,z});I.sort(function(C,z){return C.id-z.id}),r.history.push({x:g[0].slice(),fx:g[0].fx,simplex:I})}for(x=0,v=0;v<y;++v)x=Math.max(x,Math.abs(g[0][v]-g[1][v]));if(Math.abs(g[0].fx-g[y].fx)<a&&x<u)break;for(v=0;v<y;++v){P[v]=0;for(var H=0;H<y;++H)P[v]+=g[H][v];P[v]/=y}var F=g[y];if(B(b,1+o,P,-o,F),b.fx=e(b),b.fx<g[0].fx)B(w,1+l,P,-l,F),w.fx=e(w),c(w.fx<b.fx?w:b);else if(b.fx>=g[y-1].fx){var k=!1;if(b.fx>F.fx?(B(m,1+f,P,-f,F),m.fx=e(m),m.fx<F.fx?c(m):k=!0):(B(m,1-f*o,P,f*o,F),m.fx=e(m),m.fx<b.fx?c(m):k=!0),k){if(h>=1)break;for(v=1;v<g.length;++v)B(g[v],1-h,g[0],h,g[v]),g[v].fx=e(g[v])}}else c(b)}return g.sort(M),{fx:g[0].fx,x:g[0]}}function St(e,t,r,n,s,i,a){var u=r.fx,o=K(r.fxprime,t),l=u,f=u,h=o,x=0;function y(v,d,c){for(var M=0;M<16;++M)if(B(n.x,1,r.x,s=(v+d)/2,t),l=n.fx=e(n.x,n.fxprime),h=K(n.fxprime,t),l>u+i*s*o||l>=c)d=s;else{if(Math.abs(h)<=-a*o)return s;h*(d-v)>=0&&(d=v),v=s,c=l}return 0}s=s||1,i=i||1e-6,a=a||.1;for(var g=0;g<10;++g){if(B(n.x,1,r.x,s,t),l=n.fx=e(n.x,n.fxprime),h=K(n.fxprime,t),l>u+i*s*o||g&&l>=f)return y(x,s,f);if(Math.abs(h)<=-a*o)return s;if(h>=0)return y(s,x,l);f=l,x=s,s*=2}return s}function Rt(e,t,r){var a,u,l,n={x:t.slice(),fx:0,fxprime:t.slice()},s={x:t.slice(),fx:0,fxprime:t.slice()},i=t.slice(),o=1;l=(r=r||{}).maxIterations||20*t.length,n.fx=e(n.x,n.fxprime),at(a=n.fxprime.slice(),n.fxprime,-1);for(var f=0;f<l;++f){if(o=St(e,a,n,s,o),r.history&&r.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:o}),o){B(i,1,s.fxprime,-1,n.fxprime);var h=K(n.fxprime,n.fxprime);B(a,Math.max(0,K(i,s.fxprime)/h),a,-1,s.fxprime),u=n,n=s,s=u}else at(a,n.fxprime,-1);if(it(n.fxprime)<=1e-5)break}return r.history&&r.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:o}),n}var pt=1e-10;function ut(e,t){var u,r=function Tt(e){for(var t=[],r=0;r<e.length;++r)for(var n=r+1;n<e.length;++n)for(var s=Mt(e[r],e[n]),i=0;i<s.length;++i){var a=s[i];a.parentIndex=[r,n],t.push(a)}return t}(e),n=r.filter(function(A){return function Lt(e,t){for(var r=0;r<t.length;++r)if(S(e,t[r])>t[r].radius+pt)return!1;return!0}(A,e)}),s=0,i=0,a=[];if(n.length>1){var o=Pt(n);for(u=0;u<n.length;++u){var l=n[u];l.angle=Math.atan2(l.x-o.x,l.y-o.y)}n.sort(function(A,I){return I.angle-A.angle});var f=n[n.length-1];for(u=0;u<n.length;++u){var h=n[u];i+=(f.x+h.x)*(h.y-f.y);for(var x={x:(h.x+f.x)/2,y:(h.y+f.y)/2},y=null,g=0;g<h.parentIndex.length;++g)if(f.parentIndex.indexOf(h.parentIndex[g])>-1){var v=e[h.parentIndex[g]],d=Math.atan2(h.x-v.x,h.y-v.y),c=Math.atan2(f.x-v.x,f.y-v.y),M=c-d;M<0&&(M+=2*Math.PI);var P=c-M/2,b=S(x,{x:v.x+v.radius*Math.sin(P),y:v.y+v.radius*Math.cos(P)});b>2*v.radius&&(b=2*v.radius),(null===y||y.width>b)&&(y={circle:v,width:b,p1:h,p2:f})}null!==y&&(a.push(y),s+=ot(y.circle.radius,y.width),f=h)}}else{var m=e[0];for(u=1;u<e.length;++u)e[u].radius<m.radius&&(m=e[u]);var w=!1;for(u=0;u<e.length;++u)if(S(e[u],m)>Math.abs(m.radius-e[u].radius)){w=!0;break}w?s=i=0:(s=m.radius*m.radius*Math.PI,a.push({circle:m,p1:{x:m.x,y:m.y+m.radius},p2:{x:m.x-pt,y:m.y+m.radius},width:2*m.radius}))}return i/=2,t&&(t.area=s+i,t.arcArea=s,t.polygonArea=i,t.arcs=a,t.innerPoints=n,t.intersectionPoints=r),s+i}function ot(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function S(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function bt(e,t,r){if(r>=e+t)return 0;if(r<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);var s=t-(r*r-e*e+t*t)/(2*r);return ot(e,e-(r*r-t*t+e*e)/(2*r))+ot(t,s)}function Mt(e,t){var r=S(e,t),n=e.radius,s=t.radius;if(r>=n+s||r<=Math.abs(n-s))return[];var i=(n*n-s*s+r*r)/(2*r),a=Math.sqrt(n*n-i*i),u=e.x+i*(t.x-e.x)/r,o=e.y+i*(t.y-e.y)/r,l=a/r*-(t.y-e.y),f=a/r*-(t.x-e.x);return[{x:u+l,y:o-f},{x:u-l,y:o+f}]}function Pt(e){for(var t={x:0,y:0},r=0;r<e.length;++r)t.x+=e[r].x,t.y+=e[r].y;return t.x/=e.length,t.y/=e.length,t}var wt=1e-10;function lt(e,t,r){return Math.min(e,t)*Math.min(e,t)*Math.PI<=r+wt?Math.abs(e-t):function Ot(e,t,r,n){var s=(n=n||{}).maxIterations||100,i=n.tolerance||1e-10,a=e(t),u=e(r),o=r-t;if(a*u>0)throw"Initial bisect points must have opposite signs";if(0===a)return t;if(0===u)return r;for(var l=0;l<s;++l){var f=t+(o/=2),h=e(f);if(h*a>=0&&(t=f),Math.abs(o)<i||0===h)return f}return t+o}(function(n){return bt(e,t,n)-r},0,e+t)}function kt(e,t){var r=function Bt(e,t){for(var i,r=t&&t.lossFunction?t.lossFunction:ft,n={},s={},a=0;a<e.length;++a){var u=e[a];1==u.sets.length&&(n[i=u.sets[0]]={x:1e10,y:1e10,rowid:n.length,size:u.size,radius:Math.sqrt(u.size/Math.PI)},s[i]=[])}for(e=e.filter(function(E){return 2==E.sets.length}),a=0;a<e.length;++a){var o=e[a],l=o.hasOwnProperty("weight")?o.weight:1,f=o.sets[0],h=o.sets[1];o.size+wt>=Math.min(n[f].size,n[h].size)&&(l=0),s[f].push({set:h,size:o.size,weight:l}),s[h].push({set:f,size:o.size,weight:l})}var x=[];for(i in s)if(s.hasOwnProperty(i)){var y=0;for(a=0;a<s[i].length;++a)y+=s[i][a].size*s[i][a].weight;x.push({set:i,size:y})}function g(E,N){return N.size-E.size}x.sort(g);var v={};function d(E){return E.set in v}function c(E,N){n[N].x=E.x,n[N].y=E.y,v[N]=!0}for(c({x:0,y:0},x[0].set),a=1;a<x.length;++a){var M=x[a].set,P=s[M].filter(d);if(i=n[M],P.sort(g),0===P.length)throw"ERROR: missing pairwise overlap information";for(var b=[],m=0;m<P.length;++m){var w=n[P[m].set],A=lt(i.radius,w.radius,P[m].size);b.push({x:w.x+A,y:w.y}),b.push({x:w.x-A,y:w.y}),b.push({y:w.y+A,x:w.x}),b.push({y:w.y-A,x:w.x});for(var I=m+1;I<P.length;++I)for(var H=n[P[I].set],F=lt(i.radius,H.radius,P[I].size),k=Mt({x:w.x,y:w.y,radius:A},{x:H.x,y:H.y,radius:F}),C=0;C<k.length;++C)b.push(k[C])}var z=1e50,Z=b[0];for(m=0;m<b.length;++m){n[M].x=b[m].x,n[M].y=b[m].y;var nt=r(n,e);nt<z&&(z=nt,Z=b[m])}c(Z,M)}return n}(e,t),n=t.lossFunction||ft;if(e.length>=8){var s=function Vt(e,t){var i,r=(t=t||{}).restarts||10,n=[],s={};for(i=0;i<e.length;++i){var a=e[i];1==a.sets.length&&(s[a.sets[0]]=n.length,n.push(a))}var u=function Nt(e,t,r){var n=dt(t.length,t.length),s=dt(t.length,t.length);return e.filter(function(i){return 2==i.sets.length}).map(function(i){var a=r[i.sets[0]],u=r[i.sets[1]],f=lt(Math.sqrt(t[a].size/Math.PI),Math.sqrt(t[u].size/Math.PI),i.size);n[a][u]=n[u][a]=f;var h=0;i.size+1e-10>=Math.min(t[a].size,t[u].size)?h=1:i.size<=1e-10&&(h=-1),s[a][u]=s[u][a]=h}),{distances:n,constraints:s}}(e,n,s),o=u.distances,l=u.constraints,f=it(o.map(it))/o.length;o=o.map(function(M){return M.map(function(P){return P/f})});var x,y,h=function(M,P){return function Ht(e,t,r,n){var i,s=0;for(i=0;i<t.length;++i)t[i]=0;for(i=0;i<r.length;++i)for(var a=e[2*i],u=e[2*i+1],o=i+1;o<r.length;++o){var l=e[2*o],f=e[2*o+1],h=r[i][o],x=n[i][o],y=(l-a)*(l-a)+(f-u)*(f-u),g=Math.sqrt(y),v=y-h*h;x>0&&g<=h||x<0&&g>=h||(s+=2*v*v,t[2*i]+=4*v*(a-l),t[2*i+1]+=4*v*(u-f),t[2*o]+=4*v*(l-a),t[2*o+1]+=4*v*(f-u))}return s}(M,P,o,l)};for(i=0;i<r;++i)y=Rt(h,Q(2*o.length).map(Math.random),t),(!x||y.fx<x.fx)&&(x=y);var v=x.x,d={};for(i=0;i<n.length;++i){var c=n[i];d[c.sets[0]]={x:v[2*i]*f,y:v[2*i+1]*f,radius:Math.sqrt(c.size/Math.PI)}}if(t.history)for(i=0;i<t.history.length;++i)at(t.history[i].x,f);return d}(e,t);n(s,e)+1e-8<n(r,e)&&(r=s)}return r}function ft(e,t){for(var r=0,s=0;s<t.length;++s){var a,i=t[s];if(1!=i.sets.length){if(2==i.sets.length){var u=e[i.sets[0]],o=e[i.sets[1]];a=bt(u.radius,o.radius,S(u,o))}else a=ut(i.sets.map(function(h){return e[h]}));r+=(i.hasOwnProperty("weight")?i.weight:1)*(a-i.size)*(a-i.size)}}return r}function Gt(e,t,r){var n;if(e.sort(null===r?function(v,d){return d.radius-v.radius}:r),e.length>0){var s=e[0].x,i=e[0].y;for(n=0;n<e.length;++n)e[n].x-=s,e[n].y-=i}if(2==e.length&&S(e[0],e[1])<Math.abs(e[1].radius-e[0].radius)&&(e[1].x=e[0].x+e[0].radius-e[1].radius-1e-10,e[1].y=e[0].y),e.length>1){var f,h,u=Math.atan2(e[1].x,e[1].y)-t,o=Math.cos(u),l=Math.sin(u);for(n=0;n<e.length;++n)e[n].x=o*(f=e[n].x)-l*(h=e[n].y),e[n].y=l*f+o*h}if(e.length>2){for(var x=Math.atan2(e[2].x,e[2].y)-t;x<0;)x+=2*Math.PI;for(;x>2*Math.PI;)x-=2*Math.PI;if(x>Math.PI){var y=e[1].y/(1e-10+e[1].x);for(n=0;n<e.length;++n){var g=(e[n].x+y*e[n].y)/(1+y*y);e[n].x=2*g-e[n].x,e[n].y=2*g*y-e[n].y}}}}function ht(e){var t=function(r){return{max:Math.max.apply(null,e.map(function(i){return i[r]+i.radius})),min:Math.min.apply(null,e.map(function(i){return i[r]-i.radius}))}};return{xRange:t("x"),yRange:t("y")}}function vt(e,t,r){var s,i,n=t[0].radius-S(t[0],e);for(s=1;s<t.length;++s)(i=t[s].radius-S(t[s],e))<=n&&(n=i);for(s=0;s<r.length;++s)(i=S(r[s],e)-r[s].radius)<=n&&(n=i);return n}function Dt(e,t){var n,r=[];for(n=0;n<e.length;++n){var s=e[n];r.push({x:s.x,y:s.y}),r.push({x:s.x+s.radius/2,y:s.y}),r.push({x:s.x-s.radius/2,y:s.y}),r.push({x:s.x,y:s.y+s.radius/2}),r.push({x:s.x,y:s.y-s.radius/2})}var i=r[0],a=vt(r[0],e,t);for(n=1;n<r.length;++n){var u=vt(r[n],e,t);u>=a&&(i=r[n],a=u)}var o=mt(function(x){return-1*vt({x:x[0],y:x[1]},e,t)},[i.x,i.y],{maxIterations:500,minErrorDelta:1e-10}).x,l={x:o[0],y:o[1]},f=!0;for(n=0;n<e.length;++n)if(S(l,e[n])>e[n].radius){f=!1;break}for(n=0;n<t.length;++n)if(S(l,t[n])<t[n].radius){f=!1;break}if(!f)if(1==e.length)l={x:e[0].x,y:e[0].y};else{var h={};ut(e,h),l=0===h.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==h.arcs.length?{x:h.arcs[0].circle.x,y:h.arcs[0].circle.y}:t.length?Dt(e,[]):Pt(h.arcs.map(function(x){return x.p1}))}return l}function Ct(e,t){for(var r={},n=function zt(e){var t={},r=[];for(var n in e)r.push(n),t[n]=[];for(var s=0;s<r.length;s++)for(var i=e[r[s]],a=s+1;a<r.length;++a){var u=e[r[a]],o=S(i,u);o+u.radius<=i.radius+1e-10?t[r[a]].push(r[s]):o+i.radius<=u.radius+1e-10&&t[r[s]].push(r[a])}return t}(e),s=0;s<t.length;++s){for(var i=t[s].sets,a={},u={},o=0;o<i.length;++o){a[i[o]]=!0;for(var l=n[i[o]],f=0;f<l.length;++f)u[l[f]]=!0}var h=[],x=[];for(var y in e)y in a?h.push(e[y]):y in u||x.push(e[y]);var g=Dt(h,x);r[i]=g,g.disjoint&&t[s].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return r}D(21692);class et extends L.F{constructor(){super(...arguments),Object.defineProperty(this,"_sets",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Y.W.new(this._root,{}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Y.W.new(this._root,{}))}),Object.defineProperty(this,"hoverGraphics",{enumerable:!0,configurable:!0,writable:!0,value:this.slicesContainer.children.push(q.T.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_hovered",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this._makeSlices()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this._makeLabels()})}_afterNew(){this._defaultThemes.push(O.new(this._root)),this.fields.push("intersections","category","fill"),super._afterNew()}makeSlice(t){const r=this.slicesContainer.children.push(this.slices.make());return r.events.on("pointerover",n=>{this._hovered=n.target,this._updateHover()}),r.events.on("pointerout",()=>{this._hovered=void 0,this.hoverGraphics.hide()}),r.on("fill",()=>{this.updateLegendMarker(t)}),r.on("stroke",()=>{this.updateLegendMarker(t)}),r._setDataItem(t),t.set("slice",r),this.slices.push(r),r}_updateHover(){if(this._hovered){const t=this.hoverGraphics;t.set("svgPath",this._hovered.get("svgPath")),t.show(),t.toFront()}}makeLabel(t){const r=this.labelsContainer.children.push(this.labels.make());return r._setDataItem(t),t.set("label",r),this.labels.push(r),r}_makeSlices(){return new U.o(W.YS.new({}),()=>q.T._new(this._root,{themeTags:J.Fy(this.slices.template.get("themeTags",[]),["venn","series"])},[this.slices.template]))}_makeLabels(){return new U.o(W.YS.new({}),()=>st._._new(this._root,{themeTags:J.Fy(this.labels.template.get("themeTags",[]),["venn","series"])},[this.labels.template]))}processDataItem(t){if(super.processDataItem(t),null==t.get("fill")){let r=this.get("colors");r&&t.setRaw("fill",r.next())}this.makeSlice(t),this.makeLabel(t)}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty||this._sizeDirty){const t=[];T.S6(this.dataItems,n=>{const s={},i=n.get("intersections");s.sets=i||[n.get("category")],s.size=n.get("valueWorking"),s.size>0&&t.push(s)});const r=t.toString();if(this._sets=r,t.length>0){let n=function Ft(e,t){(t=t||{}).maxIterations=t.maxIterations||500;var r=t.initialLayout||kt,n=t.lossFunction||ft;e=function Et(e){e=e.slice();var n,s,i,a,t=[],r={};for(n=0;n<e.length;++n){var u=e[n];1==u.sets.length?t.push(u.sets[0]):2==u.sets.length&&(r[[i=u.sets[0],a=u.sets[1]]]=!0,r[[a,i]]=!0)}for(t.sort(function(o,l){return o>l}),n=0;n<t.length;++n)for(i=t[n],s=n+1;s<t.length;++s)[i,a=t[s]]in r||e.push({sets:[i,a],size:0});return e}(e);var u,s=r(e,t),i=[],a=[];for(u in s)s.hasOwnProperty(u)&&(i.push(s[u].x),i.push(s[u].y),a.push(u));for(var f=mt(function(x){for(var y={},g=0;g<a.length;++g){var v=a[g];y[v]={x:x[2*g],y:x[2*g+1],radius:s[v].radius}}return n(y,e)},i,t).x,h=0;h<a.length;++h)s[u=a[h]].x=f[2*h],s[u].y=f[2*h+1];return s}(t);n=function Ut(e,t,r){null===t&&(t=Math.PI/2);var s,i,n=[];for(i in e)if(e.hasOwnProperty(i)){var a=e[i];n.push({x:a.x,y:a.y,radius:a.radius,setid:i})}var u=function Wt(e){function t(l){return l.parent!==l&&(l.parent=t(l.parent)),l.parent}e.map(function(l){l.parent=l});for(var n=0;n<e.length;++n)for(var s=n+1;s<e.length;++s){var i=e[n].radius+e[s].radius;S(e[n],e[s])+1e-10<i&&(f=e[n],h=void 0,h=t(e[s]),x=t(f),h.parent=x)}var f,h,x,u,a={};for(n=0;n<e.length;++n)(u=t(e[n]).parent.setid)in a||(a[u]=[]),a[u].push(e[n]);e.map(function(l){delete l.parent});var o=[];for(u in a)a.hasOwnProperty(u)&&o.push(a[u]);return o}(n);for(s=0;s<u.length;++s){Gt(u[s],t,r);var o=ht(u[s]);u[s].size=(o.xRange.max-o.xRange.min)*(o.yRange.max-o.yRange.min),u[s].bounds=o}u.sort(function(g,v){return v.size-g.size});var l=(n=u[0]).bounds,f=(l.xRange.max-l.xRange.min)/50;function h(g,v,d){if(g){var M,P,b,c=g.bounds;v?M=l.xRange.max-c.xRange.min+f:(M=l.xRange.max-c.xRange.max,(b=(c.xRange.max-c.xRange.min)/2-(l.xRange.max-l.xRange.min)/2)<0&&(M+=b)),d?P=l.yRange.max-c.yRange.min+f:(P=l.yRange.max-c.yRange.max,(b=(c.yRange.max-c.yRange.min)/2-(l.yRange.max-l.yRange.min)/2)<0&&(P+=b));for(var m=0;m<g.length;++m)g[m].x+=M,g[m].y+=P,n.push(g[m])}}for(var x=1;x<u.length;)h(u[x],!0,!1),h(u[x+1],!1,!0),h(u[x+2],!0,!0),x+=3,l=ht(n);var y={};for(s=0;s<n.length;++s)y[n[s].setid]=n[s];return y}(n,null,null),n=function Qt(e,t,r,n){var s=[],i=[];for(var a in e)e.hasOwnProperty(a)&&(i.push(a),s.push(e[a]));t-=2*n,r-=2*n;var u=ht(s),o=u.xRange,l=u.yRange;if(o.max==o.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;for(var x=Math.min(r/(l.max-l.min),t/(o.max-o.min)),y=(t-(o.max-o.min)*x)/2,g=(r-(l.max-l.min)*x)/2,v={},d=0;d<s.length;++d){var c=s[d];v[i[d]]={radius:x*c.radius,x:n+y+(c.x-o.min)*x,y:n+g+(c.y-l.min)*x}}return v}(n,this.innerWidth(),this.innerHeight(),0);const s={};for(let a in n){let u=n[a],o=u.radius;const l=this.getDataItemByCategory(a);if(l){const f=l.get("slice"),h=l.get("fill");f._setDefault("fill",h),f._setDefault("stroke",h),this.updateLegendMarker(l),f.set("svgPath","M"+u.x+","+u.y+" m -"+o+", 0 a "+o+","+o+" 0 1,1 "+2*o+",0 a "+o+","+o+" 0 1,1 -"+2*o+",0"),s[a]=u}}let i=Ct(s,t);T.S6(this.dataItems,a=>{let u=a.get("category"),o=i[u];const l=a.get("intersections");if(l&&(u=l.toString(),o=i[u],o)){let f=l,h=[];for(let v=0;v<f.length;v++)h.push(s[f[v]]);let x=function xt(e){var t={};ut(e,t);var r=t.arcs;if(0===r.length)return"M 0 0";if(1==r.length){var n=r[0].circle;return function Yt(e,t,r){var n=[];return n.push("\nM",e,t),n.push("\nm",-r,0),n.push("\na",r,r,0,1,0,2*r,0),n.push("\na",r,r,0,1,0,2*-r,0),n.join(" ")}(n.x,n.y,n.radius)}for(var s=["\nM",r[0].p2.x,r[0].p2.y],i=0;i<r.length;++i){var a=r[i],u=a.circle.radius;s.push("\nA",u,u,0,a.width>u?1:0,1,a.p1.x,a.p1.y)}return s.join(" ")}(h),y=a.get("slice");const g=a.get("fill");y._setDefault("fill",g),y._setDefault("stroke",g),y.setAll({svgPath:x})}o&&a.get("label").setAll({x:o.x,y:o.y}),this.updateLegendValue(a)})}this._updateHover()}}getDataItemByCategory(t){return T.sE(this.dataItems,r=>r.get("category")==t)}showDataItem(t,r){const n=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,X.mG)(this,void 0,void 0,function*(){const s=[n.showDataItem.call(this,t,r)];G.hj(r)||(r=this.get("stateAnimationDuration",0));const i=this.get("stateAnimationEasing");let a=t.get("value");const u=t.animate({key:"valueWorking",to:a,duration:r,easing:i});u&&s.push(u.waitForStop());const o=t.get("label");o&&s.push(o.show(r));const l=t.get("slice");l&&s.push(l.show(r));const f=t.get("intersections");if(f&&T.S6(f,h=>{const x=this.getDataItemByCategory(h);x&&x.isHidden()&&this.showDataItem(x,r)}),!f){const h=t.get("category");T.S6(this.dataItems,x=>{const y=x.get("intersections");if(x!=t&&y){let g=!0;T.S6(y,v=>{const d=this.getDataItemByCategory(v);d&&d.isHidden()&&(g=!1)}),g&&-1!=y.indexOf(h)&&x.isHidden()&&this.showDataItem(x,r)}})}yield Promise.all(s)})}hideDataItem(t,r){const n=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,X.mG)(this,void 0,void 0,function*(){const s=[n.hideDataItem.call(this,t,r)],i=this.states.create("hidden",{});G.hj(r)||(r=i.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=i.get("stateAnimationEasing",this.get("stateAnimationEasing")),u=t.animate({key:"valueWorking",to:0,duration:r,easing:a});u&&s.push(u.waitForStop());const o=t.get("label");o&&s.push(o.hide(r));const l=t.get("slice");l&&(s.push(l.hide(r)),l.hideTooltip()),t.get("intersections")||T.S6(this.dataItems,f=>{const h=f.get("intersections");f!=t&&h&&-1!=h.indexOf(t.get("category"))&&this.hideDataItem(f,r)}),yield Promise.all(s)})}disposeDataItem(t){super.disposeDataItem(t);let r=t.get("label");r&&(this.labels.removeValue(r),r.dispose());let n=t.get("slice");n&&(this.slices.removeValue(n),n.dispose())}updateLegendMarker(t){const r=t.get("slice");if(r){const n=t.get("legendDataItem");if(n){const s=n.get("markerRectangle");T.S6(q.u,i=>{s.set(i,r.get(i))})}}}hoverDataItem(t){const r=t.get("slice");r&&!r.isHidden()&&r.hover()}unhoverDataItem(t){const r=t.get("slice");r&&r.unhover()}}Object.defineProperty(et,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Venn"}),Object.defineProperty(et,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:L.F.classNames.concat([et.className])})}}]);