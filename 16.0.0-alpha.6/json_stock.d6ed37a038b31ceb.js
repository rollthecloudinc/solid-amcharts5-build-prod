(self.webpackChunkplugin_amcharts5=self.webpackChunkplugin_amcharts5||[]).push([[5635],{83469:(ze,qe,F)=>{F.d(qe,{AccumulationDistribution:()=>ht,AccumulativeSwingIndex:()=>pt,Aroon:()=>gt,AverageSeries:()=>Nt,AwesomeOscillator:()=>xt,BollingerBands:()=>ut,CalloutSeries:()=>tt,ChaikinMoneyFlow:()=>mt,ChaikinOscillator:()=>vt,ChartIndicator:()=>z,ColorControl:()=>Ee,CommodityChannelIndex:()=>kt,ComparisonControl:()=>ni,DateRangeSelector:()=>ei,DisparityIndex:()=>Ct,DoodleSeries:()=>Et,DrawingControl:()=>Qt,DrawingSeries:()=>ye,DrawingToolControl:()=>Rt,Dropdown:()=>G,DropdownColors:()=>Z,DropdownList:()=>He,DropdownListControl:()=>me,EllipseSeries:()=>Ft,FibonacciSeries:()=>Qe,FibonacciTimezoneSeries:()=>Bt,HorizontalLineSeries:()=>Lt,HorizontalRaySeries:()=>Vt,IconControl:()=>Xt,IconSeries:()=>Ue,Indicator:()=>we,IndicatorControl:()=>Zt,IntervalControl:()=>si,LabelSeries:()=>Ge,MACD:()=>ft,MedianPrice:()=>At,MovingAverage:()=>Be,MovingAverageDeviation:()=>ct,MovingAverageEnvelope:()=>lt,OnBalanceVolume:()=>bt,PanelControls:()=>Se,PeriodSelector:()=>ti,PolylineSeries:()=>Ve,QuadrantLineSeries:()=>Yt,RectangleSeries:()=>Tt,RegressionSeries:()=>Ot,RelativeStrengthIndex:()=>dt,ResetControl:()=>ai,SeriesTypeControl:()=>ii,SettingsControl:()=>ri,SettingsModal:()=>Pe,SimpleLineSeries:()=>ce,StandardDeviation:()=>Dt,StochasticOscillator:()=>yt,StockChart:()=>$e,StockControl:()=>Y,StockLegend:()=>rt,StockPanel:()=>nt,StockToolbar:()=>Gt,TrendLineSeries:()=>jt,Trix:()=>Pt,TypicalPrice:()=>St,VWAP:()=>ot,VerticalLineSeries:()=>It,Volume:()=>wt,WilliamsR:()=>_t,ZigZag:()=>Mt});var Oe=F(42863),fe=F(38489),Ie=F(35866),De=F(54416);class Se extends fe.W{constructor(){super(...arguments),Object.defineProperty(this,"upButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ie.z.new(this._root,{themeTags:["up","control","panel"],icon:De.T.new(this._root,{themeTags:["icon","button"]})}))}),Object.defineProperty(this,"downButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ie.z.new(this._root,{themeTags:["down","control","panel"],icon:De.T.new(this._root,{themeTags:["icon","button"]})}))}),Object.defineProperty(this,"expandButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ie.z.new(this._root,{themeTags:["expand","control","panel"],icon:De.T.new(this._root,{themeTags:["icon","button"]})}))}),Object.defineProperty(this,"closeButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ie.z.new(this._root,{themeTags:["close","control","panel"],icon:De.T.new(this._root,{themeTags:["icon","button"]})}))})}_afterNew(){super._afterNew();const t=this.upButton;this.downButton.events.on("click",()=>{this.get("stockPanel").moveDown()}),t.events.on("click",()=>{this.get("stockPanel").moveUp()}),this.closeButton.events.on("click",()=>{this.get("stockPanel").close()}),this.expandButton.events.on("click",()=>{this.get("stockPanel").expand()})}}Object.defineProperty(Se,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PanelControls"}),Object.defineProperty(Se,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.W.classNames.concat([Se.className])});var et=F(57333),B=F(49648),q=F(98357),_=F(11951),ee=F(11754);class te{static getIcon(t){const e=te.icons;return te._getSVG(e[t]||e.Default)}static _getSVG(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox",t.viewbox),e.setAttribute("class","am5stock_control_default_icon");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t.path),e.appendChild(i),t.style&&i.setAttribute("style",t.style),e}}Object.defineProperty(te,"icons",{enumerable:!0,configurable:!0,writable:!0,value:{Default:{viewbox:"0 0 50 50",path:"M 25 10 L 25 40 M 10 25 L 41 25"},Indicator:{viewbox:"0 0 50 50",path:"M 2 10 C 28 27 31 1 48 11 M 1 49 C 24 22 25 38 48 44 M 3 25 L 48 25 L 41 19 M 48 25 L 41 31"},Color:{viewbox:"0 0 50 50",path:""},Dash:{viewbox:"0 0 60 16",path:"M0,8 60,8"},Calendar:{viewbox:"0 0 50 50",path:"M 3 8 L 47 8 L 47 49 L 3 49 L 3 8 M 3 19 L 47 19 M 9 28 L 15 28 M 22 28 L 28 28 M 35 28 L 41 28 M 9 39 L 15 39 M 22 39 L 28 39 M 35 39 L 41 39 M 12 14 L 12 1 M 38 14 L 38 1"},Period:{viewbox:"0 0 50 50",path:"M 3 3 L 47 3 L 47 48 L 3 48 L 3 3 M 3 12 L 47 12 M 9 21 L 15 21 M 22 21 L 28 21 M 35 21 L 41 21 M 9 30 L 15 30 M 22 30 L 28 30 M 35 30 L 41 30 M 9 39 L 15 39 M 22 39 L 28 39 M 35 39 L 41 39"},Interval:{viewbox:"0 0 50 50",path:"M 3 10 L 3 48 M 3 10 L 43 10 M 13 10 L 13 36 M 23 10 L 23 36 M 43 10 L 43 48 M 33 10 L 33 36"},Comparison:{viewbox:"0 0 50 50",path:"M 25 10 L 25 40 M 10 25 L 41 25"},Settings:{viewbox:"0 0 50 50",path:"M49,25 L47.6,33.2 L41.3,32.6 L39.7,35.3 L43.4,40.4 L37,45.8 L32.6,41.3 L29.7,42.4 L29.2,48.6 L20.8,48.6 L20.3,42.4 L17.4,41.3 L13,45.8 L6.6,40.4 L10.3,35.3 L8.7,32.6 L2.4,33.2 L1,25 L7.1,23.4 L7.6,20.3 L2.4,16.8 L6.6,9.6 L12.3,12.3 L14.7,10.3 L13,4.2 L20.8,1.4 L23.4,7.1 L26.6,7.1 L29.2,1.4 L37,4.2 L35.3,10.3 L37.7,12.3 L43.4,9.6 L47.6,16.8 L42.4,20.3 L42.9,23.4 L49,25 M 17 25 A 1 1 0 0 0 33 25 A 1 1 0 0 0 17 25"},"Line Series":{viewbox:"0 0 50 50",path:"M 3 28 L 14 18 L 25 32 L 36 9 L 47 19"},"Area Series":{viewbox:"0 0 50 50",path:"M 3 20 L 14 13 L 25 20.95 L 37 9 L 48 16 L 48 48 M 8 17 L 8 48 M 13 14 L 13 48 M 18 16 L 18 48 M 23 20 L 23 48 M 28 18 L 28 48 M 33 13 L 33 48 M 38 10 L 38 48 M 43 13 L 43 48 M 3 20 L 3 48"},"Candlestick Series":{viewbox:"0 0 50 50",path:"M 3 17 L 3 37 L 19 37 M 19 37 L 19 17 L 3 17 M 11 17 L 11 6 M 11 37 L 11 50 M 30 11 L 30 31 L 46 31 L 46 11 L 30 11 M 38 11 L 38 0 M 38 31 L 38 44 M 3 22 L 19 22 M 3 27 L 19 27 M 3 32 L 19 32 M 30 16 L 46 16 M 30 21 L 46 21 M 30 26 L 46 26"},"Pro Candlestick Series":{viewbox:"0 0 50 50",path:"M 3 10 L 3 31 L 19 31 M 19 31 L 19 10 L 3 10 M 11 10 L 11 0 M 11 31 L 11 43 M 30 17 L 30 37 L 46 37 L 46 17 L 30 17 M 38 17 L 38 4 M 38 37 L 38 50 M 30 22 L 46 22 M 30 27 L 46 27 M 30 32 L 46 32"},"OHLC Series":{viewbox:"0 0 50 50",path:"M 11 31 L 20 31 M 11 3 L 11 43 M 38 5 L 38 50 M 29 36 L 38 36 M 38 12 L 47 12 M 11 17 L 2 17"},Draw:{viewbox:"0 0 50 50",path:"M 29 2 L 48 21 L 22 47 L 3 47 L 3 28 L 29 2 M 23 8 L 42 27 M 3 42 L 8 47 M 18 39 L 36 21 M 11 32 L 29 14 M 3 28 L 11 32 L 13 38 L 18 39 L 22 47 M 25 6 L 44 25 M 27 4 L 46 23 M 3 44 L 6 47 M 3 40 L 10 47"},Average:{viewbox:"0 0 50 50",path:"M2 24a5 5 0 1 0 10 0 5 5 0 1 0-10 0M12 24h26M38 24a5 5 0 1 0 10 0 5 5 0 1 0-10 0"},Callout:{viewbox:"0 0 50 50",path:"M 3 3 L 47 3 L 47 39 L 31 39 L 25 45 L 19 39 L 3 39 L 3 3 M 11 12 L 39 12 M 11 20 L 39 20 M 11 28 L 39 28"},Doodle:{viewbox:"0 0 48 48",path:"M 43.036,2.509 C 32.59,9.83 8.05,6.67 6.29,15.01 5.19,26.29 34.40,18.9 37.4,27.5 c 1.4,3.78 -4.0,8 -15.7,13.18"},Ellipse:{viewbox:"0 0 50 50",path:"M 25 5 a 22 20 0 1 0 1 0 z"},Fibonacci:{viewbox:"0 0 50 50",path:"M2 3 h46 M2 11.5 h46 M2 24 h46 M2 49 h46"},"Fibonacci Timezone":{viewbox:"0 0 50 50",path:"M5 2.5 v46 M13.5 2.5 v46 M26 2.5 v46 M46.5 2.5 v46"},"Horizontal Line":{viewbox:"0 0 50 50",path:"M20 24a5 5 0 1 0 10 0 5 5 0 1 0-10 0M2 24h18 M32,24 h18"},"Horizontal Ray":{viewbox:"0 0 50 50",path:"M2 24a5 5 0 1 0 10 0 5 5 0 1 0-10 0 M14,24 h36"},"Arrows &amp; Icons":{viewbox:"0 0 50 50",path:"M 5 35 L 5 15 L 26 15 M 26 15 L 26 5 L 45 26 L 26 45 L 26 35 L 5 35"},Label:{viewbox:"0 0 50 50",path:"M 10 45 l 15 -32 l 15 32 m -24 -13 l 18 0",style:"stroke-width: 1.2px"},Line:{viewbox:"0 0 50 50",path:"M 4 46 L 46 4"},Polyline:{viewbox:"0 0 50 50",path:"M 2 15 L 16 42 L 36 22 L 48 29"},"Quadrant Line":{viewbox:"0 0 50 50",path:"M2 3 h46 M2 15 h46 M2 29 h46 M2 43 h46"},Rectangle:{viewbox:"0 0 50 50",path:"M3 3 L47 3 L47 47 L3 47 L3 3"},Regression:{viewbox:"0 0 50 50",path:"M 2 15 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0 M 11.36 17.369 L 38.661 32.505 M 38 35 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0"},"Trend Line":{viewbox:"0 0 50 50",path:"M 2 35 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0 M 11.343 32.542 L 38.614 17.398 M 38 15 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0"},"Vertical Line":{viewbox:"0 0 50 50",path:"M19 25a5 5 0 1 0 10 0 5 5 0 1 0-10 0M24 2v18 M24,32 v18"},Eraser:{viewbox:"0 0 50 50",path:"M 13 48 L 21 48 L 45 24 L 29 8 L 1 36 L 13 48 M 32 48 L 38 48 M 43 48 L 49 48 M 23 14 L 39 30 M 20 17 L 36 33 M 26 11 L 42 27"},Clear:{viewbox:"0 0 50 50",path:"M 6 10 L 12 48 L 38 48 L 44 10 L 6 10 M 14 14 L 18 43 M 25 14 L 25 43 M 36 14 L 32 43 M 6 8 L 44 8 M 21 8 L 21 3 L 30 3 L 30 8"},Bold:{viewbox:"0 0 50 50",path:"M 12 4 L 12 47 L 32 47 C 45 47 47 23 32 23 C 42 23 42 4 31 4 L 12 4 Z M 32 23 L 12 23 Z",style:"stroke-width: 1.8px"},Italic:{viewbox:"0 0 50 50",path:"M 17 5 L 38 5 M 27 5 L 18 47 M 8 47 L 28 47"},"Show Extension":{viewbox:"0 0 50 50",path:"M 10 15 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0 M 30 36 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0 M 40 41 L 50 50 M 20 20 L 30 30 M 10 10 L 0 0"},Snap:{viewbox:"0 0 50 50",path:"M 17 29 L 29 29 M 33 39 a 5 5 0 1 0 16 3 a 5 5 0 1 0 -16 -3 M 29 17 L 29 29 L 3 3"},Reset:{viewbox:"0 0 50 50",path:"M 4 25 A 1 1 0 0 0 46 25 Q 46 4 25 4 Q 18 4 11 10 L 5 4 L 5 16 L 17 16 L 11 10"},Search:{viewbox:"0 0 50 50",path:"M 5 11 A 1 1 90 0 0 36 27 A 1 1 90 0 0 5 11 M 34 30 L 49 45 L 47 47 L 32 32"}}});var be=F(71765);class ie extends et.Q{setupDefaultRules(){super.setupDefaultRules();const t=this._root.language,e=this.rule.bind(this),i=this._root.verticalLayout,s=this._root.interfaceColors;e("StockChart").setAll({paddingLeft:18,paddingRight:18,paddingTop:5,paddingBottom:15,width:B.AQ,height:B.AQ,layout:i,percentScaleSeriesSettings:{valueYShow:"valueYChangeSelectionPercent",openValueYShow:"openValueYChangeSelectionPercent",highValueYShow:"highValueYChangeSelectionPercent",lowValueYShow:"lowValueYChangeSelectionPercent"},percentScaleValueAxisSettings:{numberFormat:"#.##'%'",interpolationDuration:0,extraMax:.05,strictMinMaxSelection:!0},autoSetPercentScale:!0}),e("StockPanel").setAll({minHeight:1}),e("StockPanel").states.create("hidden",{height:B.p0,visible:!1}),e("XYChart",["stock"]).setAll({paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:15,minHeight:80,wheelZoomPositionX:1}),e("XYChart",["stock","scrollbar"]).setAll({minHeight:0}),e("StockLegend").setAll({clickTarget:"marker"}),e("Label").setAll({fontSize:"0.8em"}),e("Legend",["stocklegend"]).setAll({paddingTop:6,paddingLeft:6}),e("Container",["itemcontainer","legend","stocklegend"]).setAll({marginLeft:2,marginRight:2,marginTop:2,marginBottom:2}),e("Label",["legend","value","label","stocklegend"]).setAll({width:null,paddingRight:5}),e("ColumnSeries").setAll({useLastColorForLegendMarker:!0});{const r=e("RoundedRectangle",["legend","itemcontainer","background","stocklegend"]);r.setAll({fillOpacity:1,cornerRadiusBL:4,cornerRadiusBR:4,cornerRadiusTL:4,cornerRadiusTR:4,shadowOffsetX:0,shadowOffsetY:0,shadowOpacity:.3,shadowBlur:5,interactive:!0}),(0,q.v)(r,"shadowColor",s,"alternativeBackground"),(0,q.v)(r,"fill",s,"background")}{const r=e("Rectangle",["panelresizer"]);r.setAll({width:B.AQ,height:15,centerY:B.AQ,fillOpacity:0,fill:s.get("alternativeBackground"),cursorOverStyle:"row-resize",interactive:!0}),r.states.create("hover",{fillOpacity:.07})}e("Grid",["renderer","base","y"]).setAll({strokeOpacity:.15}),e("Button",["zoom"]).setAll({forceHidden:!0}),e("AxisRendererY",["y"]).setAll({opposite:!0}),e("Container",["legend","item"]).setAll({});{const r=e("Graphics",["axis","fill"]);r.setAll({visible:!0,position:"absolute",fillOpacity:.05}),(0,q.v)(r,"fill",s,"alternativeBackground")}{const r=e("PanelControls");r.setAll({x:B.AQ,y:0,centerX:B.AQ,paddingTop:10,paddingRight:10,layer:30,layout:this._root.horizontalLayout,opacity:.5}),r.states.create("hover",{opacity:1})}e("Button",["control","item"]).setAll({paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2,centerX:B.CI,centerY:B.CI,forceHidden:!0}),e("Button",["control","item","settings"]).setAll({forceHidden:!1}),e("RoundedRectangle",["background","control","button"]).setAll({fillOpacity:0,strokeOpacity:0});{const r=e("Graphics",["control","button","icon"]).states.create("hover",{fillOpacity:.5});(0,q.v)(r,"fill",s,"secondaryButtonHover")}{const r=e("Graphics",["control","button","icon"]).states.create("down",{fillOpacity:.5});(0,q.v)(r,"fill",s,"primaryButtonDown")}e("Button",["panel"]).setAll({scale:1.2,paddingLeft:0,paddingRight:0,marginLeft:6});{const r=e("Graphics",["close","button","icon"]);r.setAll({strokeOpacity:.7,strokeWidth:.5,draw:n=>{n.moveTo(-5,-5),n.lineTo(5,5),n.moveTo(-5,5),n.lineTo(5,-5),n.moveTo(0,0),n.drawCircle(0,0,10)}}),(0,q.v)(r,"stroke",s,"secondaryButtonText"),(0,q.v)(r,"fill",s,"background")}{const r=e("Graphics",["settings","button","icon"]);r.setAll({strokeOpacity:.7,strokeWidth:.5,draw:n=>{const p=40*be.sE/2;n.moveTo(10,0);let g=0,m=5*be.sE;for(let w=0;w<9;w++)g+=p,n.lineTo(10*Math.cos(g),10*Math.sin(g)),n.lineTo(8*Math.cos(g+m),8*Math.sin(g+m)),g+=p,n.lineTo(8*Math.cos(g-m),8*Math.sin(g-m)),n.lineTo(10*Math.cos(g),10*Math.sin(g));n.drawCircle(0,0,4)}}),(0,q.v)(r,"stroke",s,"secondaryButtonText"),(0,q.v)(r,"fill",s,"background")}{const r=e("Graphics",["up","button","icon"]);r.setAll({strokeOpacity:.7,strokeWidth:.5,draw:n=>{n.moveTo(0,5),n.lineTo(0,-5),n.moveTo(0,-5),n.lineTo(-5,0),n.moveTo(0,-5),n.lineTo(5,0),n.drawCircle(0,0,10)}}),(0,q.v)(r,"stroke",s,"secondaryButtonText"),(0,q.v)(r,"fill",s,"background")}{const r=e("Graphics",["expand","button","icon"]);r.setAll({strokeOpacity:.7,strokeWidth:.5,draw:n=>{n.moveTo(-5,-2),n.lineTo(-5,-5),n.lineTo(5,-5),n.lineTo(5,-2),n.moveTo(5,2),n.lineTo(5,5),n.lineTo(-5,5),n.lineTo(-5,2),n.drawCircle(0,0,10)}}),(0,q.v)(r,"stroke",s,"secondaryButtonText"),(0,q.v)(r,"fill",s,"background")}{const r=e("Graphics",["down","button","icon"]);r.setAll({strokeOpacity:.7,strokeWidth:.5,draw:n=>{n.moveTo(0,-5),n.lineTo(0,5),n.moveTo(0,5),n.lineTo(-5,0),n.moveTo(0,5),n.lineTo(5,0),n.drawCircle(0,0,10)}}),(0,q.v)(r,"stroke",s,"secondaryButtonText"),(0,q.v)(r,"fill",s,"background")}e("Indicator").setAll({position:"absolute"}),e("Container",["drawing","grip"]).states.create("hover",{});{const r=e("Circle",["drawing","grip"]);r.setAll({strokeOpacity:.7,strokeWidth:1,radius:5}),(0,q.v)(r,"fill",s,"background"),(0,q.v)(r,"stroke",s,"alternativeBackground");const n=r.states.create("hover",{strokeWidth:2});(0,q.v)(n,"stroke",s,"negative")}e("Circle",["drawing","grip","outline","label"]).setAll({forceHidden:!0}),e("Circle",["drawing","grip","label"]).setAll({forceHidden:!0}),e("Circle",["drawing","grip","callout"]).setAll({fillOpacity:0,forceHidden:!0}),e("Circle",["drawing","grip","outline","callout"]).setAll({forceHidden:!1});{const r=e("Graphics",["series","fill","drawing"]);r.setAll({fillOpacity:.2,visible:!0,draggable:!0}),r.states.create("hover",{fillOpacity:.4})}e("Line",["drawing"]).setAll({strokeDasharray:[2,2],strokeWidth:1,draggable:!0}),e("Line",["drawing","hit"]).setAll({strokeWidth:20,strokeOpacity:0,strokeDasharray:0,draggable:!0}),e("Line",["drawing","hit","horizontal"]).setAll({strokeWidth:20}),e("Line",["drawing","hit","vertical"]).setAll({strokeWidth:20}),e("Line",["drawing","hit","ray"]).setAll({strokeWidth:20});{const n=e("Line",["drawing","horizontal"]).states.create("hover",{});(0,q.v)(n,"stroke",s,"negative")}{const r=e("Line",["drawing","ray"]);r.setAll({strokeWidth:2,strokeDasharray:0});const n=r.states.create("hover",{});(0,q.v)(n,"stroke",s,"negative")}{const r=e("Line",["drawing","vertical"]);r.setAll({strokeWidth:2,strokeDasharray:0});const n=r.states.create("hover",{});(0,q.v)(n,"stroke",s,"negative")}{const r=e("Graphics",["series","fill","drawing","doodle"]);r.setAll({fillOpacity:0}),r.states.create("hover",{fillOpacity:0})}{const r=e("Graphics",["line","series","stroke","drawing"]);r.setAll({strokeWidth:2,draggable:!0});const n=r.states.create("hover",{});(0,q.v)(n,"stroke",s,"negative")}{const r=e("Graphics",["drawing","icon"]);r.setAll({centerX:B.CI,centerY:B.AQ,strokeOpacity:1,strokeWidth:2});const n=r.states.create("hover",{});(0,q.v)(n,"stroke",s,"negative")}e("Label",["drawing","label"]).setAll({centerX:B.p0,centerY:B.CI}),e("PointedRectangle",["drawing","callout"]).setAll({fillOpacity:1,strokeOpacity:0});{const r=e("Ellipse",["drawing"]);r.setAll({strokeOpacity:1,strokeWidth:2,isMeasured:!1,position:"absolute",draggable:!0,fillOpacity:.25});const n=r.states.create("hover",{fillOpacity:.5});(0,q.v)(n,"stroke",s,"negative")}e("FibonacciSeries").setAll({sequence:[0,.236,.382,.5,.618,.768,1,1.618,2.618,3.618,4.236],colors:[(0,_.$_)(8816262),(0,_.$_)(15550524),(0,_.$_)(8635526),(0,_.$_)(5221203),(0,_.$_)(364931),(0,_.$_)(6927601),(0,_.$_)(8816262),(0,_.$_)(3171832),(0,_.$_)(15550524),(0,_.$_)(9972651),(0,_.$_)(14820453)]}),e("IconSeries").setAll({snapToData:!0}),e("Graphics",["line","series","stroke","drawing","fibonacci"]).setAll({forceInactive:!0,strokeWidth:.5,strokeOpacity:1}),e("Graphics",["line","series","fill","drawing","fibonacci"]).setAll({forceInactive:!0,draggable:!1}),e("Label",["fibonacci"]).setAll({populateText:!0,text:"{sequence} ({value.formatNumber('#.00')})",centerX:B.AQ,centerY:B.AQ,paddingBottom:2,fontSize:"0.8em"}),e("Label",["fibonaccitimezone"]).setAll({populateText:!0,text:"{value}",centerX:B.CI,centerY:B.AQ,paddingBottom:2,fontSize:"0.8em"}),e("FibonacciTimezoneSeries").setAll({sequence:[1,2,3,5,8,13,21,34,55,89],colors:[]}),e("Graphics",["line","series","fill","drawing","fibonaccitimezone"]).setAll({forceInactive:!0,draggable:!1,fillOpacity:.1}),e("Graphics",["line","series","stroke","drawing","fibonaccitimezone"]).setAll({forceInactive:!0,strokeWidth:.5,strokeOpacity:1}),e("Grid",["overbought"]).setAll({strokeOpacity:.3}),e("Grid",["oversold"]).setAll({strokeOpacity:.3}),e("Graphics",["rsi","oversold","fill"]).setAll({visible:!0,fillOpacity:.2}),e("Graphics",["williamsr","oversold","fill"]).setAll({visible:!0,fillOpacity:.2}),e("Graphics",["commoditychannelindex","oversold","fill"]).setAll({visible:!0,fillOpacity:.2}),e("Graphics",["rsi","overbought","fill"]).setAll({visible:!0,fillOpacity:.2}),e("Graphics",["williamsr","overbought","fill"]).setAll({visible:!0,fillOpacity:.2}),e("Graphics",["commoditychannelindex","overbought","fill"]).setAll({visible:!0,fillOpacity:.2}),e("Graphics",["fill","bollingerbands","upper"]).setAll({fillOpacity:.2}),e("Graphics",["fill","movingaverageenvelope","upper"]).setAll({fillOpacity:.2}),e("Graphics",["series","line","accumulativeswingindex"]).setAll({fillOpacity:.2,visible:!0}),e("XYChart",["indicator"]).setAll({height:(0,B.aQ)(30),minHeight:80}),e("AxisLabel",["x","indicator"]).setAll({forceHidden:!0}),e("XYSeries",["indicator"]).setAll({legendLabelText:"{name}"}),e("LineSeries",["rsi"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field})"}),e("LineSeries",["williamsr"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("LineSeries",["commoditychannelindex"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("LineSeries",["stochastic"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/] [{slowColor} bold]{slow.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field})"}),e("LineSeries",["indicator","bollingerbands"]).setAll({legendValueText:"[{lowerColor} bold]{lower.formatNumber('#.000a')}[/] [{seriesColor} bold]{valueY.formatNumber('#.000a')}[/] [{upperColor} bold]{upper.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field},{standardDeviations.formatNumber('#.')},{type})"}),e("LineSeries",["movingaverage"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field},{type},{offset.formatNumber('#.')})"}),e("LineSeries",["zigzag"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({deviation.formatNumber('#.')}, {depth.formatNumber('#.')})"}),e("LineSeries",["indicator","movingaverageenvelope"]).setAll({legendValueText:"[{lowerColor} bold]{lower.formatNumber('#.000a')}[/] [{seriesColor} bold]{valueY.formatNumber('#.000a')}[/] [{upperColor} bold]{upper.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field},{shiftType},{shift.formatNumber('#.')},{type})"}),e("LineSeries",["vwap"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field})"}),e("LineSeries",["accumulationdistribution"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({useVolume})"}),e("LineSeries",["disparityindex"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field},{movingAverageType})"}),e("LineSeries",["chaikinmoneyflow"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("LineSeries",["chaikinoscillator"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{slowPeriod.formatNumber('#.')})"}),e("LineSeries",["onbalancevolume"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName}"}),e("LineSeries",["accumulativeswingindex"]).setAll({legendValueText:"[{swingColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({limitMoveValue})"}),e("LineSeries",["aroon"]).setAll({legendValueText:"[{upColor} bold]{up.formatNumber('#.000a')}[/] [{downColor} bold]{down.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("ColumnSeries",["awesomeoscillator"]).setAll({legendValueText:"[{oscillatorColor}; bold]{valueY.formatNumber('#.000a')}[/]"}),e("ColumnSeries",["volume"]).setAll({legendValueText:"[{volumeColor}; bold]{valueY.formatNumber('#.000a')}[/]"}),e("ColumnSeries",["movingaveragedeviation"]).setAll({legendValueText:"[{deviationColor}; bold]{valueY.formatNumber('#.000a')}[/]"}),e("LineSeries",["standarddeviation"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')},{field})"}),e("LineSeries",["typicalprice"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("LineSeries",["trix"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.00')}[/] [{signalColor} bold]{signal.formatNumber('#.000')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("LineSeries",["medianprice"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000a')}[/]",legendLabelText:"{shortName} ({period.formatNumber('#.')})"}),e("LineSeries",["macd"]).setAll({legendValueText:"[{seriesColor} bold]{valueY.formatNumber('#.000')}[/] [{signalColor} bold]{signal.formatNumber('#.000')}[/] [bold {differenceColor}]{difference.formatNumber('#.000')}[/b]",legendLabelText:"{shortName} ({fastPeriod.formatNumber('#.')},{slowPeriod.formatNumber('#.')},{signalPeriod.formatNumber('#.')})"}),e("RoundedRectangle",["macd","difference"]).setAll({fillOpacity:.5,strokeOpacity:0}),e("RoundedRectangle",["series","column","awesomeoscillator"]).setAll({fillOpacity:.5,strokeOpacity:0});{const r=e("RoundedRectangle",["series","column","volume"]);r.setAll({fillOpacity:.5,stroke:s.get("background"),strokeOpacity:.2}),r.adapters.add("fill",(n,o)=>{const u=o.dataItem;if(u){const h=u.dataContext;if(null!=h.volumeColor)return h.volumeColor}return n})}e("RoundedRectangle",["series","column","movingaveragedeviation"]).setAll({fillOpacity:.5,strokeOpacity:0}),e("Grid",["renderer","y","rsi"]).setAll({forceHidden:!0}),e("AxisLabel",["renderer","y","rsi"]).setAll({forceHidden:!0}),e("Grid",["renderer","y","williamsr"]).setAll({forceHidden:!0}),e("AxisLabel",["renderer","y","williamsr"]).setAll({forceHidden:!0}),e("Grid",["renderer","y","commoditychannelindex"]).setAll({forceHidden:!0}),e("AxisLabel",["renderer","y","commoditychannelindex"]).setAll({forceHidden:!0}),e("Grid",["renderer","y","stochastic"]).setAll({forceHidden:!0}),e("AxisLabel",["renderer","y","stochastic"]).setAll({forceHidden:!0}),e("MovingAverage").setAll({name:"Moving Average",shortName:"MA",seriesColor:(0,_.$_)(11240154),type:"simple",field:"close",period:20,offset:0}),e("ZigZag").setAll({name:"ZigZag",shortName:"ZigZag",seriesColor:s.get("alternativeBackground"),deviation:5,depth:3}),e("MovingAverageEnvelope").setAll({name:"Moving Average Envelope",shortName:"MA ENV",seriesColor:(0,_.$_)(16748607),upperColor:(0,_.$_)(16763208),lowerColor:(0,_.$_)(16756596),type:"simple",field:"close",period:20,offset:0,shift:5,shiftType:"percent"}),e("MovingAverageDeviation").setAll({name:"Moving Average Deviation",shortName:"MA Dev",increasingColor:s.get("positive"),decreasingColor:s.get("negative"),type:"simple",field:"close",period:20}),e("StandardDeviation").setAll({name:"Standard Deviation",seriesColor:s.get("alternativeBackground"),shortName:"STDEV",field:"close",period:20}),e("TypicalPrice").setAll({name:"Typical Price",seriesColor:s.get("alternativeBackground"),shortName:"Typical Price",field:"hlc/3",period:20}),e("Trix").setAll({name:"Trix",seriesColor:s.get("alternativeBackground"),signalColor:(0,_.$_)(16748607),shortName:"Trix",field:"close",period:20,signalPeriod:9}),e("MedianPrice").setAll({name:"Median Price",seriesColor:s.get("alternativeBackground"),shortName:"Median Price",field:"hl/2",period:20}),e("VWAP").setAll({name:"Volume-Weighted Average Price",shortName:"VWAP",seriesColor:(0,_.$_)(11240154),field:"hlc/3",period:30}),e("AccumulationDistribution").setAll({name:"Accumulation/Distribution",shortName:"Accum/Dist",seriesColor:(0,_.$_)(7368816),useVolume:!0}),e("DisparityIndex").setAll({name:"Disparity Index",shortName:"Disparity",seriesColor:(0,_.$_)(7368816),period:14,field:"close",movingAverageType:"simple"}),e("ChaikinMoneyFlow").setAll({name:"Chaikin Money Flow",shortName:"Chaikin MF",seriesColor:(0,_.$_)(7368816),period:20}),e("ChaikinOscillator").setAll({name:"Chaikin Oscillator",period:3,slowPeriod:10,shortName:"Chaikin Osc",seriesColor:(0,_.$_)(7368816)}),e("OnBalanceVolume").setAll({name:"On Balance Volume",shortName:"On Bal Vol",seriesColor:(0,_.$_)(7368816)}),e("BollingerBands").setAll({name:"Bollinger Bands",shortName:"Bollinger",standardDeviations:2,seriesColor:(0,_.$_)(16748607),upperColor:(0,_.$_)(16763208),lowerColor:(0,_.$_)(16756596)}),e("RelativeStrengthIndex").setAll({name:"Relative Strength Index",shortName:"RSI",period:14,field:"close",overSold:20,overBought:80,overSoldColor:(0,_.$_)(14942208),overBoughtColor:(0,_.$_)(6797276),seriesColor:(0,_.$_)(11240154)}),e("WilliamsR").setAll({name:"Williams %R",shortName:"Williams %R",period:14,field:"close",overSold:-80,overBought:-20,overSoldColor:(0,_.$_)(14942208),overBoughtColor:(0,_.$_)(6797276),seriesColor:(0,_.$_)(11240154)}),e("CommodityChannelIndex").setAll({name:"Commodity Channel Index",shortName:"CCI",period:20,field:"close",overSold:-100,overBought:100,overSoldColor:(0,_.$_)(14942208),overBoughtColor:(0,_.$_)(6797276),seriesColor:(0,_.$_)(11240154)}),e("StochasticOscillator").setAll({name:"Stochastic Oscillator",shortName:"Stochastic",period:14,kSmoothing:1,dSmoothing:3,field:"close",overSold:20,overBought:80,seriesColor:(0,_.$_)(7368816),slowColor:s.get("negative")}),e("AccumulativeSwingIndex").setAll({name:"Accumulative Swing Index",shortName:"ACC Swing",limitMoveValue:1e3,positiveColor:s.get("positive"),negativeColor:s.get("negative")}),e("Aroon").setAll({name:"Aroon",shortName:"Aroon",period:14,upColor:s.get("positive"),downColor:s.get("negative")}),e("AwesomeOscillator").setAll({name:"Awesome Oscillator",shortName:"Awesome",increasingColor:s.get("positive"),decreasingColor:s.get("negative")}),e("Volume").setAll({name:"Volume",shortName:"Volume",increasingColor:s.get("positive"),decreasingColor:s.get("negative")}),e("MACD").setAll({name:"MACD",field:"close",shortName:"MACD",fastPeriod:12,slowPeriod:26,signalPeriod:9,increasingColor:s.get("positive"),decreasingColor:s.get("negative"),seriesColor:(0,_.$_)(11240154),signalColor:(0,_.$_)(16748607)}),e("Grid",["cursor","y","indicator"]).set("forceHidden",!0),e("StockControl").setAll({visible:!0,active:!1}),e("IndicatorControl").setAll({name:t.translateAny("Indicators"),indicators:["Aroon","Accumulation Distribution","Accumulative Swing Index","Awesome Oscillator","Bollinger Bands","Chaikin Money Flow","Chaikin Oscillator","Commodity Channel Index","Disparity Index","MACD","Median Price","Moving Average","Moving Average Deviation","Moving Average Envelope","On Balance Volume","Relative Strength Index","Standard Deviation","Stochastic Oscillator","Trix","Typical Price","Volume","VWAP","Williams R","ZigZag"]}),e("ComparisonControl").setAll({name:t.translateAny("Comparison")});const a=[{svgPath:"M 5 35 L 5 15 L 26 15 L 26 5 L 45 25 L 26 45 L 26 35 L 5 35 Z",scale:1,centerX:(0,B.aQ)(100),centerY:(0,B.aQ)(50)},{svgPath:"M 45 35 L 45 15 L 24 15 L 24 5 L 5 25 L 24 45 L 24 35 L 45 35 Z",scale:1,centerX:(0,B.aQ)(0),centerY:(0,B.aQ)(50)},{svgPath:"M 35 5 L 15 5 L 15 26 L 5 26 L 25 45 L 45 26 L 35 26 L 35 5 Z",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(100)},{svgPath:"M 35 45 L 15 45 L 15 24 L 5 24 L 25 5 L 45 24 L 35 24 L 35 45 Z",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(0)},{svgPath:"M 5 25 A 1 1 0 0 0 45 25 A 1 1 0 0 0 5 25 M 14 19 A 1 1 0 0 0 19 19 A 1 1 0 0 0 14 19 M 36 19 A 1 1 0 0 0 31 19 A 1 1 0 0 0 36 19 M 16 32 C 20 39 30 39 34 32",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(50)},{svgPath:"M 5 25 A 1 1 0 0 0 45 25 A 1 1 0 0 0 5 25 M 14 19 A 1 1 0 0 0 19 19 A 1 1 0 0 0 14 19 M 36 19 A 1 1 0 0 0 31 19 A 1 1 0 0 0 36 19 M 33 37 C 28 32 21 32 16 37",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(50)},{svgPath:"M 5 25 A 1 1 0 0 0 45 25 A 1 1 0 0 0 5 25 M 14 19 A 1 1 0 0 0 19 19 A 1 1 0 0 0 14 19 M 36 19 A 1 1 0 0 0 31 19 A 1 1 0 0 0 36 19 M 32 35 L 18 35",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(50)},{svgPath:"M 25 46 C 25 38 -6 18 10 5 C 16 1 25 3 25 10 C 25 3 34 1 40 5 C 56 18 25 38 25 46",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(100)},{svgPath:"M 2 43 L 2 4 L 26 4 L 17 15 L 26 26 L 2 26 Z",scale:1,centerX:(0,B.aQ)(0),centerY:(0,B.aQ)(100)},{svgPath:"M 25,2 L 25,2 L 33,14 L 47,18 L 37,29 L 39,44 L 25,38 L 11,44 L 13,29 L 3,18 L 17,14 L 25,2 Z",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(50)},{svgPath:"M 25,2 L 25,2 L 30,13 L 41,9 L 37,20 L 48,25 L 37,30 L 41,41 L 30,37 L 25,48 L 20,37 L 9,41 L 13,30 L 2,25 L 13,20 L 9,9 L 20,13 L 25,2 Z",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(50)},{svgPath:"M 25,2 L 25,2 L 30,10 L 39,6 L 38,16 L 47,18 L 41,25 L 47,32 L 38,34 L 39,44 L 30,40 L 25,48 L 20,40 L 11,44 L 12,34 L 3,32 L 9,25 L 3,18 L 12,16 L 11,6 L 20,10 L 25,2 Z",scale:1,centerX:(0,B.aQ)(50),centerY:(0,B.aQ)(50),style:{fillOpacity:0}},{svgPath:"M 8 8 L 25 25 L 8 42 M 20 8 L 37 25 L 20 42",scale:1,centerX:(0,B.aQ)(100),centerY:(0,B.aQ)(50),fillDisabled:!0},{svgPath:"M 42 8 L 25 25 L 42 42 M 30 8 L 13 25 L 30 42",scale:1,centerX:(0,B.aQ)(0),centerY:(0,B.aQ)(50),fillDisabled:!0},{svgPath:"M 42 42 L 25 25 L 9 42 M 9 29 L 25 13 L 42 30",scale:1,centerX:(0,B.aQ)(100),centerY:(0,B.aQ)(50),fillDisabled:!0},{svgPath:"M 42 8 L 25 25 L 8 8 M 8 20 L 25 37 L 42 20",scale:1,centerX:(0,B.aQ)(100),centerY:(0,B.aQ)(50),fillDisabled:!0}];e("DrawingControl").setAll({name:t.translateAny("Draw"),tool:"Line",tools:["Average","Callout","Doodle","Ellipse","Fibonacci","Fibonacci Timezone","Horizontal Line","Horizontal Ray","Arrows &amp; Icons","Label","Line","Polyline","Quadrant Line","Rectangle","Regression","Trend Line","Vertical Line"],togglable:!0,strokeColor:(0,_.$_)(8924671),strokeWidth:2,strokeWidths:[1,2,4,8,16],strokeDasharray:[],strokeDasharrays:[[],[2,2],[6,3],[8,4,2,4]],strokeOpacity:1,showExtension:!0,fillColor:(0,_.$_)(11366143),fillOpacity:.5,labelFill:(0,_.$_)(0),labelFontSize:"12px",labelFontSizes:["8px","10px","11px","12px","14px","16px","20px","24px","36px","48px"],labelFontWeight:"normal",labelFontStyle:"normal",labelFontFamily:"Arial",labelFontFamilies:["Arial","Courier New","Garamond","Georgia","Times New Roman"],drawingIcon:a[0],drawingIcons:a,snapToData:!0}),e("ColorControl").setAll({useOpacity:!0}),e("DateRangeSelector").setAll({description:t.translateAny("Date Range"),minDate:"auto",maxDate:"auto"}),e("PeriodSelector").setAll({description:t.translateAny("Period selector"),togglable:!1,icon:"none",periods:[{timeUnit:"day",count:5,name:"5"+t.translateAny("D")},{timeUnit:"month",count:1,name:"1"+t.translateAny("M")},{timeUnit:"month",count:3,name:"3"+t.translateAny("M")},{timeUnit:"month",count:6,name:"6"+t.translateAny("M")},{timeUnit:"ytd",name:t.translateAny("YTD")},{timeUnit:"year",count:1,name:"1"+t.translateAny("Y")},{timeUnit:"year",count:2,name:"2"+t.translateAny("Y")},{timeUnit:"year",count:5,name:"5"+t.translateAny("Y")},{timeUnit:"max",name:t.translateAny("Max")}]}),e("DropdownListControl").setAll({fixedLabel:!1}),e("DropdownList").setAll({searchable:!0,maxSearchItems:10,items:[]}),e("ComparisonControl").setAll({fixedLabel:!0}),e("SeriesTypeControl").setAll({currentItem:"candlestick",items:[{id:"line",label:t.translateAny("Line"),icon:te.getIcon("Line Series")},{id:"candlestick",label:t.translateAny("Candles"),icon:te.getIcon("Candlestick Series")},{id:"procandlestick",label:t.translateAny("Hollow Candles"),icon:te.getIcon("Pro Candlestick Series")},{id:"ohlc",label:t.translateAny("Sticks"),icon:te.getIcon("OHLC Series")}]}),e("IntervalControl").setAll({currentItem:"1 day",items:[{id:"1 minute",label:"1 "+t.translateAny("minute"),interval:{timeUnit:"minute",count:1}},{id:"2 minute",label:"2 "+t.translateAny("minutes"),interval:{timeUnit:"minute",count:2}},{id:"5 minute",label:"5 "+t.translateAny("minutes"),interval:{timeUnit:"minute",count:5}},{id:"15 minute",label:"15 "+t.translateAny("minutes"),interval:{timeUnit:"minute",count:15}},{id:"30 minute",label:"30 "+t.translateAny("minutes"),interval:{timeUnit:"minute",count:30}},{id:"1 hour",label:"1 "+t.translateAny("hour"),interval:{timeUnit:"hour",count:1}},{id:"4 hour",label:"4 "+t.translateAny("hours"),interval:{timeUnit:"hour",count:4}},{id:"1 day",label:"1 "+t.translateAny("day"),interval:{timeUnit:"day",count:1}},{id:"1 week",label:"1 "+t.translateAny("week"),interval:{timeUnit:"week",count:1}},{id:"1 month",label:"1 "+t.translateAny("month"),interval:{timeUnit:"month",count:1}},{id:"1 year",label:"1 "+t.translateAny("year"),interval:{timeUnit:"year",count:1}}]}),e("DropdownColors").setAll({colors:ee.U.new(this._root,{colors:[(0,_.$_)(0),(0,_.$_)(4607574),(0,_.$_)(5989226),(0,_.$_)(7765380),(0,_.$_)(12172741),(0,_.$_)(14738665),(0,_.$_)(16251135),(0,_.$_)(16777215),(0,_.$_)(7525375),(0,_.$_)(11366143),(0,_.$_)(16744645),(0,_.$_)(16760180),(0,_.$_)(16770950),(0,_.$_)(6615513),(0,_.$_)(16744580),(0,_.$_)(7992509),(0,_.$_)(2866431),(0,_.$_)(8924671),(0,_.$_)(16730797),(0,_.$_)(16753471),(0,_.$_)(16767816),(0,_.$_)(2284476),(0,_.$_)(16724794),(0,_.$_)(45153),(0,_.$_)(491755),(0,_.$_)(6619368),(0,_.$_)(13041797),(0,_.$_)(15033130),(0,_.$_)(15710976),(0,_.$_)(41370),(0,_.$_)(14423085),(0,_.$_)(40022),(0,_.$_)(25035),(0,_.$_)(4391084),(0,_.$_)(9896036),(0,_.$_)(13056778),(0,_.$_)(1472e4),(0,_.$_)(27780),(0,_.$_)(11407653),(0,_.$_)(35148)]})}),e("ResetControl").setAll({description:t.translateAny("Reset"),togglable:!1}),e("SettingsControl").setAll({description:t.translateAny("Settings"),togglable:!0,fixedLabel:!0,items:[{form:"checkbox",id:"fills",label:t.translateAny("Fills")},{id:"y-scale",label:t.translateAny("Y-axis scale"),className:"am5stock-list-info am5stock-list-heading"},{id:"y-scale",form:"radio",value:"percent",label:t.translateAny("Change percent")},{id:"y-scale",form:"radio",value:"regular",label:t.translateAny("Regular")},{id:"y-scale",form:"radio",value:"logarithmic",label:t.translateAny("Logarithmic")}]})}}var P=F(89114),M=F(25905),D=F(53962),X=F(54111),C=F(72659),oe=F(2215),re=F(79522),b=F(43933);class Y extends re.JH{_afterNew(){super._afterNew(),this._defaultThemes=this.get("stockChart")._defaultThemes,super._afterNewApplyThemes(),this._initElements(),this._applyClassNames(),this._root.addDisposer(this)}_initElements(){const t=document.createElement("div");t.setAttribute("title",this.get("description",this.get("name",""))),this.setPrivate("button",t);const e=document.createElement("div");e.appendChild(this._getIcon()),"none"==this.get("icon")&&(e.style.display="none"),t.appendChild(e),this.setPrivate("icon",e);const i=this.get("name",""),s=document.createElement("div");s.innerHTML=i,""==i&&(s.style.display="none"),t.appendChild(s),this.setPrivate("label",s),this._disposers.push(b.Oo(t,"click",a=>{0!=this.get("togglable")&&this._handleClick(),this.events.isEnabled("click")&&this.events.dispatch("click",{type:"click",target:this,originalEvent:a})}))}_applyClassNames(){this.getPrivate("button").className="am5stock am5stock-control am5stock-control-button",this.getPrivate("label").className="am5stock-control-label",this.getPrivate("icon").className="am5stock-control-icon"}_getIcon(){const t=this.get("icon");return t&&"none"!=t?t:this._getDefaultIcon()}_getDefaultIcon(){return te.getIcon("Default")}_beforeChanged(){if(super._beforeChanged(),this.isDirty("visible")&&!this.get("visible")&&(this.getPrivate("button").style.display="none"),this.isDirty("name")&&this._setLabel(this.get("name","")),this.isDirty("active")){const t=this.getPrivate("button");this.get("active")?b.cn(t,"am5stock-control-button-active"):b.IV(t,"am5stock-control-button-active")}this.isDirty("align")&&("right"==this.get("align")?b.cn(this.getPrivate("button"),"am5stock-align-right"):b.IV(this.getPrivate("button"),"am5stock-align-right"))}_dispose(){super._dispose(),b.bX(this.getPrivate("button"))}_setLabel(t){const e=this.getPrivate("label");e.innerHTML=t,e.style.display=""==t?"none":"",this.getPrivate("button").setAttribute("title",this.get("description",this.get("name","")))}hide(){this.getPrivate("button").style.display="none"}show(){this.getPrivate("button").style.display=""}_handleClick(){this.set("active",!this.get("active"))}}Object.defineProperty(Y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StockControl"}),Object.defineProperty(Y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.JH.classNames.concat([Y.className])});class G extends re.JH{_afterNew(){super._afterNew(),this._defaultThemes=this.get("control")._defaultThemes,super._afterNewApplyThemes(),this._initElements(),this._root.addDisposer(this),b.be("keyboardevents")&&this._disposers.push(b.Oo(document,"keydown",t=>{this.isOpen()&&27==t.keyCode&&this.hide()})),this._disposers.push(b.Oo(this.getPrivate("container"),"click",t=>{this.isOpen()&&t.preventDefault()})),this._disposers.push(b.Oo(document,"click",()=>{this.isOpen()&&this.hide()}))}_initElements(){const t=document.createElement("div");t.className="am5stock-control-list-container",this._disposers.push(b.Oo(t,"click",s=>{s.stopPropagation()})),this.setPrivate("container",t);const e=document.createElement("div");e.className="am5stock-control-list-arrow",t.appendChild(e),this.setPrivate("arrow",e);const i=this.get("parent");i&&i.appendChild(t),this.hide()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("parent")){const t=this.get("parent"),e=this.getPrivate("container");t&&e&&t.appendChild(e)}}_dispose(){super._dispose()}isOpen(){return"none"!=this.getPrivate("container").style.display}hide(){this.getPrivate("container").style.display="none",this.events.dispatch("closed",{type:"closed",target:this})}show(){const t=this.getPrivate("arrow"),e=this.getPrivate("container");e.style.display="";let i=0;if(this.get("control").getPrivate("toolbar")){const a=this.get("control").getPrivate("toolbar").get("container");i=Math.round(a.getBoundingClientRect().right-e.getBoundingClientRect().right)}i<0?(e.style.marginLeft=i+"px",t.style.marginLeft=Math.abs(i)+"px"):(e.style.marginLeft="",t.style.marginLeft=""),this.events.dispatch("opened",{type:"opened",target:this})}toggle(){"none"==this.getPrivate("container").style.display?this.show():this.hide()}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Dropdown"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.JH.classNames.concat([G.className])});var x=F(15784);class Z extends G{_afterNew(){super._afterNew(),this._root.addDisposer(this)}_initElements(){super._initElements();const t=this.getPrivate("container"),e=document.createElement("ul");e.className="am5stock-control-colors",t.appendChild(e),this.setPrivate("list",e),this._initItems()}_initItems(){this.getPrivate("list").innerHTML="";let e=this.get("colors");e||(e=ee.U.new(this._root,{}));const i=e.get("colors",[]);x.S6(i,s=>{this.addItem(s)}),this._initOpacity()}_beforeChanged(){super._beforeChanged(),(this.isDirty("colors")||this.isDirty("useOpacity")||this.isPrivateDirty("color")||this.isPrivateDirty("opacity"))&&this._initItems()}_dispose(){super._dispose()}addItem(t){const e=this.getPrivate("color")?this.getPrivate("color").hex:0,i=this.getPrivate("list"),s=document.createElement("li");s.className="am5stock-control-color",e==t.hex&&(s.className+=" am5stock-control-active"),s.style.background=t.toCSS(),i.appendChild(s),this._disposers.push(b.Oo(s,"click",a=>{this.hide(),this.events.dispatch("invoked",{type:"invoked",color:t,target:this})}))}_initOpacity(){if(this.get("useOpacity")){const t=this.getPrivate("opacity",1),e=this.getPrivate("list"),i=document.createElement("hr");e.appendChild(i);for(let s=100;s>=0;s-=25){const a=(0,_.$_)(0),r=document.createElement("li");r.innerHTML=s+"%",r.className="am5stock-control-opacity am5stock-control-opacity-"+s,100*t==s&&(r.className+=" am5stock-control-active"),r.style.background=a.toCSS(s/100),e.appendChild(r),this._disposers.push(b.Oo(r,"click",n=>{this.hide(),this.events.dispatch("invokedOpacity",{type:"invokedOpacity",opacity:s/100,target:this})}))}}}}let he;function _e(l,t,e){const i=t.interfaceColors,s=i.get("secondaryButton").toCSS(),a=i.get("secondaryButtonHover").toCSS(),r=i.get("text").toCSS(),n=i.get("disabled").toCSS(),o=i.get("secondaryButtonActive").toCSS(),u=i.get("background").toCSS();if(!he){const h=new Oe.FV([new b.u0(l,".am5stock-control-button",{display:"inline-block",position:"relative",border:"1px solid "+o,"border-radius":"4px",padding:"3px 0 3px 5px",margin:"2px","z-index":"1",cursor:"default","line-height":"1.5em",color:r}),new b.u0(l,".am5stock-control-button div",{"box-sizing":"initial"}),new b.u0(l,".am5stock-control-button:hover",{background:s}),new b.u0(l,".am5stock-control-button.am5stock-no-hover:hover",{background:"initial"}),new b.u0(l,".am5-modal-content .am5stock-control-button",{padding:"0",border:"none"}),new b.u0(l,".am5stock-control-button.am5stock-align-right",{float:"right"}),new b.u0(l,".am5stock-control-button.am5stock-control-button-active",{background:s,"z-index":"2"}),new b.u0(l,".am5-modal-content .am5stock-control-button.am5stock-control-button-active, .am5-modal-content .am5stock-control-button:hover",{background:"none"}),new b.u0(l,".am5stock-control-icon",{"min-width":"1.2em","min-height":"1.2em","max-width":"1.2em",display:"inline-block",position:"relative",margin:"0 5px 0 0"}),new b.u0(l,".am5stock-control-icon.am5stock-icon-wide",{"max-width":"60px"}),new b.u0(l,".am5stock-control-icon > *",{"vertical-align":"sub"}),new b.u0(l,".am5stock-control-icon > .am5stock-control-icon-color",{"max-width":"20px",width:"20px"}),new b.u0(l,".am5stock-control-icon > .am5stock-control-icon-color-bg",{width:"100%",height:"100%",display:"block",position:"absolute",left:"0",top:"0","z-index":"-1","background-image":"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)","background-size":"10px 10px","background-position":"0 0, 0 5px, 5px -5px, -5px 0px"}),new b.u0(l,".am5stock-control-button path",{"stroke-width":"0.5",stroke:r,fill:"none","vector-effect":"non-scaling-stroke"}),new b.u0(l,".am5stock-control-label",{display:"inline-block",margin:"0 5px 0 0"}),new b.u0(l,".am5stock-control-list-container",{position:"absolute",left:"0",top:"100%","margin-top":"10px",background:u,border:"1px solid "+o,"border-radius":"3px"}),new b.u0(l,".am5stock-align-right .am5stock-control-list-container",{left:"auto",right:"0"}),new b.u0(l,".am5stock-control-list-arrow",{position:"absolute",left:"5px",top:"-5px",border:"solid "+o,"border-width":"0 1px 1px 0",background:u,display:"inline-block",padding:"5px",transform:"rotate(-135deg)"}),new b.u0(l,".am5stock-align-right .am5stock-control-list-arrow",{right:"5px",left:"auto"}),new b.u0(l,".am5stock-control-list",{"list-style":"none",margin:"5px",padding:"2px","white-space":"nowrap"}),new b.u0(l,".am5stock-control-list li",{padding:"2px 6px 2px 6px",position:"relative"}),new b.u0(l,".am5stock-control-list li:hover",{background:s}),new b.u0(l,".am5stock-control-list li.am5stock-list-info",{"font-style":"italic",color:a}),new b.u0(l,".am5stock-control-list .am5stock-list-sub",{"font-size":"0.7em",color:a,display:"block"}),new b.u0(l,".am5stock-control-list li.am5stock-list-info:hover",{background:"none"}),new b.u0(l,".am5stock-control-list li.am5stock-list-heading",{"font-style":"normal","font-weight":"bold",color:"initial","margin-top":"0.3em"}),new b.u0(l,".am5stock-control-list li.am5stock-disabled:hover, .am5stock-control-list li.am5stock-disabled > *",{background:"none",color:n}),new b.u0(l,".am5stock-control-list li svg",{"max-width":"1em","max-height":"1em","margin-right":"0.8em",left:"0px",top:"2px",display:"inline-block"}),new b.u0(l,".am5stock-control-list li svg.am5stock-icon-wide, .am5stock-control-icon > *.am5stock-icon-wide",{width:"60px","max-width":"60px","margin-right":"0"}),new b.u0(l,".am5stock-control-list li div, .am5stock-control-list li label",{display:"inline-block","margin-right":"1em"}),new b.u0(l,".am5stock-control-list li input",{"margin-right":"1em"}),new b.u0(l,".am5stock-list-search",{margin:"0.5em 0.7em","padding-bottom":"0.25em",position:"relative"}),new b.u0(l,".am5stock-list-search input",{border:"1px solid "+s,padding:"6px 10px 6px 30px","margin-top":"5px",background:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjcuNSIvPjxsaW5lIHgxPSIyMSIgeDI9IjE1LjgiIHkxPSIyMSIgeTI9IjE1LjgiLz48L3N2Zz4=) 5px / 20px 20px no-repeat","background-color":"#fff",color:"#888"}),new b.u0(l,".am5stock-list-search input::placeholder",{color:"#888"}),new b.u0(l,".am5stock-control-colors, .am5stock-control-icons",{"list-style":"none",margin:"5px",padding:"2px",width:"240px"}),new b.u0(l,".am5stock-control-colors li, .am5stock-control-icons li",{display:"inline-block",padding:"0",margin:"0",border:"3px solid "+u,width:"24px",height:"24px",position:"relative"}),new b.u0(l,".am5stock-control-colors li:hover, .am5stock-control-colors li.am5stock-control-active, .am5stock-control-icons li:hover, .am5stock-control-icons li.am5stock-control-active",{"border-color":"rgba(200, 200, 200, 1)"}),new b.u0(l,".am5stock-control-colors li.am5stock-control-opacity",{width:"42px","text-align":"center"}),new b.u0(l,".am5stock-control-colors li.am5stock-control-opacity",{width:"42px","text-align":"center","font-size":"12px","line-height":"24px"}),new b.u0(l,".am5stock-control-opacity-100, .am5stock-control-opacity-75, .am5stock-control-opacity-50",{color:"#fff"}),new b.u0(l,".am5stock-row",{display:"flex","flex-direction":"row"}),new b.u0(l,".am5stock-column",{"min-width":"200px",display:"inline-block",padding:"1em"}),new b.u0(l,".am5stock-group",{"white-space":"nowrap","padding-bottom":"0.25em","border-bottom":"1px solid "+s,position:"relative"}),new b.u0(l,".am5stock-group input",{border:"none",padding:"3px 5px",width:"100%","box-sizing":"border-box"}),new b.u0(l,".am5stock-small",{"font-size":"0.7em"}),new b.u0(l,".am5stock-link",{display:"inline-block",margin:"0 0.15em",padding:"0 3px","border-radius":"3px"}),new b.u0(l,".am5stock-link.am5stock-active, .am5stock-link:hover",{background:s}),new b.u0(l,".am5stock-link.am5stock-hidden",{display:"none"}),new b.u0(l,".am5stock-drawing-label-wrapper",{"background-color":u,"bakcground-opacity":"0.5",padding:"0.5em","border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px rgba(0,0,0,0.45)","box-shadow":"0px 0px 36px 0px rgba(0,0,0,0.45)"}),new b.u0(l,".am5stock-drawing-label-input",{width:"250px","min-height":"50px"})]);he=new Oe.DM(()=>{he=void 0,h.dispose()})}return he.increment()}Object.defineProperty(Z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DropdownColors"}),Object.defineProperty(Z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:G.classNames.concat([Z.className])});class Ee extends Y{_afterNew(){super._afterNew();const t={control:this,parent:this.getPrivate("button"),useOpacity:this.get("useOpacity")};this.get("colors")&&(t.colors=this.get("colors"));const e=Z.new(this._root,t);this.setPrivate("dropdown",e),e.events.on("closed",s=>{this.set("active",!1)}),e.events.on("invoked",s=>{this.setPrivate("color",s.color),this.events.dispatch("selected",{type:"selected",color:s.color,target:this})}),e.events.on("invokedOpacity",s=>{this.setPrivate("opacity",s.opacity),this.events.dispatch("selectedOpacity",{type:"selectedOpacity",opacity:s.opacity,target:this})}),this.on("active",s=>{s?(e.setPrivate("color",this.getPrivate("color")),e.setPrivate("opacity",this.getPrivate("opacity")),this.setTimeout(()=>e.show(),10)):e.hide()}),this.onPrivate("color",()=>{const s=this.getPrivate("color");this.getPrivate("icon").style.backgroundColor=s?s.toCSS(this.getPrivate("opacity",1)):""}),this.onPrivate("opacity",()=>{const s=this.getPrivate("color");this.getPrivate("icon").style.backgroundColor=s?s.toCSS(this.getPrivate("opacity",1)):""});const i=document.createElement("div");i.className="am5stock-control-icon-color-bg",this.getPrivate("icon").appendChild(i),this.loadDefaultCSS()}_getDefaultIcon(){const t=te.getIcon("Color");return b.cn(t,"am5stock-control-icon-color"),t}loadDefaultCSS(){const t=_e(b.Ay(this._root.dom),this._root);this._disposers.push(t)}}Object.defineProperty(Ee,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorControl"}),Object.defineProperty(Ee,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([Ee.className])});var pe=F(17679),se=F(50886);class Pe extends oe.u{constructor(){super(...arguments),Object.defineProperty(this,"_updatedSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingsTarget",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorControl",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged()}openIndicator(t){this._settingsTarget=t,this.initContent(t._editableSettings,t)}openSeries(t){this._settingsTarget=t;const e=this._root.language,i=this.get("stockChart"),s=t instanceof C.e;let a=[];if(t!=i.get("stockSeries")||s)if(t!=i.get("volumeSeries")||s)if(t instanceof X.$&&t.columns.length){const r=t.columns.getIndex(0);a.push({id:"riseFromOpen.fill",key:"fill",additionalKeys:["stroke"],name:e.translateAny("Increase"),type:"color",currentValue:r.states.lookup("riseFromOpen").get("fill"),target:t.columns.template.states.create("riseFromOpen",{}),invalidateTarget:t}),a.push({id:"dropFromOpen.fill",key:"fill",additionalKeys:["stroke"],name:e.translateAny("Decrease"),type:"color",currentValue:r.states.lookup("dropFromOpen").get("fill"),target:t.columns.template.states.create("dropFromOpen",{}),invalidateTarget:t})}else s?(a=[{key:"stroke",name:e.translateAny("Line"),type:"color",additionalKeys:["fill"],target:t},{key:"strokeWidth",name:e.translateAny("Line"),type:"dropdown",options:[{value:1,text:"1px"},{value:2,text:"2px"},{value:4,text:"4px"},{value:10,text:"10px"}],currentValue:t.strokes.template.get("strokeWidth",1),target:t.strokes.template,invalidateTarget:t}],t.fills.template.get("visible")&&a.push({key:"fill",name:e.translateAny("Fill"),type:"color"})):a=[{key:"stroke",name:e.translateAny("Line"),type:"color"},{key:"fill",name:e.translateAny("Fill"),type:"color"}];else a.push({id:"volumePositiveColor",key:"volumePositiveColor",name:e.translateAny("Increase"),type:"color",currentValue:i.get("volumePositiveColor",this._root.interfaceColors.get("positive")),target:i}),a.push({id:"volumeNegativeColor",key:"volumeNegativeColor",name:e.translateAny("Decrease"),type:"color",currentValue:i.get("volumeNegativeColor",this._root.interfaceColors.get("negative")),target:i});else a.push({id:"stockPositiveColor",key:"stockPositiveColor",name:e.translateAny("Increase"),type:"color",currentValue:i.get("stockPositiveColor",this._root.interfaceColors.get("positive")),target:i}),a.push({id:"stockNegativeColor",key:"stockNegativeColor",name:e.translateAny("Decrease"),type:"color",currentValue:i.get("stockNegativeColor",this._root.interfaceColors.get("negative")),target:i});this.initContent(a,t)}initContent(t,e){this._updatedSettings={};const i=this.getPrivate("content");this.clear();const s=document.createElement("h1");s.innerHTML=e.get("name"),i.appendChild(s);const a=document.createElement("div");a.className="am5-modal-table",i.appendChild(a);const r={},n={};let u,o="";x.S6(t,g=>{const m=this._getSettingKey(g),v=g.currentValue||(g.target||e).get(g.key);let k;switch(g.target&&(n[m]=g),g.type){case"dropdown":k=this.getDropdown(g,v),r[m]=k;break;case"number":k=this.getNumber(g,v),r[m]=k;break;case"color":k=this.getColor(g,v);break;case"checkbox":k=this.getCheckbox(g,v),r[m]=k}if(k){let T;if(g.name==o&&u)T=u;else{T=document.createElement("div"),T.className="am5-modal-table-row",a.appendChild(T);const N=document.createElement("div");N.className="am5-modal-table-heading",N.innerHTML=g.name,T.appendChild(N)}const L=document.createElement("div");L.className="am5-modal-table-cell",T.appendChild(L),L.appendChild(k),o=g.name,u=T}});const h=document.createElement("input");h.type="button",h.value=this._root.language.translateAny("Save"),h.className="am5-modal-button am5-modal-primary",i.appendChild(h),this._disposers.push(b.Oo(h,"click",()=>{pe.S6(r,(g,m)=>{this._updatedSettings[g]="checkbox"==m.type?m.checked:"number"==m.type?se.He(m.value):m.value}),pe.S6(this._updatedSettings,(g,m)=>{const w=g.split(".").pop();se.Kn(m)&&m.value?m.setting&&m.setting.target?(m.setting.target.set(w,m.value),m.setting.additionalKeys&&x.S6(m.setting.additionalKeys,v=>{m.setting.target.set(v,m.value)})):e.set(w,m.value):n[w]?n[w].target.set(w,m):e.set(w,m),m.setting&&m.setting.invalidateTarget&&m.setting.invalidateTarget.markDirtyValues()}),this.close()}));const p=document.createElement("input");p.type="button",p.value=this._root.language.translateAny("Cancel"),p.className="am5-modal-button am5-modal-scondary",i.appendChild(p),this._disposers.push(b.Oo(p,"click",()=>{this.cancel()})),this.open()}getDropdown(t,e){const i=document.createElement("select");return x.S6(t.options,s=>{if(s){const a=document.createElement("option");let r;se.Kn(s)?(a.value=s.value,a.text=s.text,r=s.value):(a.value=s,a.text=s,r=s),r==e&&(a.selected=!0),i.appendChild(a)}}),i}getNumber(t,e){const i=document.createElement("input");return i.type="number",i.value=e,i.className="am5-modal-input-narrow",i}getCheckbox(t,e){const i=document.createElement("input");return i.type="checkbox",i.checked=!0===e,i}getColor(t,e){const i=Ee.new(this.root,{stockChart:this.get("stockChart"),useOpacity:!1});return i.setPrivate("color",e),i.events.on("selected",s=>{this._updatedSettings[this._getSettingKey(t)]={value:s.color,setting:t}}),this._disposers.push(i),i.getPrivate("button")}close(){super.close(),this.events.dispatch("done",{type:"done",settings:this._updatedSettings,settingsTarget:this._settingsTarget,target:this})}cancel(){super.cancel(),this.events.dispatch("done",{type:"done",settings:null,target:this})}clear(){this.getPrivate("content").innerHTML="",this._colorControl&&this._colorControl.dispose()}_getSettingKey(t){return t.id||t.key}}Object.defineProperty(Pe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SettingsModal"}),Object.defineProperty(Pe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oe.u.classNames.concat([oe.u.className])});var We=F(37839);class $e extends fe.W{constructor(){super(...arguments),Object.defineProperty(this,"_xAxes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_upperPanel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dhp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uhp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downResizer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_syncExtremesDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_drawingsChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_indicatorsChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"panels",{enumerable:!0,configurable:!0,writable:!0,value:new M.dn}),Object.defineProperty(this,"indicators",{enumerable:!0,configurable:!0,writable:!0,value:new M.dn}),Object.defineProperty(this,"toolsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(fe.W.new(this._root,{width:B.AQ,themeTags:[]}))}),Object.defineProperty(this,"panelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(fe.W.new(this._root,{width:B.AQ,height:B.AQ,layout:this._root.verticalLayout,themeTags:["chartscontainer"]}))})}_afterNew(){this._settings.themeTags=b.Fy(this._settings.themeTags,["stock"]),this._defaultThemes.push(ie.new(this._root)),this._defaultThemes.push(P.l.new(this._root));const t=this._root.tooltipContainer;t.set("themeTags",b.Fy(t.get("themeTags",[]),["stock"])),super._afterNew();const e=this.panelsContainer.children;this._disposers.push(this.panels.events.onAll(s=>{if("clear"===s.type)x.S6(s.oldValues,a=>{this._removePanel(a)});else if("push"===s.type)e.moveValue(s.newValue),this._processPanel(s.newValue);else if("setIndex"===s.type)e.setIndex(s.index,s.newValue),this._processPanel(s.newValue);else if("insertIndex"===s.type)e.insertIndex(s.index,s.newValue),this._processPanel(s.newValue);else{if("removeIndex"!==s.type)throw new Error("Unknown IListEvent type");this._removePanel(s.oldValue)}})),this._disposers.push(this.indicators.events.onAll(s=>{if("clear"===s.type)x.S6(s.oldValues,a=>{this._removeIndicator(a)});else if("push"===s.type)this._processIndicator(s.newValue);else if("setIndex"===s.type)this._processIndicator(s.newValue);else if("insertIndex"===s.type)this._processIndicator(s.newValue);else{if("removeIndex"!==s.type)throw new Error("Unknown IListEvent type");this._removeIndicator(s.oldValue)}})),this.setPrivateRaw("settingsModal",Pe.new(this.root,{stockChart:this}));let i=!1;for(let s=0;s<We.i_.licenses.length;s++)We.i_.licenses[s].match(/^AM5S.{5,}/i)&&(i=!0);i?this._root._licenseApplied():this._root._showBranding()}markDirtyDrawings(){this._drawingsChanged=!0,this.markDirty()}markDirtyIndicators(){this._indicatorsChanged=!0,this.markDirty()}_prepareChildren(){if(this.isDirty("volumeNegativeColor")||this.isDirty("volumePositiveColor")){const e=this.get("volumeSeries");e&&e.isType("BaseColumnSeries")&&e.columns.each(i=>{i._markDirtyKey("fill")})}const t=this.get("stockSeries");if(this.isDirty("stockSeries")&&t){this.indicators.each(i=>{i._setSoft("stockSeries",t)});const e=t.chart;if(e){const i=this._prevSettings.stockSeries;e.series.each(a=>{a.isType("DrawingSeries")&&a.get("series")==i&&a._setSoft("series",t)});const s=e.xAxes.getIndex(0);s&&(this._syncExtremesDp&&this._syncExtremesDp.dispose(),this.setPrivateRaw("mainAxis",s),this._syncExtremesDp=new Oe.FV([s.onPrivate("max",()=>{this._syncExtremes()}),s.onPrivate("min",()=>{this._syncExtremes()})]))}this.getPrivate("comparing")&&this.setPercentScale(!0)}super._prepareChildren()}_afterChanged(){if(super._afterChanged(),this._drawingsChanged){this._drawingsChanged=!1;const t="drawingsupdated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}if(this._indicatorsChanged){this._indicatorsChanged=!1;const t="indicatorsupdated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}}_updateChildren(){super._updateChildren();const t=this.get("stockSeries");if(this.isDirty("volumeSeries")){const e=this.get("volumeSeries");if(e){const i=e.chart;i&&i.series.events.on("removeIndex",s=>{s.oldValue==e&&this.set("volumeSeries",void 0)})}}if((this.isDirty("stockNegativeColor")||this.isDirty("stockPositiveColor")||this.isDirty("stockSeries"))&&t&&t.isType("BaseColumnSeries")){const e=this.get("stockNegativeColor",this._root.interfaceColors.get("negative")),i=this.get("stockPositiveColor",this._root.interfaceColors.get("positive"));let s=t.dataItems[0];i&&i&&(x.S6(t.dataItems,a=>{const r=a.get("graphics");if(r){const n=r.states.lookup("dropFromOpen");n&&n.setAll({fill:e,stroke:e});const o=r.states.lookup("riseFromOpen");o&&o.setAll({fill:i,stroke:i});const u=r.states.lookup("dropFromPrevious");u&&u.setAll({fill:e,stroke:e});const h=r.states.lookup("riseFromPrevious");h&&h.setAll({fill:i,stroke:i}),t._applyGraphicsStates(a,s),s=a}}),t.columns.template.states.create("riseFromOpen",{fill:i,stroke:i}),t.columns.template.states.create("riseFromPrevious",{fill:i,stroke:i}),t.columns.template.states.create("dropFromOpen",{fill:e,stroke:e}),t.columns.template.states.create("dropFromPrevious",{fill:e,stroke:e})),t.markDirtyValues()}}setPercentScale(t){const e=this.get("stockSeries"),i=this.get("percentScaleSeriesSettings"),s=this.get("percentScaleValueAxisSettings");if(e){const a=e.chart,r=e.get("yAxis");if(r.set("logarithmic",!1),this._maybePrepAxisDefaults(),a){const n=[];a.series.each(o=>{o.get("yAxis")==r&&(n.push(o),this._maybePrepSeriesDefaults(o))}),null==t&&(t=this.getPrivate("comparedSeries",[]).length>0),this.setPrivate("comparing",t),i&&x.S6(n,o=>{t?o.setAll(i):o.states.apply("comparingDefaults")}),s&&(t?r.setAll(s):r.states.apply("comparingDefaults"))}}}addComparingSeries(t){const e=this.get("stockSeries");if(e){const i=e.chart;i&&i.series.push(t);const s=this.get("comparingSeriesSettings");s&&t.setAll(s);const a=this.getPrivate("comparedSeries");a?a.push(t):this.setPrivate("comparedSeries",[t]);const r=e.get("legendDataItem");if(r){const n=r.component;if(n.isType("StockLegend")){n.data.push(t);const o=t.get("legendDataItem");if(o){const u=o.get("closeButton");u.set("forceHidden",!1),u.events.on("click",()=>{this.removeComparingSeries(t)})}}}this.get("autoSetPercentScale")&&this.setPercentScale(!0)}return t}removeComparingSeries(t){const e=this.get("stockSeries");if(e){const s=e.chart;s&&s.series.removeValue(t);const a=this.getPrivate("comparedSeries");a&&(x.Od(a,t),0==a.length&&this.get("autoSetPercentScale")&&this.setPercentScale(!1))}const i=t.get("legendDataItem");i&&i.component.data.removeValue(t)}_maybePrepSeriesDefaults(t){if(!t.states.lookup("comparingDefaults")){const e=this.get("percentScaleSeriesSettings"),i={};pe.S6(e,(s,a)=>{i[s]=t.get(s)}),t.states.create("comparingDefaults",i)}}_maybePrepAxisDefaults(){const e=this.get("stockSeries").get("yAxis");if(!e.states.lookup("comparingDefaults")){const i=this.get("percentScaleValueAxisSettings"),s={};pe.S6(i,(a,r)=>{s[a]=e.get(a)}),e.states.create("comparingDefaults",s)}}_processIndicator(t){this.children.push(t);const e=this.get("stockSeries");e&&t._setSoft("stockSeries",e);const i=this.get("volumeSeries");i&&t._setSoft("volumeSeries",i),this.getPrivate("comparing")&&this.setPercentScale(!0),x.S6(t._editableSettings,s=>{t.on(s.key,()=>{this.markDirtyIndicators()})}),this.markDirtyIndicators(),t.prepareData()}_removeIndicator(t){this.children.removeValue(t),this.markDirtyIndicators()}_removePanel(t){this.panelsContainer.children.removeValue(t)}_updateControls(){const t=this.get("stockSeries");this.panels.each(e=>{const i=e.panelControls,s=this.panelsContainer.children.indexOf(e),a=this.panels.length;i.upButton.setPrivate("visible",!1),i.downButton.setPrivate("visible",!1),i.expandButton.setPrivate("visible",!1),i.closeButton.setPrivate("visible",!1),a>1&&(i.expandButton.setPrivate("visible",!0),0!=s&&i.upButton.setPrivate("visible",!0),s!=a-1&&i.downButton.setPrivate("visible",!0),(!t||t.chart!=e)&&i.closeButton.setPrivate("visible",!0)),t&&this.indicators.each(r=>{r.set("stockSeries",t)})})}_processPanel(t){if(t.setPrivate("otherCharts",this.panels.values),t.setPrivate("stockChart",this),t.panelControls=t.topPlotContainer.children.push(Se.new(this._root,{stockPanel:t,stockChart:this})),this._updateControls(),this.panels.length>1){const e=t.children.push(D.A.new(this._root,{themeTags:["panelresizer"]}));e.events.on("pointerdown",i=>{const s=this.panelsContainer;this._downResizer=i.target,this.panels.each(r=>{r.set("height",(0,B.aQ)(r.height()/s.height()*100))}),this._downY=s.toLocal(i.point).y;const a=this.panels.getIndex(this.panels.indexOf(t)-1);this._upperPanel=a,a&&(this._uhp=a.get("height")),this._dhp=t.get("height")}),e.events.on("pointerup",()=>{this._downResizer=void 0}),e.events.on("globalpointermove",i=>{if(i.target==this._downResizer){const s=this.panelsContainer,a=s.height(),r=this._upperPanel;if(r){const n=this.panels.indexOf(r)+2;let o=a-t.get("minHeight",0);const u=this.panels.getIndex(n);u&&(o=u.y()-t.get("minHeight",0));const h=Math.max(r.y()+r.get("minHeight",0)+r.get("paddingTop",0),Math.min(s.toLocal(i.point).y,o)),p=this._downY,g=this._dhp,m=this._uhp;if(null!=p&&null!=g&&null!=m){const w=(p-h)/a;t.set("height",(0,B.aQ)(100*(g.value+w))),r.set("height",(0,B.aQ)(100*(m.value-w)))}}}})}t.xAxes.events.onAll(e=>{if("clear"===e.type)x.S6(e.oldValues,i=>{this._removeXAxis(i)});else if("push"===e.type)this._processXAxis(e.newValue);else if("setIndex"===e.type)this._processXAxis(e.newValue);else if("insertIndex"===e.type)this._processXAxis(e.newValue);else{if("removeIndex"!==e.type)throw new Error("Unknown IListEvent type");this._removeXAxis(e.oldValue)}}),t.leftAxesContainer.events.on("boundschanged",()=>{this._syncYAxesSize()}),t.rightAxesContainer.events.on("boundschanged",()=>{this._syncYAxesSize()})}_syncYAxesSize(){let t=0,e=0;this.panels.each(i=>{let s=i.leftAxesContainer.width(),a=i.rightAxesContainer.width();s>t&&(t=s),a>e&&(e=a)}),this.panels.each(i=>{i.leftAxesContainer.set("minWidth",t),i.rightAxesContainer.set("minWidth",e)}),this.toolsContainer.set("paddingRight",e),this.toolsContainer.set("paddingRight",e)}_removeXAxis(t){}_processXAxis(t){x.pB(this._xAxes,t),t.on("start",()=>{1!=t._skipSync&&this._syncXAxes(t)}),t.on("end",()=>{1!=t._skipSync&&this._syncXAxes(t)})}_syncExtremes(){const t=this.getPrivate("mainAxis");if(t){const e=t.getPrivate("min"),i=t.getPrivate("max");this.panels.each(s=>{s.xAxes.each(a=>{if(a!=t){let r=a.getPrivate("min"),n=a.getPrivate("max");r!=e&&a.set("min",e),n!=i&&a.set("max",i)}})})}}_syncXAxes(t){x.S6(this._xAxes,e=>{e!=t&&(e._skipSync=!0,e.set("start",t.get("start")),e.set("end",t.get("end")),e._skipSync=!1)})}getVolumeColor(t,e,i){if(t){const s=this.get("stockSeries"),a=t.component;if(e||(e=this.get("volumeNegativeColor",this.root.interfaceColors.get("negative",_.Il.fromHex(16711680)))),i||(i=this.get("volumePositiveColor",this.root.interfaceColors.get("positive",_.Il.fromHex(65280)))),e&&i&&s&&a){const r=a.dataItems.indexOf(t);if(r>0){let n=s.dataItems[r];if(n){let o=n.get("valueY");if(null!=o)for(let u=r-1;u>=0;u--){let p=s.dataItems[u].get("valueY");if(null!=p)return o<p?e:i}}}}}return i}}Object.defineProperty($e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StockChart"}),Object.defineProperty($e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.W.classNames.concat([$e.className])});var $t=F(83774),Ae=F(24837),Fe=F(84911),as=F(84164);class we extends fe.W{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_sDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("stockSeries")||this.isDirty("volumeSeries")){this._dataDirty=!0;const t=this.get("stockSeries");this._prevSettings.stockSeries&&this._sDP&&this._sDP.dispose(),t&&(this._sDP=new Oe.FV([t.events.on("datavalidated",()=>{this.markDataDirty()}),t.events.on("datasetchanged",()=>{this.markDataDirty()})])),this._prevSettings.volumeSeries&&this._vDP&&this._vDP.dispose();const s=this.get("volumeSeries");s&&(this._vDP=new Oe.FV([s.events.on("datavalidated",()=>{this.markDataDirty()}),s.events.on("datasetchanged",()=>{this.markDataDirty()})]))}this.isDirty("field")&&this.get("field")&&(this._dataDirty=!0),this.isDirty("period")&&(this._dataDirty=!0,this.setCustomData("period",this.get("period"))),this._dataDirty&&(this.prepareData(),this._dataDirty=!1)}markDataDirty(){this._dataDirty=!0,this.markDirty()}_updateChildren(){super._updateChildren(),this.isDirty("seriesColor")&&this._updateSeriesColor(this.series,this.get("seriesColor"),"seriesColor"),this.setCustomData("period",this.get("period")),this.setCustomData("field",this.get("field")),this.setCustomData("name",this.get("name")),this.setCustomData("shortName",this.get("shortName"))}_dispose(){super._dispose(),this._sDP&&this._sDP.dispose(),this._vDP&&this._vDP.dispose();const t=this.series;t&&t.dispose();const e=this.get("stockChart");if(e){const i=this.get("legend");if(i){const s=t.get("legendDataItem");s&&i.disposeDataItem(s)}e.indicators.removeValue(this)}}hide(t){const e=Object.create(null,{hide:{get:()=>super.hide}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.hide.call(this,t),this.series.hide(t)])})}show(t){const e=Object.create(null,{show:{get:()=>super.show}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.show.call(this,t),this.series.show(t)])})}_handleLegend(t){const e=this.get("legend");if(e){e.data.push(t);const i=e.dataItems[e.dataItems.length-1];i.get("marker").set("forceHidden",!0);const s=i.get("closeButton");s.set("forceHidden",!1),s.events.on("click",()=>{this.dispose()});const a=i.get("settingsButton");a.setPrivate("customData",this);const r=this._editableSettings;(!r||0==r.length)&&a.set("forceHidden",!0)}}_updateSeriesColor(t,e,i){t&&(t.set("stroke",e),t.set("fill",e),t instanceof C.e&&(t.strokes.template.set("stroke",e),t.fills.template.set("fill",e)),t instanceof as.d&&t.columns.template.setAll({stroke:e,fill:e}),i&&e&&this.setCustomData(i,e.toCSSHex()))}setCustomData(t,e){const i=this.series.getPrivate("customData");i&&(i[t]=e)}prepareData(){}_getValue(t){const e=this.get("field");let i=t.get("openValueY"),s=t.get("highValueY"),a=t.get("lowValueY"),r=t.get("valueY");switch(e){case"close":return r;case"open":return i;case"high":return s;case"low":return a;case"hl/2":return(s+a)/2;case"hlc/3":return(s+a+r)/3;case"hlcc/4":return(s+a+r+r)/4;case"ohlc/4":return(i+s+a+r)/4}}_getDataArray(t){const e=[];return x.S6(t,i=>{e.push({valueX:i.get("valueX"),value_y:this._getValue(i)})}),e}_getTypicalPrice(t){const e=[];return x.S6(t,i=>{e.push({valueX:i.get("valueX"),value_y:(i.get("valueY",0)+i.get("highValueY",0)+i.get("lowValueY",0))/2})}),e}_sma(t,e,i,s){let a=0,r=0,n=0;x.S6(t,o=>{let u=o[i];if(null!=u&&(a++,n+=u/e,a>=e)){if(a>e){let h=t[r-e][i];null!=h&&(n-=h/e)}o[s]=n}r++})}_wma(t,e,i,s){let a=0,r=0,n=0;x.S6(t,o=>{if(null!=o[i]&&(a++,a>=e)){let h=0,p=0,g=0,m=0;for(let w=r;w>=0;w--){let v=t[w][i];if(null!=v&&(h+=v*(e-p),g+=e-p,m++),p++,m==e)break}n=h/g,o[s]=n}r++})}_ema(t,e,i,s){let a=0,r=0,n=2/(1+e);x.S6(t,o=>{let u=o[i];null!=u&&(a++,a>e?(r=u*n+r*(1-n),o[s]=r):(r+=u/e,a==e&&(o[s]=r)))})}_dema(t,e,i,s){let a=0,r=0,n=2/(1+e);this._ema(t,e,i,"ema"),x.S6(t,o=>{let u=o.ema;null!=u&&(a++,a>e?(r=u*n+r*(1-n),o[s]=2*u-r,o.ema2=r):(r+=u/e,a==e&&(o[s]=2*u-r,o.ema2=r)))})}_tema(t,e,i,s){let a=0,r=0,n=2/(1+e);this._dema(t,e,i,"dema"),x.S6(t,o=>{let u=o.ema,h=o.ema2;null!=h&&(a++,a>e?(r=h*n+r*(1-n),o[s]=3*u-3*h+r):(r+=h/e,a==e&&(o[s]=3*u-3*h+r)))})}}Object.defineProperty(we,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Indicator"}),Object.defineProperty(we,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.W.classNames.concat([we.className])});class rt extends $t.D{constructor(){super(...arguments),Object.defineProperty(this,"closeButtons",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(Ae.YS.new({}),()=>Ie.z._new(this._root,{themeTags:b.Fy(this.closeButtons.template.get("themeTags",[]),["control","close"]),icon:De.T.new(this._root,{themeTags:["icon","button"]})},[this.closeButtons.template]))}),Object.defineProperty(this,"settingsButtons",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(Ae.YS.new({}),()=>Ie.z._new(this._root,{themeTags:b.Fy(this.settingsButtons.template.get("themeTags",[]),["control","settings"]),icon:De.T.new(this._root,{themeTags:["icon","button"]})},[this.settingsButtons.template]))})}_afterNew(){this._settings.themeTags=b.Fy(this._settings.themeTags,["stocklegend"]),super._afterNew()}makeCloseButton(){const t=this.closeButtons.make();return this.closeButtons.push(t),t}makeSettingsButton(){const t=this.settingsButtons.make();return this.settingsButtons.push(t),t.events.on("click",()=>{const e=t.dataItem;if(e){const i=this.get("stockChart");if(i){const s=t.getPrivate("customData");s instanceof we?i.getPrivate("settingsModal").openIndicator(s):i.getPrivate("settingsModal").openSeries(e.dataContext)}}}),t}processDataItem(t){super.processDataItem(t);const e=t.get("itemContainer"),i=this.makeSettingsButton();e.children.push(i),i._setDataItem(t),t.set("settingsButton",i);const s=this.makeCloseButton();e.children.push(s),s._setDataItem(t),t.set("closeButton",s)}}Object.defineProperty(rt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StockLegend"}),Object.defineProperty(rt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$t.D.classNames.concat([rt.className])});var Li=F(33536);class nt extends Li.z{constructor(){super(...arguments),Object.defineProperty(this,"panelControls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"drawings",{enumerable:!0,configurable:!0,writable:!0,value:new M.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.drawings.events.onAll(t=>{if("clear"===t.type)x.S6(t.oldValues,e=>{this.series.removeValue(e)});else if("push"===t.type)this.series.push(t.newValue);else if("setIndex"===t.type)this.series.setIndex(t.index,t.newValue);else if("insertIndex"===t.type)this.series.insertIndex(t.index,t.newValue);else{if("removeIndex"!==t.type)throw new Error("Unknown IListEvent type");this.series.removeIndex(t.index)}}))}moveUp(){const t=this.getPrivate("stockChart"),e=t.panelsContainer.children,i=e.indexOf(this);i>0&&e.moveValue(this,i-1),t._updateControls()}moveDown(){const t=this.getPrivate("stockChart"),e=t.panelsContainer.children,i=e.indexOf(this);i<e.length-1&&e.moveValue(this,i+1),t._updateControls()}close(){const t=this.getPrivate("stockChart");t.panels.removeValue(this),t._updateControls()}expand(){const t=this.getPrivate("stockChart"),e=[];if(t.panels.each(i=>{i.isVisible()||e.push(i)}),x.S6(e,i=>{i.setPrivate("visible",!0)}),0==e.length&&t.panels.each(i=>{i!=this&&i.setPrivate("visible",!1)}),t._updateControls(),0==e.length){const i=this.panelControls;i.upButton.setPrivate("visible",!1),i.downButton.setPrivate("visible",!1),i.closeButton.setPrivate("visible",!1)}}}Object.defineProperty(nt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StockPanel"}),Object.defineProperty(nt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.z.classNames.concat([nt.className])});var rs=F(8728),ns=F(56528),Ii=F(56481),fi=F(49184),os=F(93146),ls=F(83232),Ni=F(26221);class z extends we{constructor(){super(...arguments),Object.defineProperty(this,"panel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"xAxis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"yAxis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"legend",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew();const t=this.get("stockChart"),e=this.get("stockSeries"),s=this._root;if(t&&e.chart){let a=["indicator"];this._themeTag&&a.push(this._themeTag);const r=t.panels.push(nt.new(s,{wheelY:"zoomX",panX:!0,panY:!1,themeTags:a}));r.addTag("indicator"),this.panel=r,t.panels.events.on("removeIndex",A=>{A.oldValue==r&&t.indicators.removeValue(this)});const n=e.get("xAxis"),o=os.n.new(s,{});let u,h=n.get("baseInterval"),p=n.get("start"),g=n.get("end");u=r.xAxes.push(n instanceof Ii.J?Ii.J.new(s,{renderer:o,baseInterval:h}):ns.S.new(s,{renderer:o,baseInterval:h})),u.set("groupData",n.get("groupData")),u.set("groupCount",n.get("groupCount")),u.set("tooltip",Ni.u.new(s,{forceHidden:!0})),u.setAll({start:p,end:g}),this.xAxis=u;const m=ls.j.new(s,{}),w=r.yAxes.push(fi.m.new(s,{renderer:m,tooltip:Ni.u.new(s,{forceHidden:!0})}));this.yAxis=w;const v=this._createSeries();this.series=v;const k=r.topPlotContainer.children.insertIndex(0,rt.new(s,{stockChart:this.get("stockChart")}));k.data.push(v);const T=k.dataItems[k.dataItems.length-1];T.set("panel",r),T.get("marker").set("forceHidden",!0);const L=T.get("settingsButton");L.setPrivate("customData",this);const N=this._editableSettings;(!N||0==N.length)&&L.set("forceHidden",!0),r.set("cursor",rs.L.new(s,{yAxis:w,xAxis:u}))}}_dispose(){super._dispose(),this.get("stockChart").panels.removeValue(this.panel)}hide(t){const e=Object.create(null,{hide:{get:()=>super.hide}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.hide.call(this,t),this.panel.hide(t)])})}show(t){const e=Object.create(null,{show:{get:()=>super.show}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.show.call(this,t),this.panel.show(t)])})}}Object.defineProperty(z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ChartIndicator"}),Object.defineProperty(z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:we.classNames.concat([z.className])});class Be extends we{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"offset",name:this.root.language.translateAny("Offset"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]},{key:"type",name:this.root.language.translateAny("Type"),type:"dropdown",options:["simple","weighted","exponential","dema","tema"]}]})}_prepareChildren(){(this.isDirty("type")||this.isDirty("offset"))&&(this._dataDirty=!0,this.setCustomData("type",this.get("type")),this.setCustomData("offset",this.get("offset",0))),super._prepareChildren()}_afterNew(){super._afterNew();const t=this.get("stockSeries"),e=t.chart;if(e){const i=e.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"ma",groupDataDisabled:!0,calculateAggregates:!0,xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),themeTags:["indicator","movingaverage"],name:"MA"}));i.setPrivate("baseValueSeries",t),this.series=i,this._handleLegend(i)}}prepareData(){if(this.series){let t=this.get("period",50);const e=this.get("type"),s=this.get("stockSeries").dataItems;let a=this._getDataArray(s);switch(e){case"simple":this._sma(a,t,"value_y","ma");break;case"weighted":this._wma(a,t,"value_y","ma");break;case"exponential":this._ema(a,t,"value_y","ma");break;case"dema":this._dema(a,t,"value_y","ma");break;case"tema":this._tema(a,t,"value_y","ma")}const r=this.get("offset",0);if(0!=r){let n=0;const o=this.series.get("xAxis").baseDuration(),u=s.length,h=s[0].get("valueX",0),p=s[u-1].get("valueX",0);x.S6(a,g=>{let m=0;m=n+r>=u?p+(r-u+n+1)*o:n+r<0?h+(n+r)*o:s[n+r].get("valueX",0),g.valueX=m,n++})}this.series.data.setAll(a)}}}Object.defineProperty(Be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MovingAverage"}),Object.defineProperty(Be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:we.classNames.concat([Be.className])});class ot extends we{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]}]})}_afterNew(){super._afterNew();const t=this.get("stockSeries"),e=t.chart;if(e){const i=e.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"vwap",groupDataDisabled:!0,calculateAggregates:!0,xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),themeTags:["indicator","vwap"],name:"VWAP"}));i.setPrivate("baseValueSeries",t),this.series=i,this._handleLegend(i)}}_prepareChildren(){this.isDirty("volumeSeries")&&(this._dataDirty=!0),super._prepareChildren()}prepareData(){if(this.series){let t=this.get("period",1/0);const e=this.get("stockSeries"),i=this.get("volumeSeries");if(i){let a=this._getDataArray(e.dataItems),r=0,n=0,o=0;x.S6(a,u=>{const p=i.dataItems[r].get("valueY",0),g=u.value_y*p;if(u.vw=g,u.volume=p,o+=g,n+=p,r>=t){let m=a[r-t].volume,w=a[r-t].vw;null!=m&&(n-=m),null!=w&&(o-=w)}u.totalVW=o,u.vwap=o/n,r++}),this.series.data.setAll(a)}}}}Object.defineProperty(ot,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VWAP"}),Object.defineProperty(ot,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:we.classNames.concat([ot.className])});class lt extends Be{constructor(){super(...arguments),Object.defineProperty(this,"upperBandSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowerBandSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"type",name:this.root.language.translateAny("Type"),type:"dropdown",options:["simple","weighted","exponential","dema","tema"]},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]},{key:"shiftType",name:this.root.language.translateAny("Shift type"),type:"dropdown",options:["percent","points"]},{key:"shift",name:this.root.language.translateAny("Shift"),type:"number"},{key:"offset",name:this.root.language.translateAny("Offset"),type:"number"},{key:"upperColor",name:this.root.language.translateAny("Top"),type:"color"},{key:"seriesColor",name:this.root.language.translateAny("Median"),type:"color"},{key:"lowerColor",name:this.root.language.translateAny("Bottom"),type:"color"}]})}_afterNew(){const t=this.get("stockSeries"),e=t.chart;if(e){const i=e.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"upper",openValueYField:"lower",xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),groupDataDisabled:!0,calculateAggregates:!0,themeTags:["indicator","movingaverageenvelope","upper"]}));i.fills.template.set("visible",!0),i.setPrivate("baseValueSeries",t),this.upperBandSeries=i;const s=e.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"lower",xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),groupDataDisabled:!0,calculateAggregates:!0,themeTags:["indicator","movingaverageenvelope","lower"]}));s.setPrivate("baseValueSeries",t),this.lowerBandSeries=s}super._afterNew(),this.series.addTag("movingaverageenvelope"),this.series._applyThemes()}_updateChildren(){if(super._updateChildren(),this.isDirty("upperColor")){const t=this.get("upperColor"),e=this.upperBandSeries;e.set("stroke",t),e.set("fill",t),e.strokes.template.set("stroke",t),this._updateSeriesColor(e,t,"upperColor")}if(this.isDirty("lowerColor")){const t=this.get("lowerColor"),e=this.lowerBandSeries;e.set("stroke",t),e.strokes.template.set("stroke",t),this._updateSeriesColor(e,t,"lowerColor")}}_prepareChildren(){(this.isDirty("shiftType")||this.isDirty("shift"))&&(this._dataDirty=!0,this.setCustomData("shift",this.get("shift")),this.setCustomData("shiftType",this.get("shiftType"))),super._prepareChildren()}prepareData(){if(super.prepareData(),this.series){let t=this.series.data.values,e=Number(this.get("shift",5)),i=this.get("shiftType");x.S6(t,s=>{let a=s.ma;if(null!=a){let r=a,n=a;"points"==i?(r+=e,n-=e):(r+=r*e/100,n-=n*e/100),s.upper=r,s.lower=n}}),this.upperBandSeries.data.setAll(t),this.lowerBandSeries.data.setAll(t)}}_dispose(){this.upperBandSeries.dispose(),this.lowerBandSeries.dispose(),super._dispose()}hide(t){const e=Object.create(null,{hide:{get:()=>super.hide}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.hide.call(this,t),this.upperBandSeries.hide(t),this.lowerBandSeries.hide(t)])})}show(t){const e=Object.create(null,{show:{get:()=>super.show}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.show.call(this,t),this.upperBandSeries.show(t),this.lowerBandSeries.show(t)])})}}Object.defineProperty(lt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MovingAverageEnvelope"}),Object.defineProperty(lt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Be.classNames.concat([lt.className])});var Ut=F(2194);class ct extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]},{key:"type",name:this.root.language.translateAny("Type"),type:"dropdown",options:["simple","weighted","exponential","dema","tema"]},{key:"unit",name:this.root.language.translateAny("Points/Percent"),type:"dropdown",options:["points","percent"]},{key:"increasingColor",name:this.root.language.translateAny("Increasing"),type:"color"},{key:"decreasingColor",name:this.root.language.translateAny("Decreasing"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"movingaveragedeviation"})}_createSeries(){return this.panel.series.push(Ut.d.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"deviation",fill:void 0}))}_updateChildren(){if(super._updateChildren(),this.isDirty("increasingColor")||this.isDirty("decreasingColor")){const t=this.series.columns.template,e=this.get("increasingColor"),i=this.get("decreasingColor");t.states.create("riseFromPrevious",{fill:e,stroke:e}),t.states.create("dropFromPrevious",{fill:i,stroke:i})}}_prepareChildren(){(this.isDirty("type")||this.isDirty("unit"))&&(this._dataDirty=!0),super._prepareChildren()}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems;let e=this.get("decreasingColor",_.Il.fromHex(16711680)).toCSSHex(),i=this.get("increasingColor",_.Il.fromHex(65280)).toCSSHex(),s=this._getDataArray(t),a=this.get("period",50);const r=this.get("type"),n=this.get("unit");switch(r){case"simple":this._sma(s,a,"value_y","ma");break;case"weighted":this._wma(s,a,"value_y","ma");break;case"exponential":this._ema(s,a,"value_y","ma");break;case"dema":this._dema(s,a,"value_y","ma");break;case"tema":this._tema(s,a,"value_y","ma")}let o=-1/0,u=0;x.S6(s,h=>{if(u++,u>=a){let p=h.value_y-h.ma;"percent"==n&&(p=100*(h.value_y/h.ma-1));let g=i;p<o&&(g=e),h.deviation=p,h.deviationColor=g,o=p}}),this.series.data.setAll(s)}}}Object.defineProperty(ct,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MovingAverageDeviation"}),Object.defineProperty(ct,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([ct.className])});class ut extends Be{constructor(){super(...arguments),Object.defineProperty(this,"upperBandSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowerBandSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"upperColor",name:this.root.language.translateAny("Upper"),type:"color"},{key:"seriesColor",name:this.root.language.translateAny("Average"),type:"color"},{key:"lowerColor",name:this.root.language.translateAny("Lower"),type:"color"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]},{key:"type",name:this.root.language.translateAny("Type"),type:"dropdown",options:["simple","weighted","exponential","dema","tema"]}]})}_afterNew(){const t=this.get("stockSeries"),e=t.chart;if(e){const i=e.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"upper",openValueYField:"lower",calculateAggregates:!0,xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),groupDataDisabled:!0,themeTags:["indicator","bollingerbands","upper"]}));i.fills.template.set("visible",!0),i.setPrivate("baseValueSeries",t),this.upperBandSeries=i;const s=e.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"lower",calculateAggregates:!0,xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),groupDataDisabled:!0,themeTags:["indicator","bollingerbands","lower"]}));s.setPrivate("baseValueSeries",t),this.lowerBandSeries=s}super._afterNew(),this.series.addTag("bollingerbands"),this.series._applyThemes()}_updateChildren(){if(super._updateChildren(),this.isDirty("upperColor")){const t=this.get("upperColor"),e=this.upperBandSeries;e.set("stroke",t),e.set("fill",t),e.strokes.template.set("stroke",t),this._updateSeriesColor(e,t,"upperColor")}if(this.isDirty("lowerColor")){const t=this.get("lowerColor"),e=this.lowerBandSeries;e.set("stroke",t),e.strokes.template.set("stroke",t),this._updateSeriesColor(e,t,"lowerColor")}this.setCustomData("standardDeviations",this.get("standardDeviations"))}prepareData(){if(super.prepareData(),this.series){let t=this.get("period",20);const i=this.get("stockSeries").dataItems;let s=this.get("standardDeviations",2),a=this.series.data.values,r=0;x.S6(a,n=>{if(r>=t-1){let o=n.ma,u=0;for(let m=r-t+1;m<=r;m++){let v=this._getValue(i[m]);null!=v&&(u+=Math.pow(v-o,2))}let h=Math.sqrt(u/t);const p=o-s*h;n.upper=o+s*h,n.lower=p}r++}),this.upperBandSeries.data.setAll(a),this.lowerBandSeries.data.setAll(a)}}_dispose(){this.upperBandSeries.dispose(),this.lowerBandSeries.dispose(),super._dispose()}hide(t){const e=Object.create(null,{hide:{get:()=>super.hide}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.hide.call(this,t),this.upperBandSeries.hide(t),this.lowerBandSeries.hide(t)])})}show(t){const e=Object.create(null,{show:{get:()=>super.show}});return(0,Fe.mG)(this,void 0,void 0,function*(){return Promise.all([e.show.call(this,t),this.upperBandSeries.show(t),this.lowerBandSeries.show(t)])})}}Object.defineProperty(ut,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BollingerBands"}),Object.defineProperty(ut,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Be.classNames.concat([ut.className])});class dt extends z{constructor(){super(...arguments),Object.defineProperty(this,"overBought",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSoldRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overBoughtRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"overBought",name:this.root.language.translateAny("Overbought"),type:"number"},{key:"overSold",name:this.root.language.translateAny("Oversold"),type:"number"},{key:"overBought",name:this.root.language.translateAny("Overbought"),type:"number"},{key:"overSold",name:this.root.language.translateAny("Oversold"),type:"number"},{key:"overBoughtColor",name:this.root.language.translateAny("Overbought"),type:"color"},{key:"overSoldColor",name:this.root.language.translateAny("Oversold"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"rsi"})}_afterNew(){super._afterNew(),this.yAxis.setAll({min:0,max:100,strictMinMax:!0});const t=this.yAxis.makeDataItem({});this.overBought=t,t.set("endValue",100);const e=this.series.createAxisRange(t);this.overBoughtRange=e;const i=e.fills;i&&i.template.set("themeTags",["overbought","fill"]);const s=t.get("grid");s&&(s.setAll({themeTags:["overbought"],visible:!0}),s._applyThemes());const a=t.get("label");a&&(a.setAll({themeTags:["overbought"],visible:!0,location:0}),a._applyThemes());const r=this.yAxis.makeDataItem({});this.overSold=r,r.set("endValue",0);const n=this.series.createAxisRange(r);this.overSoldRange=n;const o=n.fills;o&&o.template.set("themeTags",["oversold","fill"]);const u=r.get("grid");u&&(u.setAll({themeTags:["oversold"],visible:!0}),u._applyThemes());const h=r.get("label");h&&(h.setAll({themeTags:["oversold"],visible:!0,location:0}),h._applyThemes())}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"valueY",stroke:this.get("seriesColor"),fill:void 0}))}_updateChildren(){super._updateChildren();const t=this.get("overSold",20),e=this.get("overBought",80);if(this.isDirty("overBought")){this.overBought.set("value",e);const i=this.overBought.get("label");i&&i.set("text",this.getNumberFormatter().format(e))}if(this.isDirty("overSold")){this.overSold.set("value",t);const i=this.overSold.get("label");i&&i.set("text",this.getNumberFormatter().format(t))}if(this.isDirty("overSoldColor")){const i=this.get("overSoldColor"),s=this.overSold.get("label");s&&s.set("fill",i),this.overSold.get("grid").set("stroke",i),this.overSoldRange.fills.template.set("fill",i),this.overSoldRange.strokes.template.set("stroke",i)}if(this.isDirty("overBoughtColor")){const i=this.get("overBoughtColor"),s=this.overBought.get("label");s&&s.set("fill",i),this.overBought.get("grid").set("stroke",i),this.overBoughtRange.fills.template.set("fill",i),this.overBoughtRange.strokes.template.set("stroke",i)}this.series.get("yAxis").set("baseValue",t+(e-t)/2)}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems,e=this.get("period",14),i=[];let s=0,a=0,r=0,n=0,o=0;x.S6(t,u=>{let h=null;if(s++,s==e+1){for(let p=1;p<=e;p++){let w=t[p].get("valueY",0)-t[p-1].get("valueY",0);w>0?a+=w/e:r+=Math.abs(w)/e}h=100-100/(1+a/r)}else if(s>e){let m=u.get("valueY",0)-t[s-2].get("valueY",0),w=0,v=0;m>0?w=m:v=-m,a=(n*(e-1)+w)/e,r=(o*(e-1)+v)/e,h=100-100/(1+a/r)}i.push({valueX:u.get("valueX"),valueY:h}),n=a,o=r}),this.series.data.setAll(i)}}}Object.defineProperty(dt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RelativeStrengthIndex"}),Object.defineProperty(dt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([dt.className])});class ht extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"useVolume",name:this.root.language.translateAny("Use Volume"),type:"checkbox"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"accumulationdistribution"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"ad",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){(this.isDirty("useVolume")||this.isDirty("volumeSeries"))&&(this._dataDirty=!0,this.setCustomData("useVolume",this.get("useVolume")?"Y":"N")),super._prepareChildren()}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems,e=this.get("volumeSeries");this.setRaw("field","close");let i=0,s=this._getDataArray(t),a=0,r=this.get("useVolume");x.S6(t,n=>{let o=n.get("valueY");if(null!=o){let u=n.get("lowValueY",o),h=n.get("highValueY",o),p=1;if(e&&r){const w=e.dataItems[i];w&&(p=w.get("valueY",1))}let g=(o-u-(h-o))/(h-u);h==u&&(g=0);let m=a+g*p;s[i].ad=m,a=m}i++}),this.series.data.setAll(s)}}}Object.defineProperty(ht,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AccumulationDistribution"}),Object.defineProperty(ht,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([ht.className])});class pt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"positiveColor",name:this.root.language.translateAny("Positive color"),type:"color"},{key:"negativeColor",name:this.root.language.translateAny("Negative color"),type:"color"},{key:"limitMoveValue",name:this.root.language.translateAny("Limit move value"),type:"number"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"accumulativeswingindex"}),Object.defineProperty(this,"_axisRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axisRangeDI",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_createSeries(){const t=this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"asi"})),e=this.yAxis.makeDataItem({});return this._axisRangeDI=e,e.set("value",0),e.set("endValue",-100),this._axisRange=t.createAxisRange(e),this.yAxis.onPrivate("min",i=>{e.set("endValue",i)}),t}_prepareChildren(){this.isDirty("limitMoveValue")&&(this.setCustomData("limitMoveValue",this.get("limitMoveValue")),this._dataDirty=!0);const t=this.series;if(this.isDirty("positiveColor")){let e=this.get("positiveColor");t.setAll({fill:e,stroke:e})}if(this.isDirty("negativeColor")){let e=this.get("negativeColor"),i=this._axisRange;if(i){const s=i.fills;s&&s.template.set("fill",e);const a=i.strokes;a&&a.template.set("stroke",e)}}super._prepareChildren()}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems;this.setRaw("field","close");let e=this._getDataArray(t),i=this.get("limitMoveValue",.5),s=0,a=this.get("negativeColor",_.Il.fromHex(16711680)).toCSSHex(),r=this.get("positiveColor",_.Il.fromHex(65280)).toCSSHex();if(t.length>2){e[0].asi=0,e[0].swingColor=r;for(let n=1,o=t.length;n<o;n++){const u=t[n],h=t[n-1];let p=u.get("valueY");if(se.hj(p)){let g=h.get("valueY",p),m=u.get("highValueY",p),w=u.get("lowValueY",p),v=u.get("openValueY",p),k=h.get("openValueY",p),T=m-w,L=Math.abs(m-g),N=Math.abs(w-g),A=Math.max(L,N,T),O=0;g>m&&(O=L),g<w&&(O=N);let $=Math.max(L,N);s+=50*(p-g+(p-v)/2+(g-k)/4)/(A-O/2+Math.abs(g-k)/4)*$/i;let ae=r;s<0&&(ae=a),e[n].asi=s,e[n].swingColor=ae}}}this.series.data.setAll(e)}}}Object.defineProperty(pt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AccumulativeSwingIndex"}),Object.defineProperty(pt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([pt.className])});class gt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"upColor",name:this.root.language.translateAny("Aroon up"),type:"color"},{key:"downColor",name:this.root.language.translateAny("Aroon down"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"aroon"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"up",fill:void 0}))}_afterNew(){super._afterNew(),this.downSeries=this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"down",fill:void 0})),this.yAxis.setAll({min:-1,max:101,strictMinMax:!0})}_updateChildren(){if(super._updateChildren(),this.isDirty("upColor")){let t=this.get("upColor",_.Il.fromHex(65280));this._updateSeriesColor(this.series,t),this.setCustomData("upColor",t)}if(this.isDirty("downColor")){let t=this.get("downColor",_.Il.fromHex(16711680));this._updateSeriesColor(this.downSeries,t),this.setCustomData("downColor",t)}}prepareData(){if(this.series){this.set("field","close");const t=this.get("stockSeries").dataItems;let e=this._getDataArray(t),i=this.get("period",14),s=0;x.S6(e,a=>{let n=-1/0,o=1/0,u=0,h=0;for(let p=Math.max(0,s-i);p<=s;p++){let g=t[p].get("highValueY",0);g>=n&&(n=g,h=p);let m=t[p].get("lowValueY",0);m<=o&&(o=m,u=p)}a.up=(i-(s-h))/i*100,a.down=(i-(s-u))/i*100,s++}),this.series.data.setAll(e),this.downSeries.data.setAll(e)}}}Object.defineProperty(gt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Aroon"}),Object.defineProperty(gt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([gt.className])});class ft extends z{constructor(){super(...arguments),Object.defineProperty(this,"signalSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"differenceSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"fastPeriod",name:this.root.language.translateAny("Fast MA period"),type:"number"},{key:"slowPeriod",name:this.root.language.translateAny("Slow MA period"),type:"number"},{key:"signalPeriod",name:this.root.language.translateAny("Signal period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("MACD"),type:"color"},{key:"signalColor",name:this.root.language.translateAny("Signal"),type:"color"},{key:"increasingColor",name:this.root.language.translateAny("Increasing"),type:"color"},{key:"decreasingColor",name:this.root.language.translateAny("Decreasing"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"macd"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"macd",groupDataDisabled:!0,stroke:this.get("seriesColor"),fill:void 0}))}_afterNew(){super._afterNew();const t=this.panel;if(t){const e=t.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"signal",xAxis:this.xAxis,yAxis:this.yAxis,groupDataDisabled:!0,themeTags:["indicator","signal"]}));this.signalSeries=e;const i=t.series.push(Ut.d.new(this._root,{valueXField:"valueX",valueYField:"difference",xAxis:this.xAxis,yAxis:this.yAxis,groupDataDisabled:!0,themeTags:["indicator","difference"]}));this.differenceSeries=i}}_prepareChildren(){(this.isDirty("fastPeriod")||this.isDirty("slowPeriod")||this.isDirty("signalPeriod"))&&(this._dataDirty=!0,this.setCustomData("fastPeriod",this.get("fastPeriod")),this.setCustomData("slowPeriod",this.get("slowPeriod")),this.setCustomData("signalPeriod",this.get("signalPeriod"))),super._prepareChildren()}_updateChildren(){if(super._updateChildren(),this.isDirty("increasingColor")||this.isDirty("decreasingColor")){const e=this.differenceSeries.columns.template,i=this.get("increasingColor"),s=this.get("decreasingColor");e.states.create("riseFromPrevious",{fill:i,stroke:i}),e.states.create("dropFromPrevious",{fill:s,stroke:s}),this._dataDirty=!0}this.isDirty("signalColor")&&this._updateSeriesColor(this.signalSeries,this.get("signalColor"),"signalColor");const t=this.series.dataItem;if(t){const e=t.dataContext;if(e){e.fastPeriod=this.get("fastPeriod"),e.slowPeriod=this.get("slowPeriod"),e.signalPeriod=this.get("signalPeriod");const i=this.get("seriesColor");i&&(e.seriesColor=i.toCSSHex());const s=this.get("signalColor");s&&(e.signalColor=s.toCSSHex())}}}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems;let e=this._getDataArray(t),i=this.get("fastPeriod",12);this._ema(e,i,"value_y","emaFast"),i=this.get("slowPeriod",26),this._ema(e,i,"value_y","emaSlow"),x.S6(e,n=>{let o=n.emaFast,u=n.emaSlow;null!=o&&null!=u&&(n.macd=o-u)}),i=this.get("signalPeriod",9),this._ema(e,i,"macd","signal");const s=this.get("increasingColor",(0,_.$_)(65280)).toCSSHex(),a=this.get("decreasingColor",(0,_.$_)(16711680)).toCSSHex();let r=-1/0;x.S6(e,n=>{let o=n.macd,u=n.signal;if(null!=o&&null!=u){let h=o-u;n.difference=h;let p=s;h<r&&(p=a),n.differenceColor=p,r=h}}),this.differenceSeries.data.setAll(e),this.signalSeries.data.setAll(e),this.series.data.setAll(e)}}}Object.defineProperty(ft,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MACD"}),Object.defineProperty(ft,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([ft.className])});class mt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"chaikinmoneyflow"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"cmf",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){this.isDirty("volumeSeries")&&(this._dataDirty=!0),super._prepareChildren()}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems,e=this.get("volumeSeries");this.setRaw("field","close");let i=this._getDataArray(t),s=0;x.S6(t,r=>{let n=r.get("valueY");if(null!=n){let o=r.get("lowValueY",n),u=r.get("highValueY",n),h=1;const p=e.dataItems[s];p&&(h=p.get("valueY",1));let g=(n-o-(u-n))/(u-o);u==o&&(g=0),i[s].mfv=g*h,i[s].volume=h}s++});const a=this.get("period",20);s=0,x.S6(i,r=>{if(s>=a-1){let n=0,o=0;for(let u=s;u>s-a;u--)n+=i[u].mfv,o+=i[u].volume;r.cmf=n/o}s++}),this.series.data.setAll(i)}}}Object.defineProperty(mt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ChaikinMoneyFlow"}),Object.defineProperty(mt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([mt.className])});class vt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Fast period"),type:"number"},{key:"slowPeriod",name:this.root.language.translateAny("Slow period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"chaikinoscillator"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"cmf",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){(this.isDirty("volumeSeries")||this.isDirty("slowPeriod"))&&(this._dataDirty=!0,this.setCustomData("slowPeriod",this.get("slowPeriod"))),super._prepareChildren()}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems,e=this.get("volumeSeries");this.setRaw("field","close");let i=0,s=this._getDataArray(t),a=0;x.S6(t,r=>{let n=r.get("valueY");if(null!=n){let o=r.get("lowValueY",n),u=r.get("highValueY",n),h=1;const p=e.dataItems[i];p&&(h=p.get("valueY",1));let g=(n-o-(u-n))/(u-o);u==o&&(g=0);let m=a+g*h;s[i].ad=m,a=m}i++}),this._ema(s,this.get("slowPeriod",10),"ad","emaSlow"),this._ema(s,this.get("period",3),"ad","emaFast"),x.S6(s,r=>{const n=r.emaSlow,o=r.emaFast;null!=n&&null!=o&&(r.cmf=o-n)}),this.series.data.setAll(s)}}}Object.defineProperty(vt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ChaikinOscillator"}),Object.defineProperty(vt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([vt.className])});class bt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"onbalancevolume"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"obv",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){this.isDirty("volumeSeries")&&(this._dataDirty=!0),super._prepareChildren()}prepareData(){if(this.series){this.setRaw("field","close");const t=this.get("stockSeries").dataItems,e=this.get("volumeSeries");let i=this._getDataArray(t),s=0,a=i.length;if(e&&a>1){let r=i[0].value_y;for(let n=1;n<a;n++){const o=i[n];let u=o.value_y;if(null!=u){const h=e.dataItems[n];let p=0;h&&(p=h.get("valueY",1));let g=s;u>r?g+=p:u<r&&(g-=p),o.obv=g,s=g,r=u}}}this.series.data.setAll(i)}}}Object.defineProperty(bt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OnBalanceVolume"}),Object.defineProperty(bt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([bt.className])});class yt extends z{constructor(){super(...arguments),Object.defineProperty(this,"overBought",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"slowSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"kSmoothing",name:this.root.language.translateAny("%K Smoothing"),type:"number"},{key:"dSmoothing",name:this.root.language.translateAny("%D Smoothing"),type:"number"},{key:"overBought",name:this.root.language.translateAny("Overbought"),type:"number"},{key:"overSold",name:this.root.language.translateAny("Oversold"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Fast"),type:"color"},{key:"slowColor",name:this.root.language.translateAny("Slow"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"stochastic"})}_afterNew(){super._afterNew(),this.yAxis.setAll({min:0,max:100,strictMinMax:!0});const t=this.yAxis.makeDataItem({});this.overBought=t,this.yAxis.createAxisRange(t);const e=t.get("grid");e&&(e.setAll({themeTags:["overbought"],visible:!0}),e._applyThemes());const i=t.get("label");i&&(i.setAll({themeTags:["overbought"],visible:!0,location:0}),i._applyThemes());const s=this.yAxis.makeDataItem({});this.overSold=s,this.yAxis.createAxisRange(s);const a=s.get("grid");a&&(a.setAll({themeTags:["oversold"],visible:!0}),a._applyThemes());const r=s.get("label");r&&(r.setAll({themeTags:["oversold"],visible:!0,location:0}),r._applyThemes());const n=this.panel.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"slow",xAxis:this.xAxis,yAxis:this.yAxis,groupDataDisabled:!0,themeTags:["indicator","slow"]}));this.slowSeries=n}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"fast",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){(this.isDirty("kSmoothing")||this.isDirty("dSmoothing"))&&(this._dataDirty=!0),super._prepareChildren()}_updateChildren(){super._updateChildren();const t=this.get("overSold",20),e=this.get("overBought",80);if(this.isDirty("overBought")){this.overBought.set("value",e);const i=this.overBought.get("label");i&&i.set("text",this.getNumberFormatter().format(e))}if(this.isDirty("overSold")){this.overSold.set("value",t);const i=this.overSold.get("label");i&&i.set("text",this.getNumberFormatter().format(t))}this.series.get("yAxis").set("baseValue",t+(e-t)/2),this.isDirty("slowColor")&&this._updateSeriesColor(this.slowSeries,this.get("slowColor"),"slowColor")}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems;let e=this.get("period",14),i=[],s=0;x.S6(t,a=>{const r=a.get("valueX");let n;if(s>=e-1){let o=this._getValue(a);if(null!=o){let u=1/0,h=-u;for(let p=s;p>s-e;p--){let g=t[p].get("highValueY"),m=t[p].get("lowValueY");null!=g&&null!=m&&(m<u&&(u=m),g>h&&(h=g))}n=(o-u)/(h-u)*100}}i.push(null==n?{valueX:r}:{valueX:r,value_y:n}),s++}),e=this.get("kSmoothing",1),this._sma(i,e,"value_y","fast"),e=this.get("dSmoothing",3),this._sma(i,e,"fast","slow"),this.series.data.setAll(i),this.slowSeries.data.setAll(i)}}}Object.defineProperty(yt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StochasticOscillator"}),Object.defineProperty(yt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([yt.className])});class xt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"increasingColor",name:this.root.language.translateAny("Increasing"),type:"color"},{key:"decreasingColor",name:this.root.language.translateAny("Decreasing"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"awesomeoscillator"})}_createSeries(){return this.panel.series.push(Ut.d.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"ao",stroke:this.get("seriesColor"),fill:void 0}))}_updateChildren(){if(super._updateChildren(),this.isDirty("increasingColor")||this.isDirty("decreasingColor")){const t=this.series.columns.template,e=this.get("increasingColor"),i=this.get("decreasingColor");t.states.create("riseFromPrevious",{fill:e,stroke:e}),t.states.create("dropFromPrevious",{fill:i,stroke:i}),this._dataDirty=!0}}prepareData(){if(this.series){this.set("field","hl/2");const t=this.get("stockSeries").dataItems;let e=this.get("decreasingColor",_.Il.fromHex(16711680)).toCSSHex(),i=this.get("increasingColor",_.Il.fromHex(65280)).toCSSHex(),s=this._getDataArray(t),a=5;this._sma(s,5,"value_y","sma5"),a=34,this._sma(s,34,"value_y","sma34");let r=-1/0,n=0;x.S6(s,o=>{if(n++,n>=a){let u=o.sma5-o.sma34,h=i;u<r&&(h=e),o.ao=u,o.oscillatorColor=h,r=u}}),this.series.data.setAll(s)}}}Object.defineProperty(xt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AwesomeOscillator"}),Object.defineProperty(xt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([xt.className])});class _t extends z{constructor(){super(...arguments),Object.defineProperty(this,"overBought",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSoldRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overBoughtRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"overBought",name:this.root.language.translateAny("Overbought"),type:"number"},{key:"overBoughtColor",name:this.root.language.translateAny("Overbought"),type:"color"},{key:"overSold",name:this.root.language.translateAny("Oversold"),type:"number"},{key:"overSoldColor",name:this.root.language.translateAny("Oversold"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"williamsr"})}_afterNew(){super._afterNew();const t=this.yAxis.makeDataItem({});this.overBought=t,t.set("endValue",0);const e=this.series.createAxisRange(t);this.overBoughtRange=e;const i=e.fills;i&&i.template.set("themeTags",["overbought","fill"]);const s=t.get("grid");s&&(s.setAll({themeTags:["overbought"],visible:!0}),s._applyThemes());const a=t.get("label");a&&(a.setAll({themeTags:["overbought"],visible:!0,location:0}),a._applyThemes());const r=this.yAxis.makeDataItem({});this.overSold=r,r.set("endValue",-100);const n=this.series.createAxisRange(r);this.overSoldRange=n;const o=n.fills;o&&o.template.set("themeTags",["oversold","fill"]);const u=r.get("grid");u&&(u.setAll({themeTags:["oversold"],visible:!0}),u._applyThemes());const h=r.get("label");h&&(h.setAll({themeTags:["oversold"],visible:!0,location:0}),h._applyThemes())}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"williams",fill:void 0}))}_updateChildren(){super._updateChildren();const t=this.get("overSold",-80),e=this.get("overBought",-20);if(this.isDirty("overBought")){this.overBought.set("value",e);const a=this.overBought.get("label");a&&a.set("text",this.getNumberFormatter().format(e))}if(this.isDirty("overSold")){this.overSold.set("value",t);const a=this.overSold.get("label");a&&a.set("text",this.getNumberFormatter().format(t))}if(this.isDirty("overSoldColor")){const a=this.get("overSoldColor"),r=this.overSold.get("label");r&&r.set("fill",a),this.overSold.get("grid").set("stroke",a),this.overSoldRange.fills.template.set("fill",a),this.overSoldRange.strokes.template.set("stroke",a)}if(this.isDirty("overBoughtColor")){const a=this.get("overBoughtColor"),r=this.overBought.get("label");r&&r.set("fill",a),this.overBought.get("grid").set("stroke",a),this.overBoughtRange.fills.template.set("fill",a),this.overBoughtRange.strokes.template.set("stroke",a)}let i=Math.min(e,t),s=Math.max(e,t);this.series.get("yAxis").set("baseValue",i+(s-i)/2)}prepareData(){if(this.series){this.set("field","close");const t=this.get("stockSeries").dataItems;let e=this._getDataArray(t),i=this.get("period",14);for(let s=0,a=e.length;s<a;s++){const r=e[s];let n=-1/0,o=1/0;for(let h=Math.max(0,s-i);h<=s;h++){let p=t[h].get("highValueY",0);p>=n&&(n=p);let g=t[h].get("lowValueY",0);g<=o&&(o=g)}r.williams=-100*(n-r.value_y)/(n-o)}this.series.data.setAll(e)}}}Object.defineProperty(_t,"className",{enumerable:!0,configurable:!0,writable:!0,value:"WilliamsR"}),Object.defineProperty(_t,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([_t.className])});class wt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"increasingColor",name:this.root.language.translateAny("Up volume"),type:"color"},{key:"decreasingColor",name:this.root.language.translateAny("Down volume"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"volume"})}_createSeries(){return this.panel.series.push(Ut.d.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"volume",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){(this.isDirty("increasingColor")||this.isDirty("decreasingColor"))&&(this._dataDirty=!0),super._prepareChildren()}prepareData(){if(this.series){const t=this.get("volumeSeries"),e=this.get("stockChart");if(t&&e){const i=t.dataItems;this.setRaw("field","close");let s=this.get("decreasingColor",_.Il.fromHex(16711680)),a=this.get("increasingColor",_.Il.fromHex(65280)),r=this._getDataArray(i);x.S6(r,n=>{n.volume=n.value_y}),this.series.data.setAll(r),x.S6(this.series.dataItems,n=>{n.dataContext.volumeColor=e.getVolumeColor(n,s,a)})}}}}Object.defineProperty(wt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Volume"}),Object.defineProperty(wt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([wt.className])});class kt extends z{constructor(){super(...arguments),Object.defineProperty(this,"overBought",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overSoldRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"overBoughtRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"overBought",name:this.root.language.translateAny("Overbought"),type:"number"},{key:"overBoughtColor",name:this.root.language.translateAny("Overbought"),type:"color"},{key:"overSold",name:this.root.language.translateAny("Oversold"),type:"number"},{key:"overSoldColor",name:this.root.language.translateAny("Oversold"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"commoditychannelindex"})}_afterNew(){super._afterNew();const t=this.yAxis.makeDataItem({});this.overBought=t,t.set("endValue",1e3);const e=this.series.createAxisRange(t);this.overBoughtRange=e;const i=e.fills;i&&i.template.set("themeTags",["overbought","fill"]);const s=t.get("grid");s&&(s.setAll({themeTags:["overbought"],visible:!0}),s._applyThemes());const a=t.get("label");a&&(a.setAll({themeTags:["overbought"],visible:!0,location:0}),a._applyThemes());const r=this.yAxis.makeDataItem({});this.overSold=r,r.set("endValue",-1e3);const n=this.series.createAxisRange(r);this.overSoldRange=n;const o=n.fills;o&&o.template.set("themeTags",["oversold","fill"]);const u=r.get("grid");u&&(u.setAll({themeTags:["oversold"],visible:!0}),u._applyThemes());const h=r.get("label");h&&(h.setAll({themeTags:["oversold"],visible:!0,location:0}),h._applyThemes())}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"cci",fill:void 0}))}_updateChildren(){super._updateChildren();const t=this.get("overSold",100),e=this.get("overBought",-100);if(this.isDirty("overBought")){this.overBought.set("value",e);const a=this.overBought.get("label");a&&a.set("text",this.getNumberFormatter().format(e))}if(this.isDirty("overSold")){this.overSold.set("value",t);const a=this.overSold.get("label");a&&a.set("text",this.getNumberFormatter().format(t))}if(this.isDirty("overSoldColor")){const a=this.get("overSoldColor"),r=this.overSold.get("label");r&&r.set("fill",a),this.overSold.get("grid").set("stroke",a),this.overSoldRange.fills.template.set("fill",a),this.overSoldRange.strokes.template.set("stroke",a)}if(this.isDirty("overBoughtColor")){const a=this.get("overBoughtColor"),r=this.overBought.get("label");r&&r.set("fill",a),this.overBought.get("grid").set("stroke",a),this.overBoughtRange.fills.template.set("fill",a),this.overBoughtRange.strokes.template.set("stroke",a)}let i=Math.min(e,t),s=Math.max(e,t);this.series.get("yAxis").set("baseValue",i+(s-i)/2)}prepareData(){if(this.series){this.set("field","close");const t=this.get("stockSeries").dataItems;let e=this._getTypicalPrice(t),i=this.get("period",20);this._sma(e,i,"value_y","sma");for(let s=0,a=e.length;s<a;s++){const r=e[s],n=r.value_y;let o=r.sma,u=0;if(s>=i-1){for(let h=s;h>s-i;h--)u+=Math.abs(e[h].value_y-o);u/=i,r.cci=(n-o)/(.015*u)}}this.series.data.setAll(e)}}}Object.defineProperty(kt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CommodityChannelIndex"}),Object.defineProperty(kt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([kt.className])});class Ct extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]},{key:"movingAverageType",name:this.root.language.translateAny("Moving Average Type"),type:"dropdown",options:["simple","weighted","exponential","dema","tema"]}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"disparityindex"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"disparity",stroke:this.get("seriesColor"),fill:void 0}))}_prepareChildren(){this.isDirty("movingAverageType")&&(this._dataDirty=!0,this.setCustomData("movingAverageType",this.get("movingAverageType"))),super._prepareChildren()}prepareData(){if(this.series){const t=this.get("stockSeries").dataItems,e=this.get("period",14),i=this.get("movingAverageType");let s=this._getDataArray(t);switch(i){case"simple":this._sma(s,e,"value_y","ma");break;case"weighted":this._wma(s,e,"value_y","ma");break;case"exponential":this._ema(s,e,"value_y","ma");break;case"dema":this._dema(s,e,"value_y","ma");break;case"tema":this._tema(s,e,"value_y","ma")}x.S6(s,a=>{const r=a.ma;null!=r&&(a.disparity=100*(a.value_y-r)/r)}),this.series.data.setAll(s)}}}Object.defineProperty(Ct,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DisparityIndex"}),Object.defineProperty(Ct,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([Ct.className])});class Dt extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"field",name:this.root.language.translateAny("Field"),type:"dropdown",options:["open","close","low","high","hl/2","hlc/3","hlcc/4","ohlc/4"]}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"standarddeviation"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"deviation",fill:void 0}))}prepareData(){if(super.prepareData(),this.series){let t=this.get("period",20);const i=this.get("stockSeries").dataItems;let s=this._getDataArray(i);this._sma(s,t,"value_y","ma");let a=0;x.S6(s,r=>{if(a>=t-1){let n=r.ma,o=0;for(let h=a-t+1;h<=a;h++){let g=this._getValue(i[h]);null!=g&&(o+=Math.pow(g-n,2))}let u=Math.sqrt(o/t);r.deviation=u}a++}),this.series.data.setAll(s)}}}Object.defineProperty(Dt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StandardDeviation"}),Object.defineProperty(Dt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([Dt.className])});class St extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"typicalprice"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"typical",fill:void 0}))}prepareData(){if(super.prepareData(),this.series){let t=this.get("period",20);const i=this.get("stockSeries").dataItems;let s=this._getDataArray(i),a=0,r=0,n=0;x.S6(s,o=>{let u=o.value_y;if(null!=u&&(a++,n+=u/t,a>=t)){if(a>t){let h=s[r-t].value_y;null!=h&&(n-=h/t)}o.typical=n}r++}),this.series.data.setAll(s)}}}Object.defineProperty(St,"className",{enumerable:!0,configurable:!0,writable:!0,value:"TypicalPrice"}),Object.defineProperty(St,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([St.className])});class Pt extends z{constructor(){super(...arguments),Object.defineProperty(this,"signalSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"},{key:"signalPeriod",name:this.root.language.translateAny("Signal period"),type:"number"},{key:"signalColor",name:this.root.language.translateAny("Signal color"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"trix"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"trix",fill:void 0}))}_afterNew(){super._afterNew();const t=this.panel;if(t){const e=t.series.push(C.e.new(this._root,{valueXField:"valueX",valueYField:"signal",xAxis:this.xAxis,yAxis:this.yAxis,groupDataDisabled:!0,themeTags:["indicator","signal"]}));this.signalSeries=e}}_prepareChildren(){this.isDirty("signalPeriod")&&(this._dataDirty=!0,this.setCustomData("signalPeriod",this.get("signalPeriod"))),super._prepareChildren()}_updateChildren(){super._updateChildren(),this.isDirty("signalColor")&&this._updateSeriesColor(this.signalSeries,this.get("signalColor"),"signalColor");const t=this.series.dataItem;if(t){const e=t.dataContext;if(e){e.signalPeriod=this.get("signalPeriod");const i=this.get("signalColor");i&&(e.signalColor=i.toCSSHex())}}}prepareData(){if(super.prepareData(),this.series){let t=this.get("period",14);const i=this.get("stockSeries").dataItems;let a,r,s=this._getDataArray(i);this._ema(s,t,"value_y","ema"),this._ema(s,t,"ema","ema2"),this._ema(s,t,"ema2","ema3"),x.S6(s,n=>{let o=n.ema3;a&&(r=a.ema3),se.hj(o)&&se.hj(r)&&(n.trix=100*(o-r)/r),a=n}),this.series.data.setAll(s),t=this.get("signalPeriod",9),this._sma(s,t,"trix","signal"),this.signalSeries.data.setAll(s)}}}Object.defineProperty(Pt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Trix"}),Object.defineProperty(Pt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([Pt.className])});class At extends z{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"period",name:this.root.language.translateAny("Period"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"}]}),Object.defineProperty(this,"_themeTag",{enumerable:!0,configurable:!0,writable:!0,value:"medianprice"})}_createSeries(){return this.panel.series.push(C.e.new(this._root,{themeTags:["indicator"],xAxis:this.xAxis,yAxis:this.yAxis,valueXField:"valueX",valueYField:"median",fill:void 0}))}prepareData(){if(super.prepareData(),this.series){let t=this.get("period",20);const i=this.get("stockSeries").dataItems;let s=this._getDataArray(i),a=0,r=0,n=0;x.S6(s,o=>{let u=o.value_y;if(null!=u&&(a++,n+=u/t,a>=t)){if(a>t){let h=s[r-t].value_y;null!=h&&(n-=h/t)}o.median=n}r++}),this.series.data.setAll(s)}}}Object.defineProperty(At,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MedianPrice"}),Object.defineProperty(At,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.classNames.concat([At.className])});class Mt extends we{constructor(){super(...arguments),Object.defineProperty(this,"_editableSettings",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"deviation",name:this.root.language.translateAny("Deviation"),type:"number"},{key:"depth",name:this.root.language.translateAny("Depth"),type:"number"},{key:"seriesColor",name:this.root.language.translateAny("Color"),type:"color"}]})}_prepareChildren(){(this.isDirty("deviation")||this.isDirty("depth"))&&(this._dataDirty=!0,this.setCustomData("deviation",this.get("deviation")),this.setCustomData("depth",this.get("depth"))),super._prepareChildren()}_afterNew(){super._afterNew();const t=this.get("stockSeries"),e=t.chart;if(e){const i=e.series.push(C.e.new(this._root,{valueXField:"time",valueYField:"zigzag",groupDataDisabled:!0,calculateAggregates:!0,xAxis:t.get("xAxis"),yAxis:t.get("yAxis"),themeTags:["indicator","zigzag"],name:"ZigZag"}));i.setPrivate("baseValueSeries",t),this.series=i,this._handleLegend(i)}}prepareData(){if(this.series){const t=this.get("deviation",5)/100,e=this.get("stockSeries"),i=[];if(e){const s=e.dataItems;if(s.length>1){let p,g,a=s[0],r=!1,n=a.get("valueX",0),o=a.get("valueY"),u=a.get("highValueY",o),h=a.get("lowValueY",o),m=1;for(let w=1,v=s.length;w<v;w++){let k=s[w],T=k.get("value",0),L=k.get("lowValueY",T),N=k.get("highValueY",T),A=k.get("valueX",0);if(L<=Number(u)*(1-t)){i.push({time:n,zigzag:u}),p=A,g=L,r=!0,m=w;break}if(N>=Number(h)*(1+t)){i.push({time:n,zigzag:h}),p=A,g=N,r=!1,m=w;break}}if(null!=g){let w=this.get("depth",3);for(let A=m-1,O=s.length;A<O;A++){let $=s[A],H=$.get("value",0),J=$.get("lowValueY",H),ae=$.get("highValueY",H),Q=$.get("valueX",0);if(r){if(J<=g)g=J,p=Q;else if(ae>=g*(1+t)){let V=Math.max(0,A-w),ue=!1;for(let de=A;de>V;de--)if(ae<s[de].get("highValueY")){ue=!0;break}ue||(i.push({time:p,zigzag:g}),g=ae,p=Q,r=!1)}}else if(ae>=g)g=ae,p=Q;else if(J<=g*(1-t)){let V=Math.max(0,A-w),ue=!1;for(let de=A;de>V;de--)if(J>s[de].get("lowValueY")){ue=!0;break}ue||(i.push({time:p,zigzag:g}),g=J,p=Q,r=!0)}}const v=s[s.length-1];let k=v.get("valueX",0),T=v.get("valueY"),L=v.get("highValueY",T),N=v.get("lowValueY",T);i.push(g<L?{time:k,zigzag:N}:{time:k,zigzag:L})}}this.series.data.setAll(i)}}}}Object.defineProperty(Mt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZigZag"}),Object.defineProperty(Mt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:we.classNames.concat([Mt.className])});var Oi=F(30517),Ei=F(50804),je=F(88802);class ye extends C.e{constructor(){super(...arguments),Object.defineProperty(this,"_clickDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_moveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_upDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_drawingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_clickPointerPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePointerPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDrawing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isPointerDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_di",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dragStartPX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dragStartY",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dvpX",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dvY",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_erasingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.addTag("drawing"),this._tag&&this.addTag(this._tag),this.set("valueYField","valueY"),this.set("valueXField","valueX"),super._afterNew(),this.set("connect",!1),this.set("autoGapCount",1/0),this.set("ignoreMinMax",!0),this.set("groupDataDisabled",!0);const t=this.strokes.template;t.set("templateField","stroke");const e=this.fills.template;e.setAll({templateField:"fill"}),e.events.on("dragstart",i=>{this._handleFillDragStart(i,this._getIndex(i.target)),this._isPointerDown=!0}),e.events.on("pointerdown",i=>{const s=this._getIndex(i.target);this._erasingEnabled?this._disposeIndex(s):!i.originalEvent.button&&this._drawingEnabled&&this._handlePointerDown(i);const a=this.strokes.getIndex(this._getStrokeIndex(s));a&&a.dragStart(i)}),t.events.on("pointerdown",i=>{this._erasingEnabled?this._disposeIndex(this._getIndex(i.target)):!i.originalEvent.button&&this._drawingEnabled&&this._handlePointerDown(i)}),e.events.on("dragstop",i=>{this._isPointerDown=!1;const s=this._getIndex(i.target);this._handleFillDragStop(i,s);const a=this.strokes.getIndex(this._getStrokeIndex(s));a&&a.dragStop(i)}),e.events.on("pointerover",i=>{const s=this._getIndex(i.target),a=this.strokes.getIndex(this._getStrokeIndex(s));a&&a.hover(),this._isHover=!0,this._showSegmentBullets(s)}),e.events.on("pointerout",()=>{this._isHover=!1,this._hideAllBullets()}),t.events.on("pointerover",i=>{this._isHover=!0,this._showSegmentBullets(this._getIndex(i.target))}),t.events.on("pointerout",()=>{this._isHover=!1,this._hideAllBullets()}),t.events.on("dragstop",i=>{this._handleFillDragStop(i,this._getIndex(i.target))}),t.events.on("dragstart",i=>{this._handleFillDragStart(i,this._getIndex(i.target))}),this.bulletsContainer.states.create("hidden",{visible:!0,opacity:0}),this.bullets.push((i,s,a)=>{const o=this._di[a.dataContext.index].e;let u=this.get("strokeColor",this.get("stroke"));if(o){const p=o.dataContext;if(p){const g=p.stroke;g&&(u=g.get("stroke"))}}const h=fe.W.new(this._root,{themeTags:["grip"],setStateOnChildren:!0,draggable:!0});return h.children.push(Ei.C.new(this._root,{themeTags:["outline"],stroke:u})),h.children.push(Ei.C.new(this._root,{stroke:u})),h.events.on("pointerover",p=>{const g=p.target.dataItem;g&&this._showSegmentBullets(g.dataContext.index)}),h.events.on("pointerout",()=>{this._hideAllBullets()}),this._addBulletInteraction(h),this._tweakBullet(h,a),Oi.g.new(this._root,{locationX:void 0,sprite:h})}),this.events.on("pointerover",()=>{this._handlePointerOver()}),this.events.on("pointerout",()=>{this._handlePointerOut()})}_disposeIndex(t){const e=this._di[t];e&&pe.S6(e,(i,s)=>{this.data.removeValue(s.dataContext)})}_afterDataChange(){x.S6(this.dataItems,t=>{const e=t.dataContext,i=e.index,s=e.corner;null!=i&&(null==this._di[i]&&(this._di[i]={}),this._createElements(i,t),this._di[i][s]=t,this._index=i)})}_createElements(t,e){}clearDrawings(){x.S6(this._di,(t,e)=>{this._disposeIndex(e)}),this.data.setAll([]),this._index=0}_getIndex(t){const e=t.get("userData");if(e&&e.length>0){const i=this.dataItems[e[0]];if(i){const s=i.dataContext;if(s)return s.index}}return 0}_getStrokeIndex(t){let e=0,i=t;return this.strokes.each(s=>{this._getIndex(s)==t&&(i=e),e++}),i}_showSegmentBullets(t){const e=this._di[t];e&&pe.S6(e,(i,s)=>{const a=s.bullets;a&&x.S6(a,r=>{const n=r.get("sprite");n&&n.show()})})}_hideAllBullets(){this.strokes.each(t=>{t.unhover()}),this._drawingEnabled||this._isDragging||x.S6(this.dataItems,e=>{const i=e.bullets;i&&x.S6(i,s=>{const a=s.get("sprite");a&&a.hide()})})}showAllBullets(){x.S6(this.dataItems,t=>{const e=t.bullets;e&&x.S6(e,i=>{const s=i.get("sprite");s&&s.show()})})}_handleFillDragStart(t,e){const i=this.chart;if(i){const s=this.get("xAxis"),a=this.get("yAxis"),r=i.plotContainer.toLocal(t.point);this._dragStartPX=s.coordinateToPosition(r.x),this._dragStartY=this._getYValue(a.positionToValue(a.coordinateToPosition(r.y)));const n=this._di[e];n&&pe.S6(n,(o,u)=>{this._dvpX[o]=s.valueToPosition(u.get("valueX",0)),this._dvY[o]=u.get("valueY")})}}_handleFillDragStop(t,e){const i=this.chart;if(i){const s=i.plotContainer.toLocal(t.point),a=this.get("xAxis"),r=this.get("yAxis"),n=a.coordinateToPosition(s.x),o=this._getYValue(r.positionToValue(r.coordinateToPosition(s.y))),u=n-this._dragStartPX,h=o-this._dragStartY,p=this._di[e];p&&pe.S6(p,(g,m)=>{const w=this._dvpX[g],v=this._dvY[g];if(se.hj(w)&&se.hj(v)){const k=w+u;let T=v+h;const N=this.get("yAxis").getPrivate("stepDecimalPlaces",0)+1;T=be.NM(T,N);const A=this._getXValue(a.positionToValue(k));this._setContext(m,"valueX",A),this._setContext(m,"valueY",T,!0),this._setXLocation(m,A)}})}this._updateSegment(e)}_updateSegment(t){this._updateElements()}_updateChildren(){this._updateElements(),this._valuesDirty&&this.markDirtyDrawings(),super._updateChildren()}_updateElements(){}markDirtyDrawings(){const t=this.get("xAxis");if(t){const e=t.chart;if(e){const i=e.getPrivate("stockChart");i&&i.markDirtyDrawings()}}}_getFillTemplate(){const t={},e=this.get("fillColor");null!=e&&(t.fill=e);const i=this.get("fillOpacity");return null!=i&&(t.fillOpacity=i),Ae.YS.new(t)}_getStrokeTemplate(){const t={},e=this.get("strokeColor");null!=e&&(t.stroke=e);const i=this.get("strokeOpacity");null!=i&&(t.strokeOpacity=i);const s=this.get("strokeDasharray");null!=s&&(t.strokeDasharray=s);const a=this.get("strokeWidth");return null!=a&&(t.strokeWidth=a),Ae.YS.new(t)}_tweakBullet(t,e){}_addBulletInteraction(t){t.events.on("dragged",e=>{this._handleBulletDragged(e),this._isDragging=!0}),t.events.on("dragstart",e=>{this._handleBulletDragStart(e)}),t.events.on("dragstop",e=>{this._handleBulletDragStop(e),this.setTimeout(()=>{this._isDragging=!1},100)}),t.events.on("click",e=>{if(this._erasingEnabled){const i=e.target.dataItem;if(i){const s=i.dataContext;s&&this._disposeIndex(s.index)}}else this._handlePointerClick(e)})}_handlePointerClick(t){if(this._drawingEnabled){const e=this.chart;e&&(this._clickPointerPoint=e.plotContainer.toLocal(t.point))}}_placeBulletsContainer(){this.children.moveValue(this.bulletsContainer),this.enableDrawing(),this.disableDrawing()}_handleBulletDragged(t){const e=t.target.dataItem;if(this.chart){const a=t.target,r={x:a.x(),y:a.y()};this._handleBulletDraggedReal(e,r)}const s=e.dataContext;s&&this._updateSegment(s.index)}_handleBulletDraggedReal(t,e){const i=this.get("xAxis"),s=this.get("yAxis"),a=this._getXValue(i.positionToValue(i.coordinateToPosition(e.x))),r=this._getYValue(s.positionToValue(s.coordinateToPosition(e.y)));this._setContext(t,"valueX",a),this._setContext(t,"valueY",r,!0),this._setXLocation(t,a),this._positionBullets(t)}_handleBulletDragStart(t){}_handleBulletDragStop(t){}_handlePointerOver(){}_handlePointerOut(){}enableDrawing(){const t=this.chart;this._erasingEnabled=!1,this._drawingEnabled=!0,t&&(this._clickDp||(this._clickDp=t.plotContainer.events.on("click",e=>{!e.originalEvent.button&&!this._erasingEnabled&&this._handlePointerClick(e)})),this._downDp||(this._downDp=t.plotContainer.events.on("pointerdown",e=>{!e.originalEvent.button&&!this._erasingEnabled&&this._handlePointerDown(e)})),this._upDp||(this._upDp=t.plotContainer.events.on("globalpointerup",e=>{!e.originalEvent.button&&!this._erasingEnabled&&this._handlePointerUp(e)})),this._moveDp||(this._moveDp=t.plotContainer.events.on("globalpointermove",e=>{this._erasingEnabled||this._handlePointerMove(e)})))}enableErasing(){this._erasingEnabled=!0}disableErasing(){this._erasingEnabled=!1}disableDrawing(){this._erasingEnabled=!1,this._drawingEnabled=!1,this._isDrawing=!1,this._clickDp&&(this._clickDp.dispose(),this._clickDp=void 0),this._downDp&&(this._downDp.dispose(),this._downDp=void 0),this._upDp&&(this._upDp.dispose(),this._upDp=void 0),this._hideAllBullets()}_handlePointerMove(t){const e=this.chart;e&&(this._movePointerPoint=e.plotContainer.toLocal(t.point))}_handlePointerDown(t){this._isPointerDown=!0}_handlePointerUp(t){this._isPointerDown=!1}startIndex(){return 0}endIndex(){return this.dataItems.length}_setXLocation(t,e){this._setXLocationReal(t,e)}_setXLocationReal(t,e){const s=this.get("xAxis").getPrivate("baseInterval"),a=this._root,r=a.locale.firstDayOfWeek,n=je.NM(new Date(e),s.timeUnit,s.count,r,a.utc).getTime();let o=n+je.g9(s.timeUnit,1.05*s.count);o=je.NM(new Date(o),s.timeUnit,s.count,r,a.utc).getTime(),t.set("locationX",(e-n)/(o-n))}disposeDataItem(t){super.disposeDataItem(t);const e=t.dataContext;if(e){const i=e.index;this.markDirtyValues();const s=this._di[i];s&&pe.S6(s,(a,r)=>{super.disposeDataItem(r)}),delete this._di[i]}}_getYValue(t){if("valueYChangeSelectionPercent"==this.get("valueYShow")){const s=this.getPrivate("baseValueSeries");if(s){const a=s._getBase("valueY");t=t/100*a+a}}const i=this.get("yAxis").getPrivate("stepDecimalPlaces",0)+1;return be.NM(t,i)}_getXValue(t){const e=this.get("xAxis"),i=e.getPrivate("min",0)+1,s=e.getPrivate("max",1)-1;return Math.round(be.C7(t,i,s))}_setContext(t,e,i,s){t.set(e,i),s&&t.set(e+"Working",i);const a=t.dataContext,r=this.get(e+"Field");r&&(a[r]=i)}}Object.defineProperty(ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DrawingSeries"}),Object.defineProperty(ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:C.e.classNames.concat([ye.className])});class Ve extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_pIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"polyline"})}_handlePointerClick(t){this._drawingEnabled&&(super._handlePointerClick(t),this._isDragging||(this._isDrawing=!0,0==this._index&&(this._index=1),0==this._pIndex&&this.data.push({stroke:this._getStrokeTemplate(),index:this._index,corner:"e"}),this._addPoint(t)))}_handleBulletDragStop(t){super._handleBulletDragStop(t),this._checkClosing(t)}_afterDataChange(){super._afterDataChange();const t=this.dataItems;t.length>0&&t[t.length-1].dataContext.closing&&(this._pIndex=0)}_addPoint(t){const e=this.chart;if(e){const i=this.get("xAxis"),s=this.get("yAxis"),a=e.plotContainer.toLocal(t.point),r=this._getXValue(i.positionToValue(i.coordinateToPosition(a.x))),n=this._getYValue(s.positionToValue(s.coordinateToPosition(a.y))),o=this.dataItems,u=o.length;this.data.push({valueY:n,valueX:r,index:this._index,corner:this._pIndex}),this.setPrivate("startIndex",0),this.setPrivate("endIndex",u);const h=o[u];this._positionBullets(h),this._setXLocation(h,r),this._pIndex++,this._handleClosing(h,a)}}_checkClosing(t){const e=t.target.dataItem;if(e){const i=t.target,s={x:i.x(),y:i.y()};this._handleClosing(e,s)}}_handleClosing(t,e){const i=t.dataContext;if(!i.closing){const s=i.index;if(this._di[s]){const a=this._di[s][0];if(a&&a!=t){const r=a.get("point");r&&Math.hypot(e.x-r.x,e.y-r.y)<5&&(i.closing=!0,this._pIndex=0,this.data.push({stroke:this._getStrokeTemplate(),index:s+1,corner:"e"}))}}}}_updateElements(){x.S6(this.dataItems,t=>{const e=t.dataContext;if(e&&e.closing&&this._di[e.index]){const s=this._di[e.index][0],a=s.get("valueX",0),r=s.get("valueY");this._setContext(t,"valueX",a),this._setContext(t,"valueY",r,!0),this._setXLocation(t,a),this._positionBullets(t);const n=t.bullets;n&&x.S6(n,o=>{const u=o.get("sprite");u&&u.set("forceHidden",!0)})}})}}Object.defineProperty(Ve,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PolylineSeries"}),Object.defineProperty(Ve,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([Ve.className])});class Tt extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_di",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"rectangle"})}_handleBulletDragged(t){super._handleBulletDragged(t);const e=t.target.dataItem,i=this._movePointerPoint;if(e&&i){const s=e.dataContext,a=s.index,r=s.corner,n=this.get("xAxis"),o=this.get("yAxis"),u=this._getXValue(n.positionToValue(n.coordinateToPosition(i.x))),h=this._getYValue(o.positionToValue(o.coordinateToPosition(i.y))),p="valueX",g="valueY";this._setContext(e,p,u),this._setContext(e,g,h,!0),this._setXLocation(e,u),this._positionBullets(e);const m=this._di[a];if(m){const w=m.bl,v=m.br,k=m.tl,T=m.tr,L=m.tl2;w&&v&&k&&T&&L&&("br"==r&&(this._setContext(w,g,h,!0),this._setContext(T,p,u),this._setXLocation(T,u)),"tr"==r&&(this._setContext(v,p,u),this._setXLocation(v,u),this._setContext(k,g,h,!0),this._setContext(L,g,h,!0)),"bl"==r&&(this._setContext(v,g,h,!0),this._setContext(k,p,u),this._setContext(L,p,u),this._setXLocation(k,u),this._setXLocation(L,u)),"tl2"==r&&(this._setContext(w,p,u),this._setXLocation(w,u),this._setContext(T,g,h,!0),this._setContext(k,p,u),this._setXLocation(k,u),this._setContext(k,g,h,!0)))}}}_handlePointerClick(t){this._drawingEnabled&&(super._handlePointerClick(t),this._isDragging||(this._isDrawing?this._isDrawing=!1:(this._index++,this._isDrawing=!0,this.bulletsContainer.show(),this._addPoints(t,this._index))))}_handlePointerMove(t){if(super._handlePointerMove(t),this._isDrawing){const e=this._movePointerPoint;if(e){const i=this.get("xAxis"),s=this.get("yAxis"),a=this._getXValue(i.positionToValue(i.coordinateToPosition(e.x))),r=this._getYValue(s.positionToValue(s.coordinateToPosition(e.y))),o=this._di[this._index];if(o){const u=o.tr,h=o.br,p=o.bl;u&&h&&p&&(this._setContext(u,"valueX",a),this._setContext(h,"valueX",a),this._setXLocation(u,a),this._setXLocation(h,a),this._setContext(h,"valueY",r,!0),this._setContext(p,"valueY",r,!0))}}}}_addPoints(t,e){const i=this.chart;if(i){this.data.push({stroke:this._getStrokeTemplate(),fill:this._getFillTemplate(),index:e,corner:"e"});const s=this.get("xAxis"),a=this.get("yAxis"),r=i.plotContainer.toLocal(t.point),n=this._getXValue(s.positionToValue(s.coordinateToPosition(r.x))),o=this._getYValue(a.positionToValue(a.coordinateToPosition(r.y)));this._di[e]={},this._addPoint(n,o,"tl",e),this._addPoint(n,o,"tr",e),this._addPoint(n,o,"br",e),this._addPoint(n,o,"bl",e),this._addPoint(n,o,"tl2",e)}}_addPoint(t,e,i,s){this.data.push({valueY:e,valueX:t,corner:i,index:s});const a=this.dataItems.length,r=this.dataItems[a-1];if(r)return null!=t&&this._setXLocation(r,t),this.setPrivate("startIndex",0),this.setPrivate("endIndex",a),r.dataContext}}Object.defineProperty(Tt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectangleSeries"}),Object.defineProperty(Tt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([Tt.className])});var Fi=F(37129);class ce extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"line"}),Object.defineProperty(this,"_updateExtension",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lines",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(Ae.YS.new({}),()=>Fi.x._new(this._root,{},[this.lines.template]))}),Object.defineProperty(this,"hitLines",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(Ae.YS.new({}),()=>Fi.x._new(this._root,{},[this.hitLines.template]))}),Object.defineProperty(this,"_di",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lines",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hitLines",{enumerable:!0,configurable:!0,writable:!0,value:[]})}makeLine(){const t=this.lines.make();return this.mainContainer.children.push(t),this.lines.push(t),t}makeHitLine(){const t=this.hitLines.make();return t.addTag("hit"),this.mainContainer.children.push(t),this.hitLines.push(t),t}_afterNew(){super._afterNew();const t=this.lines.template;t.events.on("pointerover",i=>{this._showSegmentBullets(i.target.get("userData"))}),t.events.on("pointerout",i=>{this._hideAllBullets();const s=i.target.get("userData"),a=this._lines[s];a&&a.unhover();const r=this._getStrokeIndex(s),n=this.strokes.getIndex(r);n&&n.unhover()});const e=this.hitLines.template;e.events.on("pointerover",i=>{const s=i.target.get("userData");this._showSegmentBullets(s);const a=this._lines[s];a&&a.hover();const r=this._getStrokeIndex(s),n=this.strokes.getIndex(r);n&&n.hover()}),e.events.on("click",i=>{this._erasingEnabled&&this._disposeIndex(i.target.get("userData"))}),e.events.on("dragstart",i=>{const s=i.target.get("userData"),a=this._lines[s];a&&a.dragStart(i);const r=this._getStrokeIndex(s),n=this.strokes.getIndex(r);n&&n.dragStart(i)}),e.events.on("dragstop",i=>{const s=i.target.get("userData");this.markDirtyValues(),i.target.setAll({x:0,y:0});const a=this._lines[s];a&&(a.dragStop(i),a.setAll({x:0,y:0}));const r=this._getStrokeIndex(s),n=this.strokes.getIndex(r);n&&(n.dragStop(i),n.setAll({x:0,y:0}))}),e.events.on("pointerout",i=>{const s=i.target.get("userData");this._hideAllBullets();const a=this._lines[s];a&&a.unhover();const r=this._getStrokeIndex(s),n=this.strokes.getIndex(r);n&&n.unhover()})}_updateElements(){const t=this.chart;if(t){const e=2*Math.max(t.plotContainer.width(),t.plotContainer.height());for(let i=0;i<this._lines.length;i++){const s=this._lines[i];if(s){const a=this._hitLines[i],r=this._di[i].p1,n=this._di[i].p2;if(r&&n){const o=r.get("point"),u=n.get("point");if(o&&u){const h=Math.max(Math.abs(e-o.x),Math.abs(e-u.x),Math.abs(e-o.y),Math.abs(e-u.y),Math.abs(o.x),Math.abs(u.x),Math.abs(o.y),Math.abs(u.y));let p=be._O(u,o);const g={x:o.x+h*be.mC(p),y:o.y+h*be.O$(p)},m={x:u.x-h*be.mC(p),y:u.y-h*be.O$(p)};this._updateLine(s,a,g,m,o,u)}}}}}}_updateLine(t,e,i,s,a,r){let o=[[[i,s]]];t.set("segments",[[[i,a]],[[r,s]]]),e.set("segments",o)}_handlePointerClickReal(t){this._isDragging||(this._isDrawing?this._isDrawing=!1:(this._isDrawing=!0,this._index++,this._addPoints(t,this._index)))}_handlePointerClick(t){this._drawingEnabled&&(super._handlePointerClick(t),this._handlePointerClickReal(t))}_handlePointerMove(t){super._handlePointerMove(t),this._handlePointerMoveReal(t)}_handlePointerMoveReal(t){if(this._isDrawing){const e=this._movePointerPoint;if(e){const i=this.get("xAxis"),s=this.get("yAxis"),a=this._getXValue(i.positionToValue(i.coordinateToPosition(e.x))),r=this._getYValue(s.positionToValue(s.coordinateToPosition(e.y))),n=this._index,u=this._di[n].p2;this._di[n].p1&&u&&(this._setContext(u,"valueX",a),this._setContext(u,"valueY",r,!0),this._setXLocation(u,a),this._updateSegment(n))}}}_createElements(t){if(!this._lines[t]){const e=this.makeLine();this._lines[t]=e;const i=this.makeHitLine();this._hitLines[t]=i;const s=this.dataItems[this.dataItems.length-1].dataContext;let a=this.get("showExtension",!0),r=this.get("strokeColor",this.get("stroke"));const n=s.stroke;n&&(r=n.get("stroke"),this._updateExtensionLine(e,n)),s&&(a=s.showExtension),e.setPrivate("visible",a);const o={stroke:r,userData:t};e.setAll(o),i.setAll(o),this._updateSegment(t)}}_updateExtensionLine(t,e){}_addTemplates(t){this.data.push({stroke:this._getStrokeTemplate(),fill:this._getFillTemplate(),index:t,showExtension:this.get("showExtension",!0),corner:"e"})}_addPoints(t,e){const i=this.chart;this._addTemplates(e);const s=this.get("xAxis"),a=this.get("yAxis"),r=i.plotContainer.toLocal(t.point),n=this._getXValue(s.positionToValue(s.coordinateToPosition(r.x))),o=this._getYValue(a.positionToValue(a.coordinateToPosition(r.y)));this._addPoint(n,o,"p1",e),this._addPoint(n,o,"p2",e)}_addPoint(t,e,i,s){this.data.push({valueY:e,valueX:t,corner:i,index:s})}disposeDataItem(t){super.disposeDataItem(t);const e=t.dataContext;if(e){const i=e.index,s=this._lines[i];s&&(this.lines.removeValue(s),delete this._lines[i],s.dispose());const a=this._hitLines[i];a&&(this.hitLines.removeValue(a),delete this._hitLines[i],a.dispose())}}}Object.defineProperty(ce,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SimpleLineSeries"}),Object.defineProperty(ce,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([ce.className])});class Lt extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"horizontal"}),Object.defineProperty(this,"_updateExtension",{enumerable:!0,configurable:!0,writable:!0,value:!0})}_handleBulletDragged(t){super._handleBulletDragged(t);const i=t.target.dataItem.dataContext;if(i){const s=i.index,a=this._di[s].p1,r=this._di[s].p2,o=this._movePointerPoint;if(a&&r&&this._di[s].e&&o){const u=this.get("yAxis"),h=this.get("xAxis"),p=this._getYValue(u.positionToValue(u.coordinateToPosition(o.y))),g=this._getXValue(h.positionToValue(h.coordinateToPosition(o.x)));this._setContext(a,"valueY",p,!0),this._setContext(r,"valueY",p,!0),this._setContext(a,"valueX",g),this._setContext(r,"valueX",g+1),this._setXLocation(a,g),this._setXLocation(r,g+1),this._positionBullets(a),this._positionBullets(r)}}}_updateExtensionLine(t,e){t.setAll({stroke:e.get("stroke"),strokeWidth:e.get("strokeWidth"),strokeDasharray:e.get("strokeDasharray"),strokeOpacity:e.get("strokeOpacity")})}_handlePointerMoveReal(){}_handlePointerClickReal(t){this._drawingEnabled&&(this._isDragging||(this._index++,this._addPoints(t,this._index),this._isDrawing=!1))}}Object.defineProperty(Lt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLineSeries"}),Object.defineProperty(Lt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Lt.className])});class It extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"vertical"})}_handleBulletDragged(t){super._handleBulletDragged(t);const i=t.target.dataItem.dataContext;if(i){const s=i.index,a=this._di[s].p1,r=this._di[s].p2,n=this._movePointerPoint;if(a&&r&&n){const o=this.get("yAxis"),u=this.get("xAxis"),h=this._getYValue(o.positionToValue(o.coordinateToPosition(n.y))),p=this._getXValue(u.positionToValue(u.coordinateToPosition(n.x)));this._setContext(a,"valueY",h,!0),this._setContext(r,"valueY",h+.01,!0),this._setContext(a,"valueX",p),this._setContext(r,"valueX",p),this._setXLocation(a,p),this._setXLocation(r,p),this._positionBullets(a),this._positionBullets(r)}}}_updateSegment(t){if(this._di[t]){const e=this._di[t].p1,i=this._di[t].p2;e&&i&&this._setContext(i,"valueY",e.get("valueY",0)+.01,!0)}}_handlePointerMoveReal(){}_updateExtensionLine(t,e){t.setAll({stroke:e.get("stroke"),strokeWidth:e.get("strokeWidth"),strokeDasharray:e.get("strokeDasharray"),strokeOpacity:e.get("strokeOpacity")})}_handlePointerClickReal(t){this._drawingEnabled&&(this._isDragging||(this._index++,this._addPoints(t,this._index),this._isDrawing=!1,this._updateSegment(this._index)))}}Object.defineProperty(It,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLineSeries"}),Object.defineProperty(It,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([It.className])});class Nt extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"average"})}_updateSegment(t){if(this._di[t]){const i=this._di[t].p1,s=this._di[t].p2,a=this.get("series");if(a&&i&&s){const r=this.get("xAxis"),n=r.getPrivate("min",0)+1,o=r.getPrivate("max",1)-1;let u=Math.round(be.C7(i.get("valueX"),n,o)),h=Math.round(be.C7(s.get("valueX"),n,o));const p=r.getSeriesItem(a,Math.max(0,r.valueToPosition(u))),g=r.getSeriesItem(a,Math.min(1,r.valueToPosition(h))),m=this.get("field")+"Y";if(p&&g){let w=a.dataItems.indexOf(p),v=a.dataItems.indexOf(g);w>v&&([w,v]=[v,w]);let k=0,T=0;for(let N=w;N<=v;N++){const O=a.dataItems[N].get(m);null!=O&&(k+=O,T++)}const L=k/T;i.set("valueX",u),s.set("valueX",h),this._setContext(i,"valueX",u),this._setContext(s,"valueX",h),this._setContext(i,"valueY",L,!0),this._setContext(s,"valueY",L,!0),this._positionBullets(i),this._positionBullets(s)}}this._updateElements()}}_setXLocation(){}}Object.defineProperty(Nt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AverageSeries"}),Object.defineProperty(Nt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Nt.className])});var cs=F(81998),us=F.n(cs);class Ot extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"regression"})}_updateSegment(t){const e=this._di[t].p1,i=this._di[t].p2,s=this.get("series");if(s&&e&&i){const a=s.get("xAxis");let r=this._getXValue(e.get("valueX")),n=this._getXValue(i.get("valueX"));const o=a.getSeriesItem(s,a.valueToPosition(r)),u=a.getSeriesItem(s,a.valueToPosition(n)),h=this.get("field")+"Y";if(o&&u){const p=s.dataItems;let g=p.indexOf(o),m=p.indexOf(u),w=!1;g>m&&(w=!0,[g,m]=[m,g]);const v=[];let k=0;for(let A=g;A<=m;A++)v.push([k,p[A].get(h)]),k++;const L=us().linear(v).points;if(L.length>1){const A=L[0],O=L[L.length-1];if(A&&O){let $=A[1],H=O[1];w&&([$,H]=[H,$]),this._setContext(e,"valueY",$,!0),this._setContext(i,"valueY",H,!0),this._setContext(e,"valueX",r),this._setContext(i,"valueX",n),this._positionBullets(e),this._positionBullets(i)}}}}}_setXLocation(){}}Object.defineProperty(Ot,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RegressionSeries"}),Object.defineProperty(Ot,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Ot.className])});class Et extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_panX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_panY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"doodle"})}_afterNew(){super._afterNew(),this.addTag("doodle"),this.bullets.clear()}_handlePointerMove(t){super._handlePointerMove(t),this._drawingEnabled&&this._isPointerDown&&this._handleBulletPosition(t)}_handleBulletPosition(t){const e=this.chart;if(e){const i=this.get("xAxis"),s=this.get("yAxis"),a=e.plotContainer.toLocal(t.point),r=this._getXValue(i.positionToValue(i.coordinateToPosition(a.x))),n=this._getYValue(s.positionToValue(s.coordinateToPosition(a.y))),o=this._index;this.data.push({valueY:n,valueX:r,index:o,corner:this._pIndex});const u=this.dataItems.length,h=this.dataItems[u-1];this._setXLocation(h,r);let p=this._di[o];p||(p={}),p[this._pIndex]=h,this._di[o]=p,this._pIndex++,this.setPrivate("startIndex",0),this.setPrivate("endIndex",u)}}_handleFillDragStart(t,e){this._drawingEnabled||super._handleFillDragStart(t,e)}_handlePointerDown(t){super._handlePointerDown(t);const e=this.chart;if(e){this._index++,this._pIndex=0,this._panX=e.get("panX"),this._panY=e.get("panY"),e.set("panX",!1),e.set("panY",!1);const i=e.get("cursor");i&&i.setPrivate("visible",!1),this.data.push({stroke:this._getStrokeTemplate(),index:this._index,corner:this._pIndex})}}_handlePointerUp(t){super._handlePointerUp(t);const e=this.chart;e&&this.setTimeout(()=>{e.set("panX",this._panX),e.set("panY",this._panY);const i=e.get("cursor");i&&i.setPrivate("visible",!0)},100)}}Object.defineProperty(Et,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DoodleSeries"}),Object.defineProperty(Et,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([Et.className])});var ji=F(62586);class Ue extends Ve{constructor(){super(...arguments),Object.defineProperty(this,"spriteResizer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ji.b.new(this._root,{}))}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"icon"})}_afterNew(){super._afterNew(),this.bullets.clear(),this.strokes.template.set("visible",!1),this.fills.template.set("visible",!1),this.bullets.push((t,e,i)=>{const a=i.dataContext.settings,r=De.T.new(t,{draggable:!0,themeTags:["icon"]},a);return this._addBulletInteraction(r),r.events.on("click",()=>{const n=this.spriteResizer;n.get("sprite")==r?n.set("sprite",void 0):n.set("sprite",r)}),r.events.on("pointerover",()=>{this._isHover=!0}),r.events.on("pointerout",()=>{this._isHover=!1}),this.spriteResizer.set("sprite",void 0),r.on("scale",n=>{a.set("scale",n)}),r.on("rotation",n=>{a.set("rotation",n)}),Oi.g.new(this._root,{locationX:void 0,sprite:r})})}_handlePointerClick(t){this._drawingEnabled&&!this._isHover&&(super._handlePointerClick(t),this.data.getIndex(this.data.length-1).settings=this._getIconTemplate(),this._index++,this._di[this._index]={})}disposeDataItem(t){super.disposeDataItem(t),this.spriteResizer.set("sprite",void 0),this._isHover=!1}_hideAllBullets(){}_setXLocation(t,e){this.get("snapToData")||this._setXLocationReal(t,e)}_getIconTemplate(){const t={},e=this.get("iconSvgPath");null!=e&&(t.svgPath=e);const i=this.get("iconScale");null!=i&&(t.scale=i);const s=this.get("iconCenterX");null!=s&&(t.centerX=s);const a=this.get("iconCenterY");null!=a&&(t.centerY=a);const r=this.get("strokeColor");null!=r&&(t.stroke=r);const n=this.get("strokeOpacity");null!=n&&(t.strokeOpacity=n);const o=this.get("fillColor");null!=o&&(t.fill=o);const u=this.get("fillOpacity");return null!=u&&(t.fillOpacity=u),Ae.YS.new(t)}}Object.defineProperty(Ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"IconSeries"}),Object.defineProperty(Ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ve.classNames.concat([Ue.className])});var Yi=F(88303),ds=F(6905);class Ge extends Ve{constructor(){super(...arguments),Object.defineProperty(this,"spriteResizer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ji.b.new(this._root,{}))}),Object.defineProperty(this,"_clickEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"label"})}_afterNew(){super._afterNew(),this.strokes.template.set("visible",!1),this.fills.template.set("visible",!1),this.addTag(this._tag);const t=document.createElement("div");t.style.position="absolute",t.style.display="none",t.className="am5stock-drawing-label-wrapper",this._root._inner.appendChild(t),this.setPrivate("inputContainer",t);const e=document.createElement("textarea");e.className="am5stock-drawing-label-input",this._disposers.push(b.Oo(e,"input",()=>{e.style.height="auto",e.style.height=e.scrollHeight+"px"},!1)),t.appendChild(e),t.appendChild(document.createElement("br")),this.setPrivate("input",e);const i=document.createElement("input");i.type="button",i.value=this._root.language.translateAny("Save"),i.className="am5-modal-button am5-modal-primary",this._disposers.push(b.Oo(i,"click",()=>{this.saveText()})),t.appendChild(i);const s=document.createElement("input");s.type="button",s.value=this._root.language.translateAny("Cancel"),s.className="am5-modal-button am5-modal-scondary",this._disposers.push(b.Oo(s,"click",()=>{this.getPrivate("inputContainer").style.display="none",this.getPrivate("input").value=""})),t.appendChild(s)}_tweakBullet(t,e){const i=e.dataContext,a=i.settings,r=t.children.push(Yi._.new(this._root,{themeTags:["label"],text:i.text},a));this.setPrivate("label",r),t.events.on("click",()=>{const n=this.spriteResizer;n.get("sprite")==r?n.set("sprite",void 0):n.set("sprite",r)}),t.events.on("pointerover",()=>{this._isHover=!0}),t.events.on("pointerout",()=>{this._isHover=!1}),r.on("scale",n=>{a.set("scale",n)}),r.on("rotation",n=>{a.set("rotation",n)}),this._tweakBullet2(r,e)}_tweakBullet2(t,e){t.set("background",ds.c.new(this._root,{fillOpacity:0,strokeOpacity:0,fill:(0,_.$_)(16777215)}))}_handlePointerClick(t){if(this._drawingEnabled&&!this._isHover){this._index++,this._di[this._index]={};const e=this.getPrivate("input");e.value="",this._clickEvent=t;const i=this.getPrivate("inputContainer");i.style.display="block",i.style.left=t.point.x+"px",i.style.top=t.point.y+"px",e.focus(),this.spriteResizer.set("sprite",void 0)}}saveText(){const t=this._clickEvent;if(t){const e=this.getPrivate("input").value;if(null!=e){this._addPoint(t);const i=this.data.getIndex(this.data.length-1);i.text=e,i.index=this._index,i.corner=0,i.settings=this._getLabelTemplate(),this._afterTextSave(i)}this.getPrivate("inputContainer").style.display="none"}}_afterTextSave(t){}_getLabelTemplate(){const t={},e=this.get("labelFontSize");null!=e&&(t.fontSize=e);const i=this.get("labelFontFamily");null!=i&&(t.fontFamily=i);const s=this.get("labelFontWeight");null!=s&&(t.fontWeight=s);const a=this.get("labelFill");return null!=a&&(t.fill=a),Ae.YS.new(t)}disposeDataItem(t){super.disposeDataItem(t),this.spriteResizer.set("sprite",void 0),this._isHover=!1}_hideAllBullets(){}}Object.defineProperty(Ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LabelSeries"}),Object.defineProperty(Ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ve.classNames.concat([Ge.className])});var Bi=F(10154),Vi=F(22927);class tt extends Ge{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"callout"})}_afterNew(){super._afterNew()}_tweakBullet2(t,e){t.set("background",Bi.i.new(this._root,{themeTags:["callout"]},e.dataContext.bgSettings))}_tweakBullet(t,e){super._tweakBullet(t,e),t.events.off("click");const i=e.dataContext,s=i.settings,a=this.getPrivate("label");if(a){a.events.on("positionchanged",()=>{this._updatePointer(a)}),a.events.on("click",()=>{const n=this.spriteResizer;n.get("sprite")==a?n.set("sprite",void 0):n.set("sprite",a),this._erasingEnabled&&this._disposeIndex(i.index)}),a.on("scale",()=>{this._updatePointer(a)}),a.on("rotation",()=>{this._updatePointer(a)}),a.setAll({draggable:!0}),a.on("x",n=>{s.set("x",n)}),a.on("y",n=>{s.set("y",n)});const r=a.states.lookup("default");setTimeout(()=>{a.animate({key:"y",to:-a.height()/2-10,from:0,duration:r.get("stateAnimationDuration",500),easing:r.get("stateAnimationEasing",Vi.C0(Vi.T7))})},50)}}_updatePointer(t){const e=t.get("background");if(e instanceof Bi.i){const i=t.parent;if(i){let s=i.toGlobal({x:0,y:0});s=e.toLocal(s),e.setAll({pointerX:s.x,pointerY:s.y})}}}_afterTextSave(t){t.bgSettings=this._getBgTemplate()}_hideAllBullets(){}_getBgTemplate(){const t={},e=this.get("fillColor");return null!=e&&(t.fill=e),Ae.YS.new(t)}_setXLocation(t,e){this.get("snapToData")||this._setXLocationReal(t,e)}}Object.defineProperty(tt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CalloutSeries"}),Object.defineProperty(tt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([tt.className])});var hs=F(78479);class Ft extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_ellipses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"ellipse"}),Object.defineProperty(this,"_clickPX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_clickVY",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ellipses",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(Ae.YS.new({radiusX:0,radiusY:0}),()=>hs.P._new(this._root,{radiusX:0,radiusY:0,templateField:"settings"},[this.ellipses.template]))})}makeEllipse(){const t=this.ellipses.make();return this.mainContainer.children.push(t),this.ellipses.push(t),t}_afterNew(){super._afterNew(),this.strokes.template.set("visible",!1),this.fills.template.set("visible",!1);const t=this.ellipses.template;t.events.on("pointerover",e=>{this._showSegmentBullets(e.target.get("userData"))}),t.events.on("pointerout",()=>{this._hideAllBullets()}),t.events.on("dragstart",e=>{this._handleFillDragStart(e,e.target.get("userData"))}),t.events.on("dragstop",e=>{this._handleFillDragStop(e,e.target.get("userData"))}),t.events.on("click",e=>{this._erasingEnabled&&this._disposeIndex(e.target.get("userData"))})}_handleFillDragStop(t,e){super._handleFillDragStop(t,e);const i=this._di[e],s=i.b,a=i.t,r=i.r,n=i.l,o=this.get("xAxis");if(s&&a&&r&&n){const u=o.valueToPosition(n.get("valueX",0)),h=o.valueToPosition(r.get("valueX",0));let p=this._getXValue(o.positionToValue(u+(h-u)/2));this._setContext(a,"valueX",p),this._setContext(s,"valueX",p),this._setXLocation(a,p),this._setXLocation(s,p)}}_handleBulletDragged(t){const e=t.target.dataItem,i=e.get("valueX"),s=e.get("locationX"),a=e.get("valueY");super._handleBulletDragged(t);const r=this._movePointerPoint;if(e&&r){const n=e.dataContext,o=n.index,u=n.corner,h=this.get("xAxis"),p=this.get("yAxis"),g=this._getXValue(h.positionToValue(h.coordinateToPosition(r.x))),m=this._getYValue(p.positionToValue(p.coordinateToPosition(r.y))),w="valueX",v="valueY",k="valueYWorking",T=this._di[o],L=T.b,N=T.t,A=T.r,O=T.l;if(L&&N&&A&&O){if("b"==u){const $=N.get(k,0);this._setContext(L,v,m,!0);let H=$+(m-$)/2;this._setContext(A,v,H,!0),this._setContext(O,v,H,!0),this._setContext(L,w,i),L.set("locationX",s)}if("t"==u){const $=L.get(k,0);this._setContext(N,v,m,!0);let H=$+(m-$)/2;this._setContext(A,v,H,!0),this._setContext(O,v,H,!0),this._setContext(N,w,i),N.set("locationX",s)}if("l"==u){const $=A.get(w,0),H=h.valueToPosition($),J=h.valueToPosition(g);this._setContext(O,w,g),this._setXLocation(O,g);let Q=this._getXValue(h.positionToValue(H+(J-H)/2));this._setContext(N,w,Q),this._setContext(L,w,Q),this._setXLocation(N,Q),this._setXLocation(L,Q),this._setContext(O,v,a,!0)}if("r"==u){const $=O.get(w,0),H=h.valueToPosition($),J=h.valueToPosition(g);this._setContext(A,w,g),this._setXLocation(A,g);let Q=this._getXValue(h.positionToValue(H+(J-H)/2));this._setContext(N,w,Q),this._setContext(L,w,Q),this._setXLocation(N,Q),this._setXLocation(L,Q),this._setContext(A,v,a,!0)}}this._positionBullets(e)}}_handlePointerClick(t){this._drawingEnabled&&(super._handlePointerClick(t),this._isDragging||(this._isDrawing?this._isDrawing=!1:(this._index++,this._isDrawing=!0,this.bulletsContainer.show(),this._addPoints(t,this._index))))}_createElements(t,e){if(!this._ellipses[t]){const i=this.makeEllipse();i._setDataItem(e),this._ellipses[t]=i,i.setAll({userData:t})}}_handlePointerMove(t){if(super._handlePointerMove(t),this._isDrawing){const e=this._movePointerPoint;if(e){const i=this.get("xAxis"),s=this.get("yAxis"),a=this._index;if(this._di[a]){const n=this._di[a].t,o=this._di[a].b,u=this._di[a].l,h=this._di[a].r,p=this._clickVY,g=i.coordinateToPosition(e.x),m=this._clickPX,w=this._getXValue(i.positionToValue(i.coordinateToPosition(e.x))),v=this._getYValue(s.positionToValue(s.coordinateToPosition(e.y)));if(o&&u&&h&&n){this._setContext(o,"valueY",v,!0);const k=p+(v-p)/2,T=this._getXValue(i.positionToValue(m+(g-m)/2));this._setContext(h,"valueY",k,!0),this._setContext(u,"valueY",k,!0),this._setContext(o,"valueX",T),this._setContext(n,"valueX",T),this._setXLocation(o,T),this._setXLocation(n,T),this._setContext(h,"valueX",w),this._setXLocation(h,w)}}}}}_addPoints(t,e){const i=this.chart;if(i){this.data.push({settings:this._getEllipseTemplate(),stroke:this._getStrokeTemplate(),index:e,corner:"e"});const s=this.get("xAxis"),a=this.get("yAxis"),r=i.plotContainer.toLocal(t.point);this._clickPX=s.coordinateToPosition(r.x);const n=this._getXValue(s.positionToValue(this._clickPX)),o=this._getYValue(a.positionToValue(a.coordinateToPosition(r.y)));this._clickVY=o,this._di[e]={},this._addPoint(n,o,"l",e),this._addPoint(n,o,"t",e),this._addPoint(n,o,"b",e),this._addPoint(n,o,"r",e)}}_addPoint(t,e,i,s){this.data.push({valueY:e,valueX:t,index:s,corner:i});const a=this.dataItems.length,r=this.dataItems[a-1];r&&(this._setXLocation(r,t),this.setPrivate("startIndex",0),this.setPrivate("endIndex",a))}_updateChildren(){super._updateChildren();let t=0;x.S6(this._di,e=>{if(e){const i=e.t,s=e.b,a=e.l,r=e.r;if(i&&s&&a&&r){const n=i.get("point"),o=s.get("point"),u=r.get("point"),h=a.get("point");if(n&&o&&u&&h){const p=(u.x-h.x)/2,g=(o.y-n.y)/2,v=this._ellipses[t];v&&v.setAll({x:h.x+p,y:n.y+g,radiusX:p,radiusY:g})}}}t++})}disposeDataItem(t){super.disposeDataItem(t);const e=t.dataContext;if(e){const i=e.index,s=this._ellipses[i];s&&(delete this._ellipses[i],this.ellipses.removeValue(s),s.dispose())}}_getEllipseTemplate(){const t=this._getStrokeTemplate(),e=this.get("fillColor");null!=e&&t.set("fill",e);const i=this.get("fillOpacity");return null!=i&&t.set("fillOpacity",i),t}}Object.defineProperty(Ft,"className",{enumerable:!0,configurable:!0,writable:!0,value:"EllipseSeries"}),Object.defineProperty(Ft,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([Ft.className])});class jt extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"trendline"})}_updateSegment(t){const e=this._di[t].p1,i=this._di[t].p2,s=this.get("series");if(s&&e&&i){const a=this.get("xAxis");let r=this._getXValue(e.get("valueX")),n=this._getXValue(i.get("valueX"));const o=a.getSeriesItem(s,Math.max(0,a.valueToPosition(r))),u=a.getSeriesItem(s,Math.min(1,a.valueToPosition(n))),h=this.get("field")+"Y";if(o&&u){let p=o.get(h),g=u.get(h);this._setContext(e,"valueY",p,!0),this._setContext(i,"valueY",g,!0),this._setContext(e,"valueX",r),this._setContext(i,"valueX",n),this._positionBullets(e),this._positionBullets(i)}}}_setXLocation(){}}Object.defineProperty(jt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"TrendLineSeries"}),Object.defineProperty(jt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([jt.className])});class Yt extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"quadrant"})}_afterNew(){super._afterNew(),this.strokes.template.set("visible",!1)}_updateSegment(t){const e=this._movePointerPoint,i=this._di[t].p1,s=this._di[t].p2,a=this.get("series");if(a&&e&&i&&s){const r=this.get("xAxis");let n=this._getXValue(i.get("valueX")),o=this._getXValue(s.get("valueX"));const u=r.getSeriesItem(a,Math.max(0,r.valueToPosition(n))),h=r.getSeriesItem(a,Math.min(1,r.valueToPosition(o))),p=this.get("field")+"Y";if(u&&h){let g=u.get(p),m=h.get(p);this._setContext(i,"valueY",g,!0),this._setContext(s,"valueY",m,!0),this._setContext(i,"valueX",n),this._setContext(s,"valueX",o),this._positionBullets(i),this._positionBullets(s)}}}_updateChildren(){super._updateChildren();const t=this.chart;if(this.fills.clear(),t)for(let e=0;e<this._lines.length;e++){const i=this._lines[e];if(i){const s=this._di[e].p1,a=this._di[e].p2,n=this._di[e].e.dataContext,o=this.makeFill(this.fills),u=this.makeFill(this.fills);for(let T=this.dataItems.indexOf(s);T>=0;T--){const N=this.dataItems[T].dataContext.fill;N&&(o.template=N,u.template=N)}const p=[this.dataItems.indexOf(s),this.dataItems.indexOf(a)];let g=this.get("fillColor",this.get("fill"));const m=n.fill;m&&(g=m.get("fill"));const w={userData:p,fill:g};o.setAll(w),u.setAll(w),u.set("forceInactive",!0);const v=s.get("point"),k=a.get("point");if(v&&k){const T=(k.y-v.y)/4,L=v.y+T,N=v.y+2*T,A=v.y+3*T;i.set("draw",O=>{O.moveTo(v.x,v.y),O.lineTo(k.x,v.y),O.moveTo(v.x,L),O.lineTo(k.x,L),O.moveTo(v.x,N),O.lineTo(k.x,N),O.moveTo(v.x,A),O.lineTo(k.x,A),O.moveTo(v.x,k.y),O.lineTo(k.x,k.y)}),o.set("draw",O=>{O.moveTo(v.x,v.y),O.lineTo(k.x,v.y),O.lineTo(k.x,k.y),O.lineTo(v.x,k.y),O.lineTo(v.x,v.y)}),u.set("draw",O=>{O.moveTo(v.x,L),O.lineTo(k.x,L),O.lineTo(k.x,A),O.lineTo(v.x,A),O.lineTo(v.x,L)})}}}}_drawFill(){}_setXLocation(){}_updateLine(){}}Object.defineProperty(Yt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"QuadrantLineSeries"}),Object.defineProperty(Yt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Yt.className])});class Qe extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"fibonacci"}),Object.defineProperty(this,"_labels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_fills",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_strokes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new M.o(Ae.YS.new({}),()=>Yi._._new(this._root,{},[this.labels.template]))})}makeLabel(){const t=this.labels.make();return this.mainContainer.children.push(t),this.labels.push(t),t}_updateSegment(t){super._updateSegment(t),this._updateSegmentReal(t)}_updateSegmentReal(t){const e=this._di[t];if(e){const i=e.p1,s=e.p2;if(i&&s){const a=i.get("valueX",0);this._setContext(s,"valueX",a),this._setXLocation(s,a)}}}_addTemplates(t){this.data.push({stroke:this._getStrokeTemplate(),fill:this._getFillTemplate(),index:t,corner:"e"})}_updateChildren(){super._updateChildren(),this._updateChildrenReal()}_updateChildrenReal(){const t=this.chart;if(t){const e=this.get("yAxis");for(let i=0;i<this._lines.length;i++)if(this._lines[i]){const a=this._di[i].p1,r=this._di[i].p2,n=a.get("point"),o=r.get("point"),u=a.get("valueX",0);if(this._setContext(r,"valueX",u),this._setXLocation(r,u),n&&o){o.x=t.plotContainer.width();const h=this.get("sequence",[]);let p=0;const g=this._labels[i],m=this._strokes[i],w=this._fills[i];for(let v=0;v<h.length;v++){const k=h[v],T=g[v],L=w[v],N=m[v];let A=this.get("colors",[])[v],O=A;L.set("fill",A),N.set("stroke",O);const $=n.y+(o.y-n.y)*p,H=n.y+(o.y-n.y)*k,J=e.positionToValue(e.coordinateToPosition(H));L.setPrivate("visible",!0),N.setPrivate("visible",!0),L.set("draw",Q=>{Q.moveTo(n.x,$),Q.lineTo(o.x,$),Q.lineTo(o.x,H),Q.lineTo(n.x,H),Q.lineTo(n.x,$)}),N.set("draw",Q=>{Q.moveTo(n.x,H),Q.lineTo(o.x,H)});const ae=T.dataItem;ae&&ae.set("value",J),T.setAll({x:o.x,y:H,fill:A}),T.text.markDirtyText(),p=k}}}}}_createElements(t){if(super._createElements(t),!this._fills[t]){const e=[],i=[],s=[],a=this.get("sequence",[]);for(let r=0;r<a.length;r++){const n=this.makeLabel(),o=this.makeDataItem({});o.set("sequence",a[r]),n._setDataItem(o),e.push(n);const u=this.makeFill(this.fills);i.push(u);const h=this.makeStroke(this.strokes);s.push(h)}this._labels[t]=e,this._fills[t]=i,this._strokes[t]=s}}_drawFill(){}_drawStroke(){}_updateLine(){}_clearGraphics(){}enableDrawing(){super.enableDrawing(),this.showAllBullets()}enableErasing(){super.enableErasing(),this.showAllBullets()}_hideAllBullets(){this._drawingEnabled||this._erasingEnabled||super._hideAllBullets()}disposeDataItem(t){super.disposeDataItem(t);const e=t.dataContext;if(e){const i=e.index,s=this._labels[i],a=this._fills[i],r=this._strokes[i];s&&(x.S6(s,n=>{n.dispose(),this.labels.removeValue(n)}),delete this._labels[i]),a&&(x.S6(a,n=>{this.fills.removeValue(n),n.dispose()}),delete this._fills[i]),r&&(x.S6(r,n=>{this.strokes.removeValue(n),n.dispose()}),delete this._strokes[i])}}}Object.defineProperty(Qe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"FibonacciSeries"}),Object.defineProperty(Qe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Qe.className])});class Bt extends Qe{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"fibonaccitimezone"})}_updateSegmentReal(t){const e=this._di[t];if(e){const i=e.p1,s=e.p2;if(i&&s){const a=i.get("valueY",0);this._setContext(s,"valueY",a,!0),i.setRaw("locationX",0),s.setRaw("locationX",0)}}}_setXLocation(t,e){this._setXLocationReal(t,e)}_updateChildrenReal(){const t=this.chart;if(t)for(let e=0;e<this._lines.length;e++)if(this._lines[e]){const s=this._di[e].p1,a=this._di[e].p2,r=this._di[e].e,n=s.get("point"),o=a.get("point"),u=s.open,h=a.open,p=this.get("xAxis");if(u&&h&&r){const g=u.valueX,w=h.valueX-g;if(n&&o){const v=r.dataContext,k=this.get("sequence",[]),T=this._labels[e],L=this._fills[e],N=this._strokes[e];for(let A=0;A<k.length;A++){const O=k[A],$=T[A],H=L[A],J=N[A];this.mainContainer.children.moveValue(H,0);const ae=g+w*O,Q=n.x,V=p.get("renderer").positionToCoordinate(p.valueToPosition(ae)),ue=0,de=t.plotContainer.height();H.setPrivate("visible",!0),J.setPrivate("visible",!0);const oi=v.fill;let Re=this.get("colors",[])[A],Je=Re;if(Re||(oi&&(Re=oi.get("fill")),Re||(Re=this.get("fillColor",this.get("fill",(0,_.$_)(0))))),!Je){const Ce=v.stroke;Ce&&(Je=Ce.get("stroke")),Je||(Je=this.get("strokeColor",this.get("stroke",(0,_.$_)(0))))}H.set("fill",Re),J.set("stroke",Je),H.set("draw",Ce=>{Ce.moveTo(Q,ue),Ce.lineTo(V,ue),Ce.lineTo(V,de),Ce.lineTo(Q,de),Ce.lineTo(Q,ue)}),J.set("draw",Ce=>{Ce.moveTo(V,ue),Ce.lineTo(V,de)});const li=$.dataItem;li&&li.set("value",O),$.setAll({x:V,y:de,dy:-20}),$.text.markDirtyText()}}}}}}Object.defineProperty(Bt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"FibonacciTimezoneSeries"}),Object.defineProperty(Bt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qe.classNames.concat([Bt.className])});class Vt extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"ray"})}_updateSegment(t){if(this._di[t]){const e=this._di[t].p1,i=this._di[t].p2,s=this.get("series");if(s&&e&&i){const a=this.get("xAxis"),r=a.getPrivate("min",0)+1,n=a.getPrivate("max",1)-1;let o=be.C7(i.get("valueX"),r,n);const u=a.getSeriesItem(s,Math.max(0,a.valueToPosition(o))),h=this.get("field")+"Y";if(u){let p=u.get(h);this._setContext(e,"valueY",p,!0),this._setContext(i,"valueY",p,!0),this._setContext(e,"valueX",o),this._setContext(i,"valueX",o+.01),this._positionBullets(e),this._positionBullets(i)}}}this._updateElements()}_updateLine(t,e,i,s,a,r){t.set("points",[a,i]),e.set("points",[a,i])}_setXLocation(){}_handlePointerMoveReal(){}_handlePointerClickReal(t){this._isDragging||(this._index++,this._addPoints(t,this._index),this._isDrawing=!1)}_updateExtensionLine(t,e){t.setAll({stroke:e.get("stroke"),strokeWidth:e.get("strokeWidth"),strokeDasharray:e.get("strokeDasharray"),strokeOpacity:e.get("strokeOpacity")})}}Object.defineProperty(Vt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalRaySeries"}),Object.defineProperty(Vt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([Vt.className])});class Gt extends re.JH{constructor(){super(...arguments),Object.defineProperty(this,"_cssDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._defaultThemes=this.get("stockChart")._defaultThemes,super._afterNewApplyThemes(),this._initControls(),this.loadDefaultCSS(),this._root.addDisposer(this),this.events.dispatch("created",{type:"created",target:this})}_afterChanged(){super._afterChanged(),this.isDirty("container"),this.isDirty("useDefaultCSS")&&(this.get("useDefaultCSS")?this.loadDefaultCSS():this._cssDisposer&&this._cssDisposer.dispose()),this.isDirty("controls")&&this._initControls()}_dispose(){super._dispose(),this._cssDisposer&&this._cssDisposer.dispose();const t=this.get("controls",[]);x.S6(t,(e,i)=>{e.dispose()})}_initControls(){const t=this.get("controls",[]);x.S6(t,(e,i)=>{e.getPrivate("toolbar")||(e.setPrivate("toolbar",this),this.get("container").appendChild(e.getPrivate("button")))})}loadDefaultCSS(){const t=_e(b.Ay(this._root.dom),this._root);this._disposers.push(t),this._cssDisposer=t}}Object.defineProperty(Gt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StockToolbar"}),Object.defineProperty(Gt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.JH.classNames.concat([Gt.className])});class He extends G{_afterNew(){super._afterNew(),this._root.addDisposer(this)}_initElements(){super._initElements();const t=this.getPrivate("container");this.get("searchable")&&this._initSearch();const e=document.createElement("ul");e.className="am5stock-control-list",t.appendChild(e),this.setPrivate("list",e),this._initItems()}_initItems(t){this.getPrivate("list").innerHTML="",t||(t=this.get("items",[])),x.S6(t,i=>{this.addItem(i)})}_initSearch(){let t=this.getPrivate("search");if(this.get("searchable")){if(!t){const e=this.getPrivate("container");t=document.createElement("div"),t.className="am5stock-list-search",e.appendChild(t),this.setPrivate("search",t);const i=document.createElement("input");i.type="text",i.placeholder=this._root.language.translateAny("Search"),t.appendChild(i),this._disposers.push(b.Oo(i,"input",s=>{this._filterItems(i.value)}))}}else t&&(t.style.display="none")}_beforeChanged(){super._beforeChanged(),this.isDirty("items")&&this._initItems(),this.isDirty("searchable")&&this._initSearch(),this.isPrivateDirty("currentId")}_dispose(){super._dispose()}_filterItems(t){return(0,Fe.mG)(this,void 0,void 0,function*(){const e=this.get("searchCallback");if(e&&t){const i=this.get("maxSearchItems",1e3);let s=yield e.call(this,t);i&&s.length>i&&(s=s.slice(0,i-1),s.push({id:"",className:"am5stock-list-info",label:this._root.language.translateAny("Search results are limited to %1.",void 0,""+i)})),this._initItems(s)}else{const i=this.getPrivate("list");if(i){const s=i.getElementsByTagName("li");x.S6(s,a=>{const r=new RegExp(t||"","i");a.style.display=!t||a.innerText.match(r)?"":"none"})}}})}addItem(t){const e=this.getPrivate("list"),i=document.createElement("li");let s;if(i.className="am5stock-list-item",i.setAttribute("title",t.subLabel||t.label),t.className&&(i.className+=" "+t.className),t.icon&&i.appendChild(t.icon),t.form){const r=document.createElement("input");s="am5stock-list-"+t.id,r.type=t.form,t.value&&(r.value=t.value),"radio"==t.form&&(r.name=t.id,s+="-"+t.value),t.checked&&(r.checked=!0),r.id=s,this._disposers.push(b.Oo(i,"click",n=>{n.target!==r&&(r.checked=!r.checked),this.events.dispatch("changed",{type:"changed",item:t,value:r.checked,checked:r.checked,target:this})})),i.appendChild(r)}const a=document.createElement("label");if(a.innerHTML=t.label,""==t.label&&(a.style.display="none"),i.appendChild(a),t.subLabel){const r=document.createElement("label");r.className="am5stock-list-sub",r.innerHTML=t.subLabel,i.appendChild(r)}e.appendChild(i),t.disabled?i.className+=" am5stock-disabled":this._disposers.push(b.Oo(i,"click",r=>{this.hide(),this.events.dispatch("invoked",{type:"invoked",item:t,target:this})}))}hide(){super.hide(),this._filterItems();let t=this.getPrivate("search");if(t){const e=t.getElementsByTagName("input");let i=!1;x.S6(e,s=>{""!==s.value&&(i=!0,s.value="")}),this.get("searchCallback")&&i&&this._initItems()}}}Object.defineProperty(He,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DropdownList"}),Object.defineProperty(He,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:G.classNames.concat([He.className])});class Rt extends Y{_afterNew(){super._afterNew();const t=He.new(this._root,{control:this,parent:this.getPrivate("button")});this.setPrivate("list",t),t.events.on("closed",i=>{this.set("active",!1)}),t.events.on("invoked",i=>{this.setTool(i.item.label),this.events.dispatch("selected",{type:"selected",tool:i.item.id,target:this})}),this.on("active",i=>{i?this.setTimeout(()=>t.show(),10):t.hide()});const e=this.getPrivate("button");e.className=e.className+" am5stock-control-dropdown",this._initTools()}setTool(t){this.getPrivate("icon").innerHTML="",this.getPrivate("icon").appendChild(this._getToolIcon(t)),this._setLabel(this._root.language.translateAny(t))}_initTools(){const t=this.getPrivate("list"),e=this.get("tools"),i=[];x.S6(e,s=>{i.push({id:s,label:this._root.language.translateAny(s),icon:this._getToolIcon(s)})}),t.set("items",i)}_getToolIcon(t){return te.getIcon(t)}_afterChanged(){super._afterChanged(),this.isDirty("tools")&&this._initTools()}_dispose(){super._dispose()}}Object.defineProperty(Rt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DrawingToolControl"}),Object.defineProperty(Rt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([Rt.className])});class me extends Y{_afterNew(){super._afterNew();const t=this.getPrivate("button");t.className=t.className+" am5stock-control-dropdown"}_initElements(){super._initElements();const t={control:this,parent:this.getPrivate("button"),searchable:this.get("searchable",!1),items:[]},e=this.get("maxSearchItems");e&&(t.maxSearchItems=e);const i=this.get("searchCallback");i&&(t.searchCallback=i);const s=this.get("items");let a=this.get("currentItem");s&&x.S6(s,n=>{const o=se.HD(n)?{id:n,label:n}:n;t.items.push(o),se.HD(a)&&a==o.id&&(a=o)});const r=He.new(this._root,t);this.setPrivate("dropdown",r),a&&this.setItem(a),r.events.on("closed",n=>{this.set("active",!1)}),r.events.on("invoked",n=>{this.setItem(n.item),this.events.dispatch("selected",{type:"selected",item:n.item,target:this})}),this.on("active",n=>{n?this.setTimeout(()=>r.show(),10):r.hide()})}setItem(t){if(!0!==this.get("fixedLabel")){const e=this.getPrivate("label");if(se.HD(t))e.innerHTML=t;else{if(t.icon){const i=this.getPrivate("icon");i.innerHTML="",i.appendChild(t.icon.cloneNode(!0)),i.style.display=""}t.label?(e.innerHTML=t.label,e.style.display=""):(e.innerHTML="",e.style.display="none")}}}_beforeChanged(){if(super._beforeChanged(),this.isDirty("items")){const t=this.getPrivate("dropdown");if(t){const e=this.get("items"),i=[];let s=this.get("currentItem");e&&x.S6(e,a=>{const r=se.HD(a)?{id:a,label:a}:a;i.push(r),se.HD(s)&&s==r.id&&(s=r)}),t.set("items",i)}}}_dispose(){super._dispose()}}Object.defineProperty(me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DropdownListControl"}),Object.defineProperty(me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([me.className])});class Xt extends Y{_afterNew(){super._afterNew();const t=He.new(this._root,{control:this,parent:this.getPrivate("button"),searchable:!1});this.setPrivate("list",t),t.getPrivate("list").className="am5stock-control-icons",t.events.on("closed",e=>{this.set("active",!1)}),t.events.on("invoked",e=>{const i=JSON.parse(e.item.id);let s;const a=this.get("icons");x.S6(a,r=>{i.svgPath==r.svgPath&&(s=r)}),s&&(this.setIcon(s),this.events.dispatch("selected",{type:"selected",icon:s,target:this}))}),this.on("active",e=>{e?this.setTimeout(()=>t.show(),10):t.hide()}),this._initIcons()}setIcon(t){this.getPrivate("icon").innerHTML="",this.getPrivate("icon").appendChild(this._getDrawingIcon(t))}_initIcons(){const t=this.getPrivate("list"),e=this.get("icons"),i=[];x.S6(e,s=>{i.push({id:JSON.stringify(s),label:"",icon:this._getDrawingIcon(s)})}),t.set("items",i)}_getDrawingIcon(t){return te._getSVG({viewbox:"0 0 50 50",path:t.svgPath})}_afterChanged(){super._afterChanged(),this.isDirty("icons")&&this._initIcons()}_dispose(){super._dispose()}}Object.defineProperty(Xt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"IconControl"}),Object.defineProperty(Xt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([Xt.className])});var Ri=F(97382),Xi=F(5811);class Qt extends Y{constructor(){super(...arguments),Object.defineProperty(this,"_drawingSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_currentEnabledSeries",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){super._afterNew(),this.getPrivate("toolbar")&&this._initToolbar()}_initElements(){super._initElements()}_isInited(){return!!this.getPrivate("toolsContainer")}_resetControls(){this.getPrivate("eraserControl").set("active",!1)}_initToolbar(){const t=this.get("stockChart"),e=this._root.language,i=this.getPrivate("toolbar"),s=document.createElement("div");s.className="am5stock-control-drawing-tools",s.style.display="none",this.setPrivate("toolsContainer",s),i.get("container").appendChild(s);const a=Rt.new(this._root,{stockChart:t,description:e.translateAny("Drawing tool"),tools:this.get("tools")});s.appendChild(a.getPrivate("button")),this.setPrivate("toolControl",a),a.events.on("selected",V=>{ae.set("active",!1),this.set("tool",V.tool)}),a.events.on("click",this._resetControls,this);const r=this.get("drawingIcons"),n=Xt.new(this._root,{stockChart:t,description:e.translateAny("Arrows &amp; Icons"),icons:r});n.setIcon(this.get("drawingIcon",r[0])),s.appendChild(n.getPrivate("button")),this.setPrivate("iconControl",n),n.events.on("selected",V=>{this.set("drawingIcon",V.icon)}),n.events.on("click",this._resetControls,this);const o=Y.new(this._root,{stockChart:t,description:e.translateAny("Snap icon to data"),icon:te.getIcon("Snap")});o.hide(),s.appendChild(o.getPrivate("button")),this.setPrivate("snapControl",o),this.get("snapToData")&&o.set("active",!0),o.on("active",V=>{this.set("snapToData",1==o.get("active"))}),o.events.on("click",this._resetControls,this);const u=Ee.new(this._root,{stockChart:t,colors:this.get("colors"),description:e.translateAny("Line color")});u.hide(),u.setPrivate("color",this.get("strokeColor",(0,_.$_)(0))),u.setPrivate("opacity",this.get("strokeOpacity",1)),s.appendChild(u.getPrivate("button")),this.setPrivate("strokeControl",u),u.events.on("selected",V=>{this.set("strokeColor",V.color)}),u.events.on("selectedOpacity",V=>{this.set("strokeOpacity",V.opacity)}),u.events.on("click",this._resetControls,this);const h=[];x.S6(this.get("strokeWidths",[]),V=>{h.push(V+"px")});const p=me.new(this._root,{stockChart:t,description:e.translateAny("Line thickness"),currentItem:this.get("strokeWidth","12")+"px",items:h});p.hide(),p.getPrivate("icon").style.display="none",s.appendChild(p.getPrivate("button")),this.setPrivate("strokeWidthControl",p),p.events.on("selected",V=>{this.set("strokeWidth",se.He(se.HD(V.item)?V.item:V.item.id))}),p.events.on("click",this._resetControls,this);const g=[];let m;const w=this.get("strokeDasharray",[]);x.S6(this.get("strokeDasharrays",[]),V=>{const ue=te.getIcon("Dash"),de=JSON.stringify(V);ue.setAttribute("stroke","#000"),ue.setAttribute("stroke-dasharray",V.join(",")),ue.setAttribute("class","am5stock-icon-wide"),g.push({id:de,label:"",icon:ue}),de==JSON.stringify(w)&&(m=te.getIcon("Dash"),m.setAttribute("stroke","#000"),m.setAttribute("stroke-dasharray",V.join(",")),m.setAttribute("class","am5stock-icon-wide"))});const v=me.new(this._root,{stockChart:t,description:e.translateAny("Line style"),items:g});v.hide(),m&&v.setItem({id:"",icon:m,label:""}),v.getPrivate("icon").setAttribute("class","am5stock-control-icon am5stock-icon-wide"),s.appendChild(v.getPrivate("button")),this.setPrivate("strokeDasharrayControl",v),v.events.on("selected",V=>{this.set("strokeDasharray",JSON.parse(V.item.id))}),v.events.on("click",this._resetControls,this);const k=Ee.new(this._root,{stockChart:t,colors:this.get("colors"),name:e.translateAny("Fill"),description:e.translateAny("Fill color")});k.hide(),k.setPrivate("color",this.get("fillColor",(0,_.$_)(0))),k.setPrivate("opacity",this.get("fillOpacity",1)),s.appendChild(k.getPrivate("button")),this.setPrivate("fillControl",k),k.events.on("selected",V=>{this.set("fillColor",V.color)}),k.events.on("selectedOpacity",V=>{this.set("fillOpacity",V.opacity)}),k.events.on("click",this._resetControls,this);const T=Ee.new(this._root,{stockChart:t,colors:this.get("colors"),name:e.translateAny("Text"),description:e.translateAny("Text color"),useOpacity:!1});T.hide(),T.setPrivate("color",this.get("labelFill",(0,_.$_)(0))),s.appendChild(T.getPrivate("button")),this.setPrivate("labelFillControl",T),T.events.on("selected",V=>{this.set("labelFill",V.color)}),T.events.on("click",this._resetControls,this);const L=[];x.S6(this.get("labelFontSizes",[]),V=>{L.push(V+"")});const N=me.new(this._root,{stockChart:t,description:e.translateAny("Label font size"),currentItem:this.get("labelFontSize","12px")+"",items:L});N.hide(),s.appendChild(N.getPrivate("button")),this.setPrivate("labelFontSizeControl",N),N.events.on("selected",V=>{this.set("labelFontSize",se.HD(V.item)?V.item:V.item.id)}),N.events.on("click",this._resetControls,this);const A=Y.new(this._root,{stockChart:t,description:e.translateAny("Bold"),icon:te.getIcon("Bold")});A.hide(),s.appendChild(A.getPrivate("button")),this.setPrivate("boldControl",A),A.on("active",V=>{this.set("labelFontWeight",A.get("active")?"bold":"normal")}),A.events.on("click",this._resetControls,this);const O=Y.new(this._root,{stockChart:t,description:e.translateAny("Italic"),icon:te.getIcon("Italic")});O.hide(),s.appendChild(O.getPrivate("button")),this.setPrivate("italicControl",O),O.on("active",V=>{this.set("labelFontStyle",O.get("active")?"italic":"normal")}),O.events.on("click",this._resetControls,this);const $=[];x.S6(this.get("labelFontFamilies",[]),V=>{$.push(V+"")});const H=me.new(this._root,{stockChart:t,description:e.translateAny("Label font family"),currentItem:this.get("labelFontFamily","Arial"),items:$});H.hide(),s.appendChild(H.getPrivate("button")),this.setPrivate("labelFontFamilyControl",H),H.events.on("selected",V=>{this.set("labelFontFamily",se.HD(V.item)?V.item:V.item.id)}),H.events.on("click",this._resetControls,this);const J=Y.new(this._root,{stockChart:t,description:e.translateAny("Show line extension"),icon:te.getIcon("Show Extension")});J.hide(),s.appendChild(J.getPrivate("button")),this.setPrivate("extensionControl",J),this.get("showExtension")&&J.set("active",!0),J.on("active",V=>{this.set("showExtension",1==J.get("active"))}),J.events.on("click",this._resetControls,this);const ae=Y.new(this._root,{stockChart:t,description:e.translateAny("Eraser"),icon:te.getIcon("Eraser")});s.appendChild(ae.getPrivate("button")),this.setPrivate("eraserControl",ae),ae.on("active",V=>{const ue=ae.get("active",!1);this.setEraser(ue)});const Q=Y.new(this._root,{stockChart:t,name:e.translateAny("Clear"),description:e.translateAny("Clear all drawings"),icon:te.getIcon("Clear"),togglable:!1});s.appendChild(Q.getPrivate("button")),this.setPrivate("clearControl",Q),this._disposers.push(b.Oo(Q.getPrivate("button"),"click",V=>{ae.set("active",!1),this.clearDrawings()})),this.get("active")&&this._setTool(this.get("tool"))}setEraser(t){pe.S6(this._drawingSeries,(e,i)=>{x.S6(i,s=>{t?s.enableErasing():s.disableErasing()})})}clearDrawings(){pe.S6(this._drawingSeries,(t,e)=>{x.S6(e,i=>{i.clearDrawings()})})}_beforeChanged(){super._beforeChanged();const t=this._isInited();if(this.isDirty("tools")){const e=this.getPrivate("toolControl");e&&e.set("tools",this.get("tools"))}this.isPrivateDirty("toolbar")&&this.getPrivate("toolbar")&&this._initToolbar(),this.isDirty("active")&&(this.get("active")?(t&&(this.getPrivate("toolsContainer").style.display="block"),this._setTool(this.get("tool"))):(t&&(this.getPrivate("toolsContainer").style.display="none"),this._setTool())),this.isDirty("tool")&&this.get("active")&&this._setTool(this.get("tool")),(this.isDirty("strokeColor")||this.isDirty("strokeWidth")||this.isDirty("strokeOpacity")||this.isDirty("strokeDasharray"))&&this._setStroke(),(this.isDirty("fillColor")||this.isDirty("fillOpacity"))&&this._setFill(),(this.isDirty("labelFill")||this.isDirty("labelFontSize")||this.isDirty("labelFontFamily")||this.isDirty("labelFontWeight")||this.isDirty("labelFontStyle"))&&this._setLabel(),this.isDirty("showExtension")&&this._setExtension(),this.isDirty("drawingIcon")&&this._setDrawingIcon(),this.isDirty("snapToData")&&this._setSnap()}_setTool(t){const e=this._isInited();if(x.S6(this._currentEnabledSeries,a=>{a.disableDrawing()}),this._currentEnabledSeries=[],!t)return void(e&&this.getPrivate("eraserControl").set("active",!1));let s;this._maybeInitToolSeries(t),x.S6(this._drawingSeries[t],a=>{s!==a.chart&&(a.enableDrawing(),this._currentEnabledSeries.push(a),s=a.chart)}),e&&(this.getPrivate("toolControl").setTool(t),pe.S6({strokeControl:["Average","Callout","Doodle","Ellipse","Fibonacci","Fibonacci Timezone","Horizontal Line","Horizontal Ray","Arrows &amp; Icons","Line","Polyline","Quadrant Line","Rectangle","Regression","Trend Line","Vertical Line"],strokeWidthControl:["Average","Doodle","Ellipse","Horizontal Line","Horizontal Ray","Line","Polyline","Quadrant Line","Rectangle","Regression","Trend Line","Vertical Line"],strokeDasharrayControl:["Average","Doodle","Ellipse","Horizontal Line","Horizontal Ray","Line","Polyline","Quadrant Line","Rectangle","Regression","Trend Line","Vertical Line"],extensionControl:["Average","Line","Regression","Trend Line"],fillControl:["Callout","Ellipse","Quadrant Line","Rectangle","Arrows &amp; Icons","Fibonacci Timezone"],labelFillControl:["Callout","Label"],labelFontSizeControl:["Callout","Label"],labelFontFamilyControl:["Callout","Label"],boldControl:["Callout","Label"],italicControl:["Callout","Label"],iconControl:["Arrows &amp; Icons"],snapControl:["Callout","Arrows &amp; Icons"]},(r,n)=>{const o=this.getPrivate(r);-1==n.indexOf(t)?o.hide():o.show()}))}_maybeInitToolSeries(t){let e=this._drawingSeries[t];if(!e){const i=this.get("series",[]),s=this.get("stockChart");0==i.length&&s.panels.each(a=>{a.series.length>0&&i.push(a.series.getIndex(0))}),e=[],x.S6(i,a=>{let r;const n=a.get("xAxis"),o=a.get("yAxis"),u=a.chart;switch(t){case"Average":r=Nt.new(this._root,{series:a,xAxis:n,yAxis:o,field:"value"});break;case"Callout":r=tt.new(this._root,{xAxis:n,yAxis:o});break;case"Doodle":r=Et.new(this._root,{xAxis:n,yAxis:o}),r.fills.template.setAll({forceHidden:!0});break;case"Ellipse":r=Ft.new(this._root,{xAxis:n,yAxis:o});break;case"Fibonacci":r=Qe.new(this._root,{xAxis:n,yAxis:o});break;case"Fibonacci Timezone":r=Bt.new(this._root,{xAxis:n,yAxis:o});break;case"Horizontal Line":r=Lt.new(this._root,{xAxis:n,yAxis:o});break;case"Horizontal Ray":r=Vt.new(this._root,{series:a,xAxis:n,yAxis:o,field:"value"});break;case"Arrows &amp; Icons":const h=this.get("drawingIcon",this.get("drawingIcons")[0]);r=Ue.new(this._root,{xAxis:n,yAxis:o,iconSvgPath:h.svgPath,iconScale:h.scale,iconCenterX:h.centerX,iconCenterY:h.centerY});break;case"Label":r=Ge.new(this._root,{xAxis:n,yAxis:o});break;case"Line":r=ce.new(this._root,{xAxis:n,yAxis:o});break;case"Polyline":r=Ve.new(this._root,{xAxis:n,yAxis:o}),r.fills.template.setAll({forceHidden:!0});break;case"Quadrant Line":r=Yt.new(this._root,{series:a,xAxis:n,yAxis:o,field:"value"});break;case"Rectangle":r=Tt.new(this._root,{xAxis:n,yAxis:o});break;case"Regression":r=Ot.new(this._root,{series:a,xAxis:n,yAxis:o,field:"value"});break;case"Trend Line":r=jt.new(this._root,{series:a,xAxis:n,yAxis:o,field:"value"});break;case"Vertical Line":r=It.new(this._root,{xAxis:n,yAxis:o})}r&&(e.push(r),u.drawings.push(r),r.setPrivate("baseValueSeries",a),r.set("valueYShow",a.get("valueYShow")),r.set("calculateAggregates",!0))}),this._drawingSeries[t]=e,this._setStroke(),this._setFill(),this._setLabel(),this._setDrawingIcon(),this._setSnap(),this._setExtension()}}_setStroke(){pe.S6(this._drawingSeries,(t,e)=>{x.S6(e,i=>{i.setAll({strokeColor:this.get("strokeColor"),strokeWidth:this.get("strokeWidth"),strokeOpacity:this.get("strokeOpacity"),strokeDasharray:this.get("strokeDasharray")})})})}_setFill(){pe.S6(this._drawingSeries,(t,e)=>{x.S6(e,i=>{i.setAll({fillColor:this.get("fillColor"),fillOpacity:this.get("fillOpacity")})})})}_setLabel(){const t=["Callout","Label"];pe.S6(this._drawingSeries,(e,i)=>{-1!=t.indexOf(e)&&x.S6(i,s=>{s.setAll({labelFill:this.get("labelFill"),labelFontSize:this.get("labelFontSize"),labelFontFamily:this.get("labelFontFamily"),labelFontWeight:this.get("labelFontWeight"),labelFontStyle:this.get("labelFontStyle")})})})}_setExtension(){pe.S6(this._drawingSeries,(t,e)=>{x.S6(e,i=>{i instanceof ce&&i.setAll({showExtension:this.get("showExtension")})})})}_setDrawingIcon(){if(!this._isInited())return;const t=this.get("drawingIcon",this.get("drawingIcons")[0]),e=this.getPrivate("fillControl");t.fillDisabled?e.hide():e.show(),pe.S6(this._drawingSeries,(i,s)=>{x.S6(s,a=>{a instanceof Ue&&a.setAll({iconSvgPath:t.svgPath,iconScale:t.scale,iconCenterX:t.centerX,iconCenterY:t.centerY,fillOpacity:t.fillDisabled?0:this.get("fillOpacity")})})})}_setSnap(){const t=this.get("snapToData",!1);pe.S6(this._drawingSeries,(e,i)=>{x.S6(i,s=>{(s instanceof Ue||s instanceof tt)&&s.setAll({snapToData:t})})})}_getDefaultIcon(){return te.getIcon("Draw")}_dispose(){super._dispose(),b.bX(this.getPrivate("toolsContainer"))}_getSeriesTool(t){if(t instanceof ye){let e=t.className;return"SimpleLineSeries"==e?"Line":"IconSeries"==e?"Arrows &amp; Icons":(e=b.w8(e.replace("Series","")),e)}}serializeDrawings(t="string",e){const i=[];return this.get("stockChart").panels.each((s,a)=>{s.series.each(r=>{if(r.isType("DrawingSeries")){const n=Xi.e.new(this.root,{includeSettings:["strokeColor","fillColor","strokeOpacity","fillOpacity","strokeWidth","strokeDasharray","field","snapToData","svgPath","labelFontSize","labelFontFamily","labelFontWeight","labelFontStyle","labelFill","showExtension"],maxDepth:4});r.data.values.map(u=>{u.__parse=!0});const o={__tool:this._getSeriesTool(r),__panelIndex:a,__drawing:n.serialize(r.data.values,0,!0)};i.push(o)}})}),"object"==t?i:JSON.stringify(i,void 0,e)}unserializeDrawings(t){const e=this.get("stockChart");se.HD(t)&&(t=JSON.parse(t)),se.kJ(t)||(t=[t]),x.S6(t,i=>{let s=e.panels.getIndex(i.__panelIndex||0);const a=i.__tool;let r;this._maybeInitToolSeries(a),x.S6(this._drawingSeries[a]||[],n=>{n.chart===s&&(r=n)}),i.settings||(i.settings={}),Ri.z.new(this._root).parse(i.__drawing).then(n=>{r.data.pushAll(n)})})}}Object.defineProperty(Qt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DrawingControl"}),Object.defineProperty(Qt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([Qt.className])});class Zt extends Y{_afterNew(){super._afterNew();const t=He.new(this._root,{control:this,parent:this.getPrivate("button")});this.setPrivate("list",t),t.events.on("invoked",i=>{this.addIndicator(i.item.id)}),t.events.on("closed",i=>{this.set("active",!1)}),this.on("active",i=>{i?this.setTimeout(()=>t.show(),10):t.hide()});const e=this.getPrivate("button");e.className=e.className+" am5stock-control-dropdown",this._initList()}_initList(){const t=this.getPrivate("list"),e=this.get("indicators"),i=[];x.S6(e,s=>{se.Kn(s)?i.push({id:s.id,label:s.name}):i.push({id:s,label:this._root.language.translateAny(s)})}),t.set("items",i)}_getDefaultIcon(){return te.getIcon("Indicator")}_beforeChanged(){super._beforeChanged(),this.isDirty("indicators")&&this._initList()}addIndicator(t){const e=this.get("stockChart");let i;const s=e.get("stockSeries"),a=e.get("volumeSeries"),r=this.get("legend");switch(t){case"Accumulation Distribution":i=ht.new(this.root,{stockChart:e,stockSeries:s,volumeSeries:a,legend:r});break;case"Accumulative Swing Index":i=pt.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Aroon":i=gt.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Awesome Oscillator":i=xt.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Bollinger Bands":i=ut.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Chaikin Money Flow":i=mt.new(this.root,{stockChart:e,stockSeries:s,volumeSeries:a,legend:r});break;case"Chaikin Oscillator":i=vt.new(this.root,{stockChart:e,stockSeries:s,volumeSeries:a,legend:r});break;case"Commodity Channel Index":i=kt.new(this.root,{stockChart:e,stockSeries:s});break;case"Disparity Index":i=Ct.new(this.root,{stockChart:e,stockSeries:s});break;case"MACD":i=ft.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Moving Average":i=Be.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Moving Average Deviation":i=ct.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Moving Average Envelope":i=lt.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Standard Deviation":i=Dt.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Trix":i=Pt.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Typical Price":i=St.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"Median Price":i=At.new(this.root,{stockChart:e,stockSeries:s,legend:r});break;case"On Balance Volume":i=bt.new(this.root,{stockChart:e,stockSeries:s,volumeSeries:a,legend:r});break;case"Relative Strength Index":i=dt.new(this.root,{stockChart:e,stockSeries:s});break;case"Stochastic Oscillator":i=yt.new(this.root,{stockChart:e,stockSeries:s});break;case"Williams R":i=_t.new(this.root,{stockChart:e,stockSeries:s});break;case"Volume":i=wt.new(this.root,{stockChart:e,stockSeries:s,volumeSeries:a});break;case"VWAP":i=ot.new(this.root,{stockChart:e,stockSeries:s,volumeSeries:a,legend:r});break;case"ZigZag":i=Mt.new(this.root,{stockChart:e,stockSeries:s,legend:r})}if(i||x.vn(this.get("indicators",[]),n=>!se.Kn(n)||n.id!=t||(i=n.callback.call(this),!1)),i){if(e.indicators.push(i),i._editableSettings.length){const n=e.getPrivate("settingsModal");n.events.once("done",o=>{i&&(o.settings||i.dispose())}),n.openIndicator(i)}this.events.isEnabled("selected")&&this.events.dispatch("selected",{type:"selected",target:this,indicator:i})}}serializeIndicators(t="string",e){const i=[],s=this.get("stockChart");return s.indicators.each(a=>{const r=Xi.e.new(this._root,{excludeSettings:["stockChart","stockSeries","volumeSeries","legend"]}),n={};a.get("stockSeries")&&(n.__stockSeries=!0),a.get("volumeSeries")&&(n.__volumeSeries=!0);const o=a.get("legend");o&&o._walkParents(u=>{u.isType("StockPanel")&&(n.__legendIndex=s.panels.indexOf(u))}),n.__indicator=r.serialize(a,0),i.push(n)}),"object"==t?i:JSON.stringify(i,void 0,e)}unserializeIndicators(t){const e=this.get("stockChart");se.HD(t)&&(t=JSON.parse(t)),x.S6(t,i=>{if(i.__indicator.settings||(i.__indicator.settings={}),i.__indicator.settings.stockChart=e,i.__stockSeries&&!i.__indicator.settings.stockSeries&&(i.__indicator.settings.stockSeries=e.get("stockSeries")),i.__volumeSeries&&!i.__indicator.settings.volumeSeries&&(i.__indicator.settings.volumeSeries=e.get("volumeSeries")),void 0!==i.__legendIndex&&!i.__indicator.settings.legend){const s=e.panels.getIndex(i.__legendIndex);s&&s.walkChildren(a=>{a.isType("StockLegend")&&(i.__indicator.settings.legend=a)})}Ri.z.new(this._root).parse(i.__indicator).then(s=>{s instanceof we&&e.indicators.push(s)})})}}Object.defineProperty(Zt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"IndicatorControl"}),Object.defineProperty(Zt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([Zt.className])});var mi=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],it={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(l){return typeof console<"u"&&console.warn(l)},getWeek:function(l){var t=new Date(l.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},vi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(l){var t=l%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const bi=vi;var ke=function(l,t){return void 0===t&&(t=2),("000"+l).slice(-1*t)},Ne=function(l){return!0===l?1:0};function Hi(l,t){var e;return function(){var i=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return l.apply(i,s)},t)}}var yi=function(l){return l instanceof Array?l:[l]};function xe(l,t,e){if(!0===e)return l.classList.add(t);l.classList.remove(t)}function K(l,t,e){var i=window.document.createElement(l);return e=e||"",i.className=t=t||"",void 0!==e&&(i.textContent=e),i}function Jt(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function zi(l,t){return t(l)?l:l.parentNode?zi(l.parentNode,t):void 0}function Kt(l,t){var e=K("div","numInputWrapper"),i=K("input","numInput "+l),s=K("span","arrowUp"),a=K("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var r in t)i.setAttribute(r,t[r]);return e.appendChild(i),e.appendChild(s),e.appendChild(a),e}function Me(l){try{return"function"==typeof l.composedPath?l.composedPath()[0]:l.target}catch{return l.target}}var xi=function(){},qt=function(l,t,e){return e.months[t?"shorthand":"longhand"][l]},ps={D:xi,F:function(l,t,e){l.setMonth(e.months.longhand.indexOf(t))},G:function(l,t){l.setHours((l.getHours()>=12?12:0)+parseFloat(t))},H:function(l,t){l.setHours(parseFloat(t))},J:function(l,t){l.setDate(parseFloat(t))},K:function(l,t,e){l.setHours(l.getHours()%12+12*Ne(new RegExp(e.amPM[1],"i").test(t)))},M:function(l,t,e){l.setMonth(e.months.shorthand.indexOf(t))},S:function(l,t){l.setSeconds(parseFloat(t))},U:function(l,t){return new Date(1e3*parseFloat(t))},W:function(l,t,e){var i=parseInt(t),s=new Date(l.getFullYear(),0,2+7*(i-1),0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(l,t){l.setFullYear(parseFloat(t))},Z:function(l,t){return new Date(t)},d:function(l,t){l.setDate(parseFloat(t))},h:function(l,t){l.setHours((l.getHours()>=12?12:0)+parseFloat(t))},i:function(l,t){l.setMinutes(parseFloat(t))},j:function(l,t){l.setDate(parseFloat(t))},l:xi,m:function(l,t){l.setMonth(parseFloat(t)-1)},n:function(l,t){l.setMonth(parseFloat(t)-1)},s:function(l,t){l.setSeconds(parseFloat(t))},u:function(l,t){return new Date(parseFloat(t))},w:xi,y:function(l,t){l.setFullYear(2e3+parseFloat(t))}},Ze={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ht={Z:function(l){return l.toISOString()},D:function(l,t,e){return t.weekdays.shorthand[Ht.w(l,t,e)]},F:function(l,t,e){return qt(Ht.n(l,t,e)-1,!1,t)},G:function(l,t,e){return ke(Ht.h(l,t,e))},H:function(l){return ke(l.getHours())},J:function(l,t){return void 0!==t.ordinal?l.getDate()+t.ordinal(l.getDate()):l.getDate()},K:function(l,t){return t.amPM[Ne(l.getHours()>11)]},M:function(l,t){return qt(l.getMonth(),!0,t)},S:function(l){return ke(l.getSeconds())},U:function(l){return l.getTime()/1e3},W:function(l,t,e){return e.getWeek(l)},Y:function(l){return ke(l.getFullYear(),4)},d:function(l){return ke(l.getDate())},h:function(l){return l.getHours()%12?l.getHours()%12:12},i:function(l){return ke(l.getMinutes())},j:function(l){return l.getDate()},l:function(l,t){return t.weekdays.longhand[l.getDay()]},m:function(l){return ke(l.getMonth()+1)},n:function(l){return l.getMonth()+1},s:function(l){return l.getSeconds()},u:function(l){return l.getTime()},w:function(l){return l.getDay()},y:function(l){return String(l.getFullYear()).substring(2)}},Wi=function(l){var t=l.config,e=void 0===t?it:t,i=l.l10n,s=void 0===i?vi:i,a=l.isMobile,r=void 0!==a&&a;return function(n,o,u){var h=u||s;return void 0===e.formatDate||r?o.split("").map(function(p,g,m){return Ht[p]&&"\\"!==m[g-1]?Ht[p](n,h,e):"\\"!==p?p:""}).join(""):e.formatDate(n,o,h)}},_i=function(l){var t=l.config,e=void 0===t?it:t,i=l.l10n,s=void 0===i?vi:i;return function(a,r,n,o){if(0===a||a){var h,u=o||s,p=a;if(a instanceof Date)h=new Date(a.getTime());else if("string"!=typeof a&&void 0!==a.toFixed)h=new Date(a);else if("string"==typeof a){var g=r||(e||it).dateFormat,m=String(a).trim();if("today"===m)h=new Date,n=!0;else if(e&&e.parseDate)h=e.parseDate(a,g);else if(/Z$/.test(m)||/GMT$/.test(m))h=new Date(a);else{for(var w=void 0,v=[],k=0,T=0,L="";k<g.length;k++){var N=g[k],A="\\"===N;if(Ze[N]&&"\\"!==g[k-1]&&!A){L+=Ze[N];var $=new RegExp(L).exec(a);$&&(w=!0)&&v["Y"!==N?"push":"unshift"]({fn:ps[N],val:$[++T]})}else A||(L+=".")}h=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),v.forEach(function(H){return h=(0,H.fn)(h,H.val,u)||h}),h=w?h:void 0}}return h instanceof Date&&!isNaN(h.getTime())?(!0===n&&h.setHours(0,0,0,0),h):void e.errorHandler(new Error("Invalid date provided: "+p))}}};function Te(l,t,e){return void 0===e&&(e=!0),!1!==e?new Date(l.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):l.getTime()-t.getTime()}var gs=function(l,t,e){return l>Math.min(t,e)&&l<Math.max(t,e)},wi=function(l,t,e){return 3600*l+60*t+e},fs=function(l){var t=Math.floor(l/3600),e=(l-3600*t)/60;return[t,e,l-3600*t-60*e]},ms={DAY:864e5};function ki(l){var t=l.defaultHour,e=l.defaultMinute,i=l.defaultSeconds;if(void 0!==l.minDate){var s=l.minDate.getHours(),a=l.minDate.getMinutes(),r=l.minDate.getSeconds();t<s&&(t=s),t===s&&e<a&&(e=a),t===s&&e===a&&i<r&&(i=l.minDate.getSeconds())}if(void 0!==l.maxDate){var n=l.maxDate.getHours(),o=l.maxDate.getMinutes();(t=Math.min(t,n))===n&&(e=Math.min(o,e)),t===n&&e===o&&(i=l.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}F(89989);var ve=function(){return ve=Object.assign||function(l){for(var t,e=1,i=arguments.length;e<i;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(l[s]=t[s]);return l},ve.apply(this,arguments)},$i=function(){for(var l=0,t=0,e=arguments.length;t<e;t++)l+=arguments[t].length;var i=Array(l),s=0;for(t=0;t<e;t++)for(var a=arguments[t],r=0,n=a.length;r<n;r++,s++)i[s]=a[r];return i},vs=300;function bs(l,t){var e={config:ve(ve({},it),ge.defaultConfig),l10n:bi};function a(){var c;return(null===(c=e.calendarContainer)||void 0===c?void 0:c.getRootNode()).activeElement||document.activeElement}function r(c){return c.bind(e)}function n(){var c=e.config;!1===c.weekNumbers&&1===c.showMonths||!0!==c.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==e.calendarContainer&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),void 0!==e.daysContainer){var d=(e.days.offsetWidth+1)*c.showMonths;e.daysContainer.style.width=d+"px",e.calendarContainer.style.width=d+(void 0!==e.weekWrapper?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function o(c){if(0===e.selectedDates.length){var d=void 0===e.config.minDate||Te(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),f=ki(e.config);d.setHours(f.hours,f.minutes,f.seconds,d.getMilliseconds()),e.selectedDates=[d],e.latestSelectedDateObj=d}void 0!==c&&"blur"!==c.type&&function js(c){c.preventDefault();var d="keydown"===c.type,f=Me(c),y=f;void 0!==e.amPM&&f===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Ne(e.amPM.textContent===e.l10n.amPM[0])]);var S=parseFloat(y.getAttribute("min")),I=parseFloat(y.getAttribute("max")),W=parseFloat(y.getAttribute("step")),j=parseInt(y.value,10),E=j+W*(c.delta||(d?38===c.which?1:-1:0));if(typeof y.value<"u"&&2===y.value.length){var R=y===e.hourElement,ne=y===e.minuteElement;E<S?(E=I+E+Ne(!R)+(Ne(R)&&Ne(!e.amPM)),ne&&A(void 0,-1,e.hourElement)):E>I&&(E=y===e.hourElement?E-I-Ne(!e.amPM):S,ne&&A(void 0,1,e.hourElement)),e.amPM&&R&&(1===W?E+j===23:Math.abs(E-j)>W)&&(e.amPM.textContent=e.l10n.amPM[Ne(e.amPM.textContent===e.l10n.amPM[0])]),y.value=ke(E)}}(c);var y=e._input.value;p(),Xe(),e._input.value!==y&&e._debouncedChange()}function p(){if(void 0!==e.hourElement&&void 0!==e.minuteElement){var c=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,d=(parseInt(e.minuteElement.value,10)||0)%60,f=void 0!==e.secondElement?(parseInt(e.secondElement.value,10)||0)%60:0;void 0!==e.amPM&&(c=function u(c,d){return c%12+12*Ne(d===e.l10n.amPM[1])}(c,e.amPM.textContent));var y=void 0!==e.config.minTime||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&0===Te(e.latestSelectedDateObj,e.config.minDate,!0),S=void 0!==e.config.maxTime||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&0===Te(e.latestSelectedDateObj,e.config.maxDate,!0);if(void 0!==e.config.maxTime&&void 0!==e.config.minTime&&e.config.minTime>e.config.maxTime){var I=wi(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),W=wi(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),j=wi(c,d,f);if(j>W&&j<I){var U=fs(I);c=U[0],d=U[1],f=U[2]}}else{if(S){var E=void 0!==e.config.maxTime?e.config.maxTime:e.config.maxDate;(c=Math.min(c,E.getHours()))===E.getHours()&&(d=Math.min(d,E.getMinutes())),d===E.getMinutes()&&(f=Math.min(f,E.getSeconds()))}if(y){var R=void 0!==e.config.minTime?e.config.minTime:e.config.minDate;(c=Math.max(c,R.getHours()))===R.getHours()&&d<R.getMinutes()&&(d=R.getMinutes()),d===R.getMinutes()&&(f=Math.max(f,R.getSeconds()))}}m(c,d,f)}}function g(c){var d=c||e.latestSelectedDateObj;d&&d instanceof Date&&m(d.getHours(),d.getMinutes(),d.getSeconds())}function m(c,d,f){void 0!==e.latestSelectedDateObj&&e.latestSelectedDateObj.setHours(c%24,d,f||0,0),e.hourElement&&e.minuteElement&&!e.isMobile&&(e.hourElement.value=ke(e.config.time_24hr?c:(12+c)%12+12*Ne(c%12==0)),e.minuteElement.value=ke(d),void 0!==e.amPM&&(e.amPM.textContent=e.l10n.amPM[Ne(c>=12)]),void 0!==e.secondElement&&(e.secondElement.value=ke(f)))}function w(c){var d=Me(c),f=parseInt(d.value)+(c.delta||0);(f/1e3>1||"Enter"===c.key&&!/[^\d]/.test(f.toString()))&&ci(f)}function v(c,d,f,y){return d instanceof Array?d.forEach(function(S){return v(c,S,f,y)}):c instanceof Array?c.forEach(function(S){return v(S,d,f,y)}):(c.addEventListener(d,f,y),void e._handlers.push({remove:function(){return c.removeEventListener(d,f,y)}}))}function k(){le("onChange")}function L(c,d){var f=void 0!==c?e.parseDate(c):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),y=e.currentYear,S=e.currentMonth;try{void 0!==f&&(e.currentYear=f.getFullYear(),e.currentMonth=f.getMonth())}catch(I){I.message="Invalid date supplied: "+f,e.config.errorHandler(I)}d&&e.currentYear!==y&&(le("onYearChange"),de()),d&&(e.currentYear!==y||e.currentMonth!==S)&&le("onMonthChange"),e.redraw()}function N(c){var d=Me(c);~d.className.indexOf("arrow")&&A(c,d.classList.contains("arrowUp")?1:-1)}function A(c,d,f){var y=c&&Me(c),S=f||y&&y.parentNode&&y.parentNode.firstChild,I=Pi("increment");I.delta=d,S&&S.dispatchEvent(I)}function $(c,d,f,y){var S=Ke(d,!0),I=K("span",c,d.getDate().toString());return I.dateObj=d,I.$i=y,I.setAttribute("aria-label",e.formatDate(d,e.config.ariaDateFormat)),-1===c.indexOf("hidden")&&0===Te(d,e.now)&&(e.todayDateElem=I,I.classList.add("today"),I.setAttribute("aria-current","date")),S?(I.tabIndex=-1,Ai(d)&&(I.classList.add("selected"),e.selectedDateElem=I,"range"===e.config.mode&&(xe(I,"startRange",e.selectedDates[0]&&0===Te(d,e.selectedDates[0],!0)),xe(I,"endRange",e.selectedDates[1]&&0===Te(d,e.selectedDates[1],!0)),"nextMonthDay"===c&&I.classList.add("inRange")))):I.classList.add("flatpickr-disabled"),"range"===e.config.mode&&function Es(c){return!("range"!==e.config.mode||e.selectedDates.length<2)&&Te(c,e.selectedDates[0])>=0&&Te(c,e.selectedDates[1])<=0}(d)&&!Ai(d)&&I.classList.add("inRange"),e.weekNumbers&&1===e.config.showMonths&&"prevMonthDay"!==c&&y%7==6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(d)+"</span>"),le("onDayCreate",I),I}function H(c){c.focus(),"range"===e.config.mode&&di(c)}function J(c){for(var f=c>0?e.config.showMonths:-1,y=c>0?0:e.config.showMonths-1;y!=f;y+=c)for(var S=e.daysContainer.children[y],W=c>0?S.children.length:-1,j=c>0?0:S.children.length-1;j!=W;j+=c){var U=S.children[j];if(-1===U.className.indexOf("hidden")&&Ke(U.dateObj))return U}}function Q(c,d){var f=a(),y=ui(f||document.body),S=void 0!==c?c:y?f:void 0!==e.selectedDateElem&&ui(e.selectedDateElem)?e.selectedDateElem:void 0!==e.todayDateElem&&ui(e.todayDateElem)?e.todayDateElem:J(d>0?1:-1);void 0===S?e._input.focus():y?function ae(c,d){for(var f=-1===c.className.indexOf("Month")?c.dateObj.getMonth():e.currentMonth,y=d>0?e.config.showMonths:-1,S=d>0?1:-1,I=f-e.currentMonth;I!=y;I+=S)for(var W=e.daysContainer.children[I],U=W.children.length,E=f-e.currentMonth===I?c.$i+d:d<0?W.children.length-1:0;E>=0&&E<U&&E!=(d>0?U:-1);E+=S){var R=W.children[E];if(-1===R.className.indexOf("hidden")&&Ke(R.dateObj)&&Math.abs(c.$i-E)>=Math.abs(d))return H(R)}e.changeMonth(S),Q(J(S),0)}(S,d):H(S)}function V(c,d){for(var f=(new Date(c,d,1).getDay()-e.l10n.firstDayOfWeek+7)%7,y=e.utils.getDaysInMonth((d-1+12)%12,c),S=e.utils.getDaysInMonth(d,c),I=window.document.createDocumentFragment(),W=e.config.showMonths>1,j=W?"prevMonthDay hidden":"prevMonthDay",U=W?"nextMonthDay hidden":"nextMonthDay",E=y+1-f,R=0;E<=y;E++,R++)I.appendChild($("flatpickr-day "+j,new Date(c,d-1,E),0,R));for(E=1;E<=S;E++,R++)I.appendChild($("flatpickr-day",new Date(c,d,E),0,R));for(var ne=S+1;ne<=42-f&&(1===e.config.showMonths||R%7!=0);ne++,R++)I.appendChild($("flatpickr-day "+U,new Date(c,d+1,ne%S),0,R));var Ye=K("div","dayContainer");return Ye.appendChild(I),Ye}function ue(){if(void 0!==e.daysContainer){Jt(e.daysContainer),e.weekNumbers&&Jt(e.weekNumbers);for(var c=document.createDocumentFragment(),d=0;d<e.config.showMonths;d++){var f=new Date(e.currentYear,e.currentMonth,1);f.setMonth(e.currentMonth+d),c.appendChild(V(f.getFullYear(),f.getMonth()))}e.daysContainer.appendChild(c),e.days=e.daysContainer.firstChild,"range"===e.config.mode&&1===e.selectedDates.length&&di()}}function de(){if(!(e.config.showMonths>1||"dropdown"!==e.config.monthSelectorType)){e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var d=0;d<12;d++)if(y=d,!(void 0!==e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&y<e.config.minDate.getMonth()||void 0!==e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()&&y>e.config.maxDate.getMonth())){var f=K("option","flatpickr-monthDropdown-month");f.value=new Date(e.currentYear,d).getMonth().toString(),f.textContent=qt(d,e.config.shorthandCurrentMonth,e.l10n),f.tabIndex=-1,e.currentMonth===d&&(f.selected=!0),e.monthsDropdownContainer.appendChild(f)}}var y}function oi(){var f,c=K("div","flatpickr-month"),d=window.document.createDocumentFragment();e.config.showMonths>1||"static"===e.config.monthSelectorType?f=K("span","cur-month"):(e.monthsDropdownContainer=K("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),v(e.monthsDropdownContainer,"change",function(W){var j=Me(W),U=parseInt(j.value,10);e.changeMonth(U-e.currentMonth),le("onMonthChange")}),de(),f=e.monthsDropdownContainer);var y=Kt("cur-year",{tabindex:"-1"}),S=y.getElementsByTagName("input")[0];S.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&S.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(S.setAttribute("max",e.config.maxDate.getFullYear().toString()),S.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var I=K("div","flatpickr-current-month");return I.appendChild(f),I.appendChild(y),d.appendChild(I),c.appendChild(d),{container:c,yearElement:S,monthElement:f}}function Re(){Jt(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var c=e.config.showMonths;c--;){var d=oi();e.yearElements.push(d.yearElement),e.monthElements.push(d.monthElement),e.monthNav.appendChild(d.container)}e.monthNav.appendChild(e.nextMonthNav)}function Ce(){e.weekdayContainer?Jt(e.weekdayContainer):e.weekdayContainer=K("div","flatpickr-weekdays");for(var c=e.config.showMonths;c--;){var d=K("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(d)}return Gi(),e.weekdayContainer}function Gi(){if(e.weekdayContainer){var c=e.l10n.firstDayOfWeek,d=$i(e.l10n.weekdays.shorthand);c>0&&c<d.length&&(d=$i(d.splice(c,d.length),d.splice(0,c)));for(var f=e.config.showMonths;f--;)e.weekdayContainer.children[f].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+d.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Ci(c,d){void 0===d&&(d=!0);var f=d?c:c-e.currentMonth;f<0&&!0===e._hidePrevMonthArrow||f>0&&!0===e._hideNextMonthArrow||(e.currentMonth+=f,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,le("onYearChange"),de()),ue(),le("onMonthChange"),gi())}function zt(c){return e.calendarContainer.contains(c)}function Di(c){if(e.isOpen&&!e.config.inline){var d=Me(c),f=zt(d),S=!(d===e.input||d===e.altInput||e.element.contains(d)||c.path&&c.path.indexOf&&(~c.path.indexOf(e.input)||~c.path.indexOf(e.altInput))||f||zt(c.relatedTarget)),I=!e.config.ignoredFocusElements.some(function(W){return W.contains(d)});S&&I&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement&&""!==e.input.value&&void 0!==e.input.value&&o(),e.close(),e.config&&"range"===e.config.mode&&1===e.selectedDates.length&&e.clear(!1))}}function ci(c){if(!(!c||e.config.minDate&&c<e.config.minDate.getFullYear()||e.config.maxDate&&c>e.config.maxDate.getFullYear())){var f=e.currentYear!==c;e.currentYear=c||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),f&&(e.redraw(),le("onYearChange"),de())}}function Ke(c,d){var f;void 0===d&&(d=!0);var y=e.parseDate(c,void 0,d);if(e.config.minDate&&y&&Te(y,e.config.minDate,void 0!==d?d:!e.minDateHasTime)<0||e.config.maxDate&&y&&Te(y,e.config.maxDate,void 0!==d?d:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&0===e.config.disable.length)return!0;if(void 0===y)return!1;for(var S=!!e.config.enable,I=null!==(f=e.config.enable)&&void 0!==f?f:e.config.disable,W=0,j=void 0;W<I.length;W++){if("function"==typeof(j=I[W])&&j(y))return S;if(j instanceof Date&&void 0!==y&&j.getTime()===y.getTime())return S;if("string"==typeof j){var U=e.parseDate(j,void 0,!0);return U&&U.getTime()===y.getTime()?S:!S}if("object"==typeof j&&void 0!==y&&j.from&&j.to&&y.getTime()>=j.from.getTime()&&y.getTime()<=j.to.getTime())return S}return!S}function ui(c){return void 0!==e.daysContainer&&-1===c.className.indexOf("hidden")&&-1===c.className.indexOf("flatpickr-disabled")&&e.daysContainer.contains(c)}function ks(c){var d=c.target===e._input,f=e._input.value.trimEnd()!==Mi();d&&f&&(!c.relatedTarget||!zt(c.relatedTarget))&&e.setDate(e._input.value,!0,c.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function Qi(c){var d=Me(c),f=e.config.wrap?l.contains(d):d===e._input,y=e.config.allowInput,S=e.isOpen&&(!y||!f),I=e.config.inline&&f&&!y;if(13===c.keyCode&&f){if(y)return e.setDate(e._input.value,!0,d===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),d.blur();e.open()}else if(zt(d)||S||I){var W=!!e.timeContainer&&e.timeContainer.contains(d);switch(c.keyCode){case 13:W?(c.preventDefault(),o(),Si()):es(c);break;case 27:c.preventDefault(),Si();break;case 8:case 46:f&&!e.config.allowInput&&(c.preventDefault(),e.clear());break;case 37:case 39:if(W||f)e.hourElement&&e.hourElement.focus();else{c.preventDefault();var j=a();if(void 0!==e.daysContainer&&(!1===y||j&&ui(j))){var U=39===c.keyCode?1:-1;c.ctrlKey?(c.stopPropagation(),Ci(U),Q(J(1),0)):Q(void 0,U)}}break;case 38:case 40:c.preventDefault();var E=40===c.keyCode?1:-1;e.daysContainer&&void 0!==d.$i||d===e.input||d===e.altInput?c.ctrlKey?(c.stopPropagation(),ci(e.currentYear-E),Q(J(1),0)):W||Q(void 0,7*E):d===e.currentYearElement?ci(e.currentYear-E):e.config.enableTime&&(!W&&e.hourElement&&e.hourElement.focus(),o(c),e._debouncedChange());break;case 9:if(W){var R=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Le){return Le}),ne=R.indexOf(d);if(-1!==ne){var Ye=R[ne+(c.shiftKey?-1:1)];c.preventDefault(),(Ye||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(d)&&c.shiftKey&&(c.preventDefault(),e._input.focus())}}if(void 0!==e.amPM&&d===e.amPM)switch(c.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],p(),Xe();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],p(),Xe()}(f||zt(d))&&le("onKeyDown",c)}function di(c,d){if(void 0===d&&(d="flatpickr-day"),1===e.selectedDates.length&&(!c||c.classList.contains(d)&&!c.classList.contains("flatpickr-disabled"))){for(var f=c?c.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),y=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),S=Math.min(f,e.selectedDates[0].getTime()),I=Math.max(f,e.selectedDates[0].getTime()),W=!1,j=0,U=0,E=S;E<I;E+=ms.DAY)Ke(new Date(E),!0)||(W=W||E>S&&E<I,E<y&&(!j||E>j)?j=E:E>y&&(!U||E<U)&&(U=E));Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+d)).forEach(function(ne){var Le=ne.dateObj.getTime(),Wt=j>0&&Le<j||U>0&&Le>U;if(Wt)return ne.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(at){ne.classList.remove(at)});W&&!Wt||(["startRange","inRange","endRange","notAllowed"].forEach(function(at){ne.classList.remove(at)}),void 0!==c&&(c.classList.add(f<=e.selectedDates[0].getTime()?"startRange":"endRange"),y<f&&Le===y?ne.classList.add("startRange"):y>f&&Le===y&&ne.classList.add("endRange"),Le>=j&&(0===U||Le<=U)&&gs(Le,y,f)&&ne.classList.add("inRange")))})}}function Cs(){e.isOpen&&!e.config.static&&!e.config.inline&&hi()}function Zi(c){return function(d){var f=e.config["_"+c+"Date"]=e.parseDate(d,e.config.dateFormat),y=e.config["_"+("min"===c?"max":"min")+"Date"];void 0!==f&&(e["min"===c?"minDateHasTime":"maxDateHasTime"]=f.getHours()>0||f.getMinutes()>0||f.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(S){return Ke(S)}),!e.selectedDates.length&&"min"===c&&g(f),Xe()),e.daysContainer&&(qi(),void 0!==f?e.currentYearElement[c]=f.getFullYear().toString():e.currentYearElement.removeAttribute(c),e.currentYearElement.disabled=!!y&&void 0!==f&&y.getFullYear()===f.getFullYear())}}function Ji(){return e.config.wrap?l.querySelector("[data-input]"):l}function Ki(){"object"!=typeof e.config.locale&&typeof ge.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ve(ve({},ge.l10ns.default),"object"==typeof e.config.locale?e.config.locale:"default"!==e.config.locale?ge.l10ns[e.config.locale]:void 0),Ze.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ze.l="("+e.l10n.weekdays.longhand.join("|")+")",Ze.M="("+e.l10n.months.shorthand.join("|")+")",Ze.F="("+e.l10n.months.longhand.join("|")+")",Ze.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")",void 0===ve(ve({},t),JSON.parse(JSON.stringify(l.dataset||{}))).time_24hr&&void 0===ge.defaultConfig.time_24hr&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Wi(e),e.parseDate=_i({config:e.config,l10n:e.l10n})}function hi(c){if("function"!=typeof e.config.position){if(void 0!==e.calendarContainer){le("onPreCalendarPosition");var d=c||e._positionElement,f=Array.prototype.reduce.call(e.calendarContainer.children,function(Ws,$s){return Ws+$s.offsetHeight},0),y=e.calendarContainer.offsetWidth,S=e.config.position.split(" "),I=S[0],W=S.length>1?S[1]:null,j=d.getBoundingClientRect(),U=window.innerHeight-j.bottom,E="above"===I||"below"!==I&&U<f&&j.top>f,R=window.pageYOffset+j.top+(E?-f-2:d.offsetHeight+2);if(xe(e.calendarContainer,"arrowTop",!E),xe(e.calendarContainer,"arrowBottom",E),!e.config.inline){var ne=window.pageXOffset+j.left,Ye=!1,Le=!1;"center"===W?(ne-=(y-j.width)/2,Ye=!0):"right"===W&&(ne-=y-j.width,Le=!0),xe(e.calendarContainer,"arrowLeft",!Ye&&!Le),xe(e.calendarContainer,"arrowCenter",Ye),xe(e.calendarContainer,"arrowRight",Le);var Wt=window.document.body.offsetWidth-(window.pageXOffset+j.right),at=ne+y>window.document.body.offsetWidth,Ys=Wt+y>window.document.body.offsetWidth;if(xe(e.calendarContainer,"rightMost",at),!e.config.static)if(e.calendarContainer.style.top=R+"px",at)if(Ys){var Ti=function Ps(){for(var c=null,d=0;d<document.styleSheets.length;d++){var f=document.styleSheets[d];if(f.cssRules){c=f;break}}return c??function As(){var c=document.createElement("style");return document.head.appendChild(c),c.sheet}()}();if(void 0===Ti)return;var Bs=window.document.body.offsetWidth,Vs=Math.max(0,Bs/2-y/2),Hs=Ti.cssRules.length,zs="{left:"+j.left+"px;right:auto;}";xe(e.calendarContainer,"rightMost",!1),xe(e.calendarContainer,"centerMost",!0),Ti.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+zs,Hs),e.calendarContainer.style.left=Vs+"px",e.calendarContainer.style.right="auto"}else e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Wt+"px";else e.calendarContainer.style.left=ne+"px",e.calendarContainer.style.right="auto"}}}else e.config.position(e,c)}function qi(){e.config.noCalendar||e.isMobile||(de(),gi(),ue())}function Si(){e._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(e.close,0):e.close()}function es(c){c.preventDefault(),c.stopPropagation();var f=zi(Me(c),function(R){return R.classList&&R.classList.contains("flatpickr-day")&&!R.classList.contains("flatpickr-disabled")&&!R.classList.contains("notAllowed")});if(void 0!==f){var y=f,S=e.latestSelectedDateObj=new Date(y.dateObj.getTime()),I=(S.getMonth()<e.currentMonth||S.getMonth()>e.currentMonth+e.config.showMonths-1)&&"range"!==e.config.mode;if(e.selectedDateElem=y,"single"===e.config.mode)e.selectedDates=[S];else if("multiple"===e.config.mode){var W=Ai(S);W?e.selectedDates.splice(parseInt(W),1):e.selectedDates.push(S)}else"range"===e.config.mode&&(2===e.selectedDates.length&&e.clear(!1,!1),e.latestSelectedDateObj=S,e.selectedDates.push(S),0!==Te(S,e.selectedDates[0],!0)&&e.selectedDates.sort(function(R,ne){return R.getTime()-ne.getTime()}));if(p(),I){var j=e.currentYear!==S.getFullYear();e.currentYear=S.getFullYear(),e.currentMonth=S.getMonth(),j&&(le("onYearChange"),de()),le("onMonthChange")}gi(),ue(),Xe(),I||"range"===e.config.mode||1!==e.config.showMonths?void 0!==e.selectedDateElem&&void 0===e.hourElement&&e.selectedDateElem&&e.selectedDateElem.focus():H(y),void 0!==e.hourElement&&void 0!==e.hourElement&&e.hourElement.focus(),e.config.closeOnSelect&&("single"===e.config.mode&&!e.config.enableTime||"range"===e.config.mode&&2===e.selectedDates.length&&!e.config.enableTime)&&Si(),k()}}e.parseDate=_i({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=v,e._setHoursFromDate=g,e._positionCalendar=hi,e.changeMonth=Ci,e.changeYear=ci,e.clear=function xs(c,d){if(void 0===c&&(c=!0),void 0===d&&(d=!0),e.input.value="",void 0!==e.altInput&&(e.altInput.value=""),void 0!==e.mobileInput&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,!0===d&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),!0===e.config.enableTime){var f=ki(e.config);m(f.hours,f.minutes,f.seconds)}e.redraw(),c&&le("onChange")},e.close=function _s(){e.isOpen=!1,e.isMobile||(void 0!==e.calendarContainer&&e.calendarContainer.classList.remove("open"),void 0!==e._input&&e._input.classList.remove("active")),le("onClose")},e.onMouseOver=di,e._createElement=K,e.createDay=$,e.destroy=function ws(){void 0!==e.config&&le("onDestroy");for(var c=e._handlers.length;c--;)e._handlers[c].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var d=e.calendarContainer.parentNode;if(d.lastChild&&d.removeChild(d.lastChild),d.parentNode){for(;d.firstChild;)d.parentNode.insertBefore(d.firstChild,d);d.parentNode.removeChild(d)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(f){try{delete e[f]}catch{}})},e.isEnabled=Ke,e.jumpToDate=L,e.updateValue=Xe,e.open=function Ds(c,d){if(void 0===d&&(d=e._positionElement),!0===e.isMobile){if(c){c.preventDefault();var f=Me(c);f&&f.blur()}return void 0!==e.mobileInput&&(e.mobileInput.focus(),e.mobileInput.click()),void le("onOpen")}if(!e._input.disabled&&!e.config.inline){var y=e.isOpen;e.isOpen=!0,y||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),le("onOpen"),hi(d)),!0===e.config.enableTime&&!0===e.config.noCalendar&&!1===e.config.allowInput&&(void 0===c||!e.timeContainer.contains(c.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}},e.redraw=qi,e.set=function Ms(c,d){if(null!==c&&"object"==typeof c)for(var f in Object.assign(e.config,c),c)void 0!==pi[f]&&pi[f].forEach(function(y){return y()});else e.config[c]=d,void 0!==pi[c]?pi[c].forEach(function(y){return y()}):mi.indexOf(c)>-1&&(e.config[c]=yi(d));e.redraw(),Xe(!0)},e.setDate=function Ts(c,d,f){if(void 0===d&&(d=!1),void 0===f&&(f=e.config.dateFormat),0!==c&&!c||c instanceof Array&&0===c.length)return e.clear(d);ts(c,f),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),L(void 0,d),g(),0===e.selectedDates.length&&e.clear(!1),Xe(d),d&&le("onChange")},e.toggle=function Os(c){if(!0===e.isOpen)return e.close();e.open(c)};var pi={locale:[Ki,Gi],showMonths:[Re,n,Ce],minDate:[L],maxDate:[L],positionElement:[ss],clickOpens:[function(){!0===e.config.clickOpens?(v(e._input,"focus",e.open),v(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function ts(c,d){var f=[];if(c instanceof Array)f=c.map(function(y){return e.parseDate(y,d)});else if(c instanceof Date||"number"==typeof c)f=[e.parseDate(c,d)];else if("string"==typeof c)switch(e.config.mode){case"single":case"time":f=[e.parseDate(c,d)];break;case"multiple":f=c.split(e.config.conjunction).map(function(y){return e.parseDate(y,d)});break;case"range":f=c.split(e.l10n.rangeSeparator).map(function(y){return e.parseDate(y,d)})}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(c)));e.selectedDates=e.config.allowInvalidPreload?f:f.filter(function(y){return y instanceof Date&&Ke(y,!1)}),"range"===e.config.mode&&e.selectedDates.sort(function(y,S){return y.getTime()-S.getTime()})}function is(c){return c.slice().map(function(d){return"string"==typeof d||"number"==typeof d||d instanceof Date?e.parseDate(d,void 0,!0):d&&"object"==typeof d&&d.from&&d.to?{from:e.parseDate(d.from,void 0),to:e.parseDate(d.to,void 0)}:d}).filter(function(d){return d})}function ss(){e._positionElement=e.config.positionElement||e._input}function le(c,d){if(void 0!==e.config){var f=e.config[c];if(void 0!==f&&f.length>0)for(var y=0;f[y]&&y<f.length;y++)f[y](e.selectedDates,e.input.value,e,d);"onChange"===c&&(e.input.dispatchEvent(Pi("change")),e.input.dispatchEvent(Pi("input")))}}function Pi(c){var d=document.createEvent("Event");return d.initEvent(c,!0,!0),d}function Ai(c){for(var d=0;d<e.selectedDates.length;d++){var f=e.selectedDates[d];if(f instanceof Date&&0===Te(f,c))return""+d}return!1}function gi(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(c,d){var f=new Date(e.currentYear,e.currentMonth,1);f.setMonth(e.currentMonth+d),e.config.showMonths>1||"static"===e.config.monthSelectorType?e.monthElements[d].textContent=qt(f.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=f.getMonth().toString(),c.value=f.getFullYear().toString()}),e._hidePrevMonthArrow=void 0!==e.config.minDate&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=void 0!==e.config.maxDate&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Mi(c){var d=c||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(f){return e.formatDate(f,d)}).filter(function(f,y,S){return"range"!==e.config.mode||e.config.enableTime||S.indexOf(f)===y}).join("range"!==e.config.mode?e.config.conjunction:e.l10n.rangeSeparator)}function Xe(c){void 0===c&&(c=!0),void 0!==e.mobileInput&&e.mobileFormatStr&&(e.mobileInput.value=void 0!==e.latestSelectedDateObj?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Mi(e.config.dateFormat),void 0!==e.altInput&&(e.altInput.value=Mi(e.config.altFormat)),!1!==c&&le("onValueUpdate")}function Fs(c){var d=Me(c),f=e.prevMonthNav.contains(d),y=e.nextMonthNav.contains(d);f||y?Ci(f?-1:1):e.yearElements.indexOf(d)>=0?d.select():d.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):d.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}return function s(){e.element=e.input=l,e.isOpen=!1,function Ss(){var c=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],d=ve(ve({},JSON.parse(JSON.stringify(l.dataset||{}))),t),f={};e.config.parseDate=d.parseDate,e.config.formatDate=d.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(R){e.config._enable=is(R)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(R){e.config._disable=is(R)}});var y="time"===d.mode;d.dateFormat||!d.enableTime&&!y||(f.dateFormat=d.noCalendar||y?"H:i"+(d.enableSeconds?":S":""):(ge.defaultConfig.dateFormat||it.dateFormat)+" H:i"+(d.enableSeconds?":S":"")),d.altInput&&(d.enableTime||y)&&!d.altFormat&&(f.altFormat=d.noCalendar||y?"h:i"+(d.enableSeconds?":S K":" K"):(ge.defaultConfig.altFormat||it.altFormat)+" h:i"+(d.enableSeconds?":S":"")+" K"),Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Zi("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Zi("max")});var W=function(R){return function(ne){e.config["min"===R?"_minTime":"_maxTime"]=e.parseDate(ne,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:W("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:W("max")}),"time"===d.mode&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,f,d);for(var j=0;j<c.length;j++)e.config[c[j]]=!0===e.config[c[j]]||"true"===e.config[c[j]];for(mi.filter(function(R){return void 0!==e.config[R]}).forEach(function(R){e.config[R]=yi(e.config[R]||[]).map(r)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&"single"===e.config.mode&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),j=0;j<e.config.plugins.length;j++){var U=e.config.plugins[j](e)||{};for(var E in U)mi.indexOf(E)>-1?e.config[E]=yi(U[E]).map(r).concat(e.config[E]):typeof d[E]>"u"&&(e.config[E]=U[E])}d.altInputClass||(e.config.altInputClass=Ji().className+" "+e.config.altInputClass),le("onParseConfig")}(),Ki(),function Is(){e.input=Ji(),e.input?(e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=K(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),ss()):e.config.errorHandler(new Error("Invalid input element specified"))}(),function Ls(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var c=e.config.defaultDate||("INPUT"!==e.input.nodeName&&"TEXTAREA"!==e.input.nodeName||!e.input.placeholder||e.input.value!==e.input.placeholder?e.input.value:null);c&&ts(c,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),void 0!==e.config.minTime&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),void 0!==e.config.maxTime&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}(),function i(){e.utils={getDaysInMonth:function(c,d){return void 0===c&&(c=e.currentMonth),void 0===d&&(d=e.currentYear),1===c&&(d%4==0&&d%100!=0||d%400==0)?29:e.l10n.daysInMonth[c]}}}(),e.isMobile||function O(){var c=window.document.createDocumentFragment();if(e.calendarContainer=K("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(c.appendChild(function Je(){return e.monthNav=K("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=K("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=K("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Re(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(c){e.__hidePrevMonthArrow!==c&&(xe(e.prevMonthNav,"flatpickr-disabled",c),e.__hidePrevMonthArrow=c)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(c){e.__hideNextMonthArrow!==c&&(xe(e.nextMonthNav,"flatpickr-disabled",c),e.__hideNextMonthArrow=c)}}),e.currentYearElement=e.yearElements[0],gi(),e.monthNav}()),e.innerContainer=K("div","flatpickr-innerContainer"),e.config.weekNumbers){var d=function ys(){e.calendarContainer.classList.add("hasWeeks");var c=K("div","flatpickr-weekwrapper");c.appendChild(K("span","flatpickr-weekday",e.l10n.weekAbbreviation));var d=K("div","flatpickr-weeks");return c.appendChild(d),{weekWrapper:c,weekNumbers:d}}(),f=d.weekWrapper,y=d.weekNumbers;e.innerContainer.appendChild(f),e.weekNumbers=y,e.weekWrapper=f}e.rContainer=K("div","flatpickr-rContainer"),e.rContainer.appendChild(Ce()),e.daysContainer||(e.daysContainer=K("div","flatpickr-days"),e.daysContainer.tabIndex=-1),ue(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),c.appendChild(e.innerContainer)}e.config.enableTime&&c.appendChild(function li(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var c=ki(e.config);e.timeContainer=K("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var d=K("span","flatpickr-time-separator",":"),f=Kt("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=f.getElementsByTagName("input")[0];var y=Kt("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=y.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ke(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?c.hours:function h(c){switch(c%24){case 0:case 12:return 12;default:return c%12}}(c.hours)),e.minuteElement.value=ke(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():c.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(f),e.timeContainer.appendChild(d),e.timeContainer.appendChild(y),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var S=Kt("flatpickr-second");e.secondElement=S.getElementsByTagName("input")[0],e.secondElement.value=ke(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():c.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(K("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(S)}return e.config.time_24hr||(e.amPM=K("span","flatpickr-am-pm",e.l10n.amPM[Ne((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}()),xe(e.calendarContainer,"rangeMode","range"===e.config.mode),xe(e.calendarContainer,"animate",!0===e.config.animate),xe(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(c);var S=void 0!==e.config.appendTo&&void 0!==e.config.appendTo.nodeType;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!S&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):void 0!==e.config.appendTo&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var I=K("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(I,e.element),I.appendChild(e.element),e.altInput&&I.appendChild(e.altInput),I.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(void 0!==e.config.appendTo?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}(),function T(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(f){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+f+"]"),function(y){return v(y,"click",e[f])})}),e.isMobile)!function Ns(){var c=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=K("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=c,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr="datetime-local"===c?"Y-m-d\\TH:i:S":"date"===c?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",void 0!==e.altInput&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}v(e.mobileInput,"change",function(d){e.setDate(Me(d).value,!1,e.mobileFormatStr),le("onChange"),le("onClose")})}();else{var c=Hi(Cs,50);if(e._debouncedChange=Hi(k,vs),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&v(e.daysContainer,"mouseover",function(f){"range"===e.config.mode&&di(Me(f))}),v(e._input,"keydown",Qi),void 0!==e.calendarContainer&&v(e.calendarContainer,"keydown",Qi),!e.config.inline&&!e.config.static&&v(window,"resize",c),void 0!==window.ontouchstart?v(window.document,"touchstart",Di):v(window.document,"mousedown",Di),v(window.document,"focus",Di,{capture:!0}),!0===e.config.clickOpens&&(v(e._input,"focus",e.open),v(e._input,"click",e.open)),void 0!==e.daysContainer&&(v(e.monthNav,"click",Fs),v(e.monthNav,["keyup","increment"],w),v(e.daysContainer,"click",es)),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement){v(e.timeContainer,["increment"],o),v(e.timeContainer,"blur",o,{capture:!0}),v(e.timeContainer,"click",N),v([e.hourElement,e.minuteElement],["focus","click"],function(f){return Me(f).select()}),void 0!==e.secondElement&&v(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),void 0!==e.amPM&&v(e.amPM,"click",function(f){o(f)})}e.config.allowInput&&v(e._input,"blur",ks)}}(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&g(e.config.noCalendar?e.latestSelectedDateObj:void 0),Xe(!1)),n();var c=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&c&&hi(),le("onReady")}(),e}function st(l,t){for(var e=Array.prototype.slice.call(l).filter(function(r){return r instanceof HTMLElement}),i=[],s=0;s<e.length;s++){var a=e[s];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=bs(a,t||{}),i.push(a._flatpickr)}catch(r){console.error(r)}}return 1===i.length?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(l){return st(this,l)},HTMLElement.prototype.flatpickr=function(l){return st([this],l)});var ge=function(l,t){return"string"==typeof l?st(window.document.querySelectorAll(l),t):l instanceof Node?st([l],t):st(l,t)};ge.defaultConfig={},ge.l10ns={en:ve({},bi),default:ve({},bi)},ge.localize=function(l){ge.l10ns.default=ve(ve({},ge.l10ns.default),l)},ge.setDefaults=function(l){ge.defaultConfig=ve(ve({},ge.defaultConfig),l)},ge.parseDate=_i({}),ge.formatDate=Wi({}),ge.compareDates=Te,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(l){return st(this,l)}),Date.prototype.fp_incr=function(l){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof l?parseInt(l,10):l))},typeof window<"u"&&(window.flatpickr=ge);const Ui=ge;class ei extends Y{_afterNew(){super._afterNew();const t=G.new(this._root,{control:this,parent:this.getPrivate("button")});this.setPrivate("dropdown",t),t.events.on("opened",i=>{this.set("active",!0),this._updateInputs()}),t.events.on("closed",i=>{this.set("active",!1)}),this.on("active",i=>{i?this.setTimeout(()=>{t.show()},10):t.hide()});const e=this.getPrivate("button");e.className=e.className+" am5stock-control-dropdown",this.get("useDefaultCSS",!0)&&this._loadDefaultCSS(),this._initDropdown()}_initDropdown(){const e=this.getPrivate("dropdown").getPrivate("container"),i=document.createElement("div");i.className="am5stock-row",e.appendChild(i);const s=document.createElement("div");s.className="am5stock-column",i.appendChild(s);const a=document.createElement("div");a.className="am5stock-group",s.appendChild(a);const r=document.createElement("div");r.className="am5stock-small",r.innerHTML=this._root.language.translate("From %1",void 0,""),a.appendChild(r);const n=document.createElement("input");n.type="text",a.appendChild(n),this.setPrivate("fromField",n);const o=document.createElement("div");o.className="am5stock-column",i.appendChild(o);const u=document.createElement("div");u.className="am5stock-group",o.appendChild(u);const h=document.createElement("div");h.className="am5stock-small",h.innerHTML=this._root.language.translate("To %1",void 0,""),u.appendChild(h);const p=document.createElement("input");p.type="text",u.appendChild(p),this.setPrivate("toField",p);const g=this._getPickerLocale(),m=Ui(n,{inline:!0,appendTo:s,allowInput:!0,locale:g,formatDate:A=>this._formatDate(A),parseDate:A=>this._parseDate(A)});this.setPrivate("fromPicker",m);const w=Ui(p,{inline:!0,appendTo:o,allowInput:!0,locale:g,formatDate:A=>this._formatDate(A),parseDate:A=>this._parseDate(A)});this.setPrivate("toPicker",w);const v=document.createElement("div");v.className="am5stock-row",e.appendChild(v);const k=document.createElement("div");k.className="am5stock-column",e.appendChild(k);const T=document.createElement("input");T.type="button",T.value=this._root.language.translateAny("Apply"),T.className="am5-modal-button am5-modal-primary",k.appendChild(T);const L=this._getAxis();L.onPrivate("selectionMin",()=>{this.getPrivate("fromDate")&&(this._updateInputs(),this._updateLabel())}),L.onPrivate("selectionMax",()=>{this.getPrivate("toDate")&&(this._updateInputs(),this._updateLabel())}),L.onPrivate("minFinal",()=>{this._updatePickers()}),L.onPrivate("maxFinal",()=>{this._updatePickers()}),b.Oo(T,"click",()=>{const A=this._parseDate(n.value),O=this._parseDate(p.value);this.setPrivate("fromDate",A),this.setPrivate("toDate",O),L.zoomToDates(A,O),this._updateLabel(),this.set("active",!1)});const N=document.createElement("input");N.type="button",N.value=this._root.language.translateAny("Cancel"),N.className="am5-modal-button am5-modal-scondary",k.appendChild(N),this._disposers.push(b.Oo(N,"click",()=>{this.set("active",!1)}))}_getDefaultIcon(){return te.getIcon("Calendar")}_afterChanged(){super._afterChanged()}_updateInputs(){const t=this._getAxis(),e=t.getPrivate("selectionMin",0),i=t.getPrivate("selectionMax",0);if(!e||!i)return;const s=new Date(e),a=new Date(i);this.setPrivate("fromDate",s),this.setPrivate("toDate",a),this.getPrivate("fromField").value=this._formatDate(s),this.getPrivate("toField").value=this._formatDate(a);const r=this.getPrivate("fromPicker"),n=r.config.minDate;r.setDate(!n||n<=s?s:n);const o=this.getPrivate("toPicker"),u=o.config.maxDate;o.setDate(!u||u>=a?a:u)}_updatePickers(){const t=this._getAxis(),e=this.get("minDate"),i=this.getPrivate("fromPicker");if("auto"==e){const r=t.getPrivate("minFinal");r&&i.set("minDate",new Date(r+1))}else e instanceof Date?i.set("minDate",e):i.set("minDate",void 0);const s=this.get("maxDate"),a=this.getPrivate("toPicker");if("auto"==s){const r=t.getPrivate("maxFinal");r&&a.set("maxDate",new Date(r))}else s instanceof Date?a.set("maxDate",s):a.set("maxDate",void 0)}_updateLabel(){const t=this.getPrivate("fromDate"),e=this.getPrivate("toDate");let i="";i=t&&e?this._formatDate(t)+" -- "+this._formatDate(e):this._root.language.translateAny("Date Range"),this.set("name",i)}_formatDate(t){return this._root.dateFormatter.format(t,this._getDateFormat())}_parseDate(t){return this._root.dateFormatter.parse(t,this._getDateFormat())}_getDateFormat(){const t=this.get("dateFormat",this._root.dateFormatter.get("dateFormat"));return se.HD(t)?t:"MM/dd/yyyy"}_getAxis(){return this.get("stockChart").panels.getIndex(0).xAxes.getIndex(0)}_getPickerLocale(){const t=this._root.language;return{weekdays:{shorthand:[t.translate("Sun"),t.translate("Mon"),t.translate("Tue"),t.translate("Wed"),t.translate("Thu"),t.translate("Fri"),t.translate("Sat")],longhand:[t.translate("Sunday"),t.translate("Monday"),t.translate("Tuesday"),t.translate("Wednesday"),t.translate("Thursday"),t.translate("Friday"),t.translate("Saturday")]},months:{shorthand:[t.translate("Jan"),t.translate("Feb"),t.translate("Mar"),t.translate("Apr"),t.translate("May(short)"),t.translate("Jun"),t.translate("Jul"),t.translate("Aug"),t.translate("Sep"),t.translate("Oct"),t.translate("Nov"),t.translate("Dec")],longhand:[t.translate("January"),t.translate("February"),t.translate("March"),t.translate("April"),t.translate("May"),t.translate("June"),t.translate("July"),t.translate("August"),t.translate("September"),t.translate("October"),t.translate("November"),t.translate("December")]},firstDayOfWeek:t.translate("firstDayOfWeek"),ordinal:t.translateFunc("_dateOrd"),rangeSeparator:" "+t.translateAny("to")+" ",weekAbbreviation:t.translateAny("Wk"),scrollTitle:t.translateAny("Scroll to increment"),toggleTitle:t.translateAny("Click to toggle"),amPM:[t.translate("AM"),t.translate("PM")],yearAriaLabel:t.translateAny("Year"),monthAriaLabel:t.translateAny("Month"),hourAriaLabel:t.translateAny("Hour"),minuteAriaLabel:t.translateAny("Minute"),time_24hr:!0}}_loadDefaultCSS(){const t=this._root.interfaceColors,e=t.get("primaryButton").toCSS(),i=t.get("primaryButtonHover").toCSS(),s=t.get("text").toCSS(),a=t.get("secondaryButtonActive").toCSS(),r=t.get("background").toCSS();this._disposers.push(new b.mM(null,`\n.flatpickr-calendar {\n  background: transparent;\n  opacity: 0;\n  display: none;\n  text-align: center;\n  visibility: hidden;\n  padding: 0;\n  -webkit-animation: none;\n          animation: none;\n  direction: ltr;\n  border: 0;\n  font-size: 12px;\n  line-height: 24px;\n  border-radius: 5px;\n  position: absolute;\n  width: 200px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -ms-touch-action: manipulation;\n      touch-action: manipulation;\n  background: ${r};\n  margin-top: 0.5em;\n}\n.flatpickr-calendar.open,\n.flatpickr-calendar.inline {\n  opacity: 1;\n  max-height: 640px;\n  visibility: visible;\n}\n.flatpickr-calendar.open {\n  display: inline-block;\n  z-index: 99999;\n}\n.flatpickr-calendar.animate.open {\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n          animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n}\n.flatpickr-calendar.inline {\n  display: block;\n  position: relative;\n  top: 2px;\n}\n.flatpickr-calendar.static {\n  position: absolute;\n  top: calc(100% + 2px);\n}\n.flatpickr-calendar.static.open {\n  z-index: 999;\n  display: block;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7) {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1) {\n  -webkit-box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n          box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-calendar .hasWeeks .dayContainer,\n.flatpickr-calendar .hasTime .dayContainer {\n  border-bottom: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.flatpickr-calendar .hasWeeks .dayContainer {\n  border-left: 0;\n}\n.flatpickr-calendar.hasTime .flatpickr-time {\n  height: 40px;\n  border-top: 1px solid ${a};\n}\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\n  height: auto;\n}\n.flatpickr-calendar:before,\n.flatpickr-calendar:after {\n  position: absolute;\n  display: block;\n  pointer-events: none;\n  border: solid transparent;\n  content: '';\n  height: 0;\n  width: 0;\n  left: 22px;\n}\n.flatpickr-calendar.rightMost:before,\n.flatpickr-calendar.arrowRight:before,\n.flatpickr-calendar.rightMost:after,\n.flatpickr-calendar.arrowRight:after {\n  left: auto;\n  right: 22px;\n}\n.flatpickr-calendar.arrowCenter:before,\n.flatpickr-calendar.arrowCenter:after {\n  left: 50%;\n  right: 50%;\n}\n.flatpickr-calendar:before {\n  border-width: 5px;\n  margin: 0 -5px;\n}\n.flatpickr-calendar:after {\n  border-width: 4px;\n  margin: 0 -4px;\n}\n.flatpickr-calendar.arrowTop:before,\n.flatpickr-calendar.arrowTop:after {\n  bottom: 100%;\n}\n.flatpickr-calendar.arrowTop:before {\n  border-bottom-color: ${a};\n}\n.flatpickr-calendar.arrowTop:after {\n  border-bottom-color: ${r};\n}\n.flatpickr-calendar.arrowBottom:before,\n.flatpickr-calendar.arrowBottom:after {\n  top: 100%;\n}\n.flatpickr-calendar.arrowBottom:before {\n  border-top-color: ${a};\n}\n.flatpickr-calendar.arrowBottom:after {\n  border-top-color: ${r};\n}\n.flatpickr-calendar:focus {\n  outline: 0;\n}\n.flatpickr-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.flatpickr-months {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-months .flatpickr-month {\n  background: transparent;\n  color: ${s};\n  fill: ${s};\n  height: 34px;\n  line-height: 1;\n  text-align: center;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.flatpickr-months .flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month {\n  text-decoration: none;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  height: 34px;\n  padding: 10px;\n  z-index: 3;\n  color: ${s};\n  fill: ${s};\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,\n.flatpickr-months .flatpickr-next-month.flatpickr-disabled {\n  display: none;\n}\n.flatpickr-months .flatpickr-prev-month i,\n.flatpickr-months .flatpickr-next-month i {\n  position: relative;\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-prev-month {\n/*\n      /*rtl:begin:ignore*/\n/*\n      */\n  left: 0;\n/*\n      /*rtl:end:ignore*/\n/*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-next-month {\n/*\n      /*rtl:begin:ignore*/\n/*\n      */\n  right: 0;\n/*\n      /*rtl:end:ignore*/\n/*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,\n.flatpickr-months .flatpickr-next-month:hover {\n  color: ${i};\n}\n.flatpickr-months .flatpickr-prev-month:hover svg,\n.flatpickr-months .flatpickr-next-month:hover svg {\n  fill: ${i};\n}\n.flatpickr-months .flatpickr-prev-month svg,\n.flatpickr-months .flatpickr-next-month svg {\n  width: 14px;\n  height: 14px;\n}\n.flatpickr-months .flatpickr-prev-month svg path,\n.flatpickr-months .flatpickr-next-month svg path {\n  -webkit-transition: fill 0.1s;\n  transition: fill 0.1s;\n  fill: inherit;\n}\n.numInputWrapper {\n  position: relative;\n  height: auto;\n}\n.numInputWrapper input,\n.numInputWrapper span {\n  display: inline-block;\n}\n.numInputWrapper input {\n  width: 100%;\n}\n.numInputWrapper input::-ms-clear {\n  display: none;\n}\n.numInputWrapper input::-webkit-outer-spin-button,\n.numInputWrapper input::-webkit-inner-spin-button {\n  margin: 0;\n  -webkit-appearance: none;\n}\n.numInputWrapper span {\n  position: absolute;\n  right: 0;\n  width: 14px;\n  padding: 0 4px 0 2px;\n  height: 50%;\n  line-height: 50%;\n  opacity: 0;\n  cursor: pointer;\n  border: 1px solid rgba(64,72,72,0.15);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.numInputWrapper span:hover {\n  background: rgba(0,0,0,0.1);\n}\n.numInputWrapper span:active {\n  background: rgba(0,0,0,0.2);\n}\n.numInputWrapper span:after {\n  display: block;\n  content: "";\n  position: absolute;\n}\n.numInputWrapper span.arrowUp {\n  top: 0;\n  border-bottom: 0;\n}\n.numInputWrapper span.arrowUp:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid rgba(64,72,72,0.6);\n  top: 26%;\n}\n.numInputWrapper span.arrowDown {\n  top: 50%;\n}\n.numInputWrapper span.arrowDown:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid rgba(64,72,72,0.6);\n  top: 40%;\n}\n.numInputWrapper span svg {\n  width: inherit;\n  height: auto;\n}\n.numInputWrapper span svg path {\n  fill: rgba(60,63,64,0.5);\n}\n.numInputWrapper:hover {\n  background: rgba(0,0,0,0.05);\n}\n.numInputWrapper:hover span {\n  opacity: 1;\n}\n.flatpickr-current-month {\n  margin-top: 1px;\n  font-size: 125%;\n  line-height: inherit;\n  font-weight: 300;\n  color: inherit;\n  position: absolute;\n  width: 75%;\n  left: 12.5%;\n  padding: 7.48px 0 0 0;\n  line-height: 1;\n  height: 34px;\n  display: inline-block;\n  text-align: center;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n          transform: translate3d(0px, 0px, 0px);\n}\n.flatpickr-current-month span.cur-month {\n  font-family: inherit;\n  font-weight: 700;\n  color: inherit;\n  display: inline-block;\n  margin-left: 0.5ch;\n  padding: 0;\n}\n.flatpickr-current-month span.cur-month:hover {\n  background: rgba(0,0,0,0.05);\n}\n.flatpickr-current-month .numInputWrapper {\n  width: 6ch;\n  width: 7ch\\0;\n  display: inline-block;\n}\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\n  border-bottom-color: ${s};\n}\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\n  border-top-color: ${s};\n}\n.flatpickr-current-month input.cur-year {\n  background: transparent;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: inherit;\n  cursor: text;\n  padding: 0 0 0 0.5ch;\n  margin: 0;\n  display: inline-block;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  line-height: inherit;\n  height: auto;\n  border: 0;\n  border-radius: 0;\n  vertical-align: initial;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-current-month input.cur-year:focus {\n  outline: 0;\n}\n.flatpickr-current-month input.cur-year[disabled],\n.flatpickr-current-month input.cur-year[disabled]:hover {\n  font-size: 100%;\n  color: rgba(60,63,64,0.5);\n  background: transparent;\n  pointer-events: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months {\n  appearance: menulist;\n  background: transparent;\n  border: none;\n  border-radius: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: pointer;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  height: auto;\n  line-height: inherit;\n  margin: -1px 0 0 0;\n  outline: none;\n  padding: 0 0 0 0.5ch;\n  position: relative;\n  vertical-align: initial;\n  -webkit-box-sizing: border-box;\n  -webkit-appearance: menulist;\n  -moz-appearance: menulist;\n  width: auto;\n  max-width: 95px;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:focus,\n.flatpickr-current-month .flatpickr-monthDropdown-months:active {\n  outline: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:hover {\n  background: rgba(0,0,0,0.05);\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month {\n  background-color: ${r};\n  outline: none;\n  padding: 0;\n}\n.flatpickr-weekdays {\n  background: transparent;\n  text-align: center;\n  overflow: hidden;\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 28px;\n}\n.flatpickr-weekdays .flatpickr-weekdaycontainer {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\nspan.flatpickr-weekday {\n  cursor: default;\n  font-size: 90%;\n  background: transparent;\n  color: ${s};\n  line-height: 1;\n  margin: 0;\n  text-align: center;\n  display: block;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  font-weight: bolder;\n}\n.dayContainer,\n.flatpickr-weeks {\n  padding: 1px 0 0 0;\n}\n.flatpickr-days {\n  position: relative;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  width: 200px;\n}\n.flatpickr-days:focus {\n  outline: 0;\n}\n.dayContainer {\n  padding: 0;\n  outline: 0;\n  text-align: left;\n  width: 200px;\n  min-width: 200px;\n  max-width: 200px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  display: inline-block;\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n          transform: translate3d(0px, 0px, 0px);\n  opacity: 1;\n}\n.dayContainer + .dayContainer {\n  -webkit-box-shadow: -1px 0 0 ${a};\n          box-shadow: -1px 0 0 ${a};\n}\n.flatpickr-day {\n  background: none;\n  border: 1px solid transparent;\n  border-radius: 150px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: ${s};\n  cursor: pointer;\n  font-weight: 400;\n  width: 14.2857143%;\n  -webkit-flex-basis: 14.2857143%;\n      -ms-flex-preferred-size: 14.2857143%;\n          flex-basis: 14.2857143%;\n  max-width: 32px;\n  height: 32px;\n  line-height: 30px;\n  margin: 0;\n  display: inline-block;\n  position: relative;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  text-align: center;\n}\n.flatpickr-day.inRange,\n.flatpickr-day.prevMonthDay.inRange,\n.flatpickr-day.nextMonthDay.inRange,\n.flatpickr-day.today.inRange,\n.flatpickr-day.prevMonthDay.today.inRange,\n.flatpickr-day.nextMonthDay.today.inRange,\n.flatpickr-day:hover,\n.flatpickr-day.prevMonthDay:hover,\n.flatpickr-day.nextMonthDay:hover,\n.flatpickr-day:focus,\n.flatpickr-day.prevMonthDay:focus,\n.flatpickr-day.nextMonthDay:focus {\n  cursor: pointer;\n  outline: 0;\n  background: ${i};\n  border-color: ${i};\n}\n.flatpickr-day.today {\n  border-color: ${i};\n}\n.flatpickr-day.today:hover,\n.flatpickr-day.today:focus {\n  border-color: ${i};\n  background: ${i};\n  color: ${r};\n}\n.flatpickr-day.selected,\n.flatpickr-day.startRange,\n.flatpickr-day.endRange,\n.flatpickr-day.selected.inRange,\n.flatpickr-day.startRange.inRange,\n.flatpickr-day.endRange.inRange,\n.flatpickr-day.selected:focus,\n.flatpickr-day.startRange:focus,\n.flatpickr-day.endRange:focus,\n.flatpickr-day.selected:hover,\n.flatpickr-day.startRange:hover,\n.flatpickr-day.endRange:hover,\n.flatpickr-day.selected.prevMonthDay,\n.flatpickr-day.startRange.prevMonthDay,\n.flatpickr-day.endRange.prevMonthDay,\n.flatpickr-day.selected.nextMonthDay,\n.flatpickr-day.startRange.nextMonthDay,\n.flatpickr-day.endRange.nextMonthDay {\n  background: ${e};\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  color: ${r};\n  border-color: ${e};\n}\n.flatpickr-day.selected.startRange,\n.flatpickr-day.startRange.startRange,\n.flatpickr-day.endRange.startRange {\n  border-radius: 50px 0 0 50px;\n}\n.flatpickr-day.selected.endRange,\n.flatpickr-day.startRange.endRange,\n.flatpickr-day.endRange.endRange {\n  border-radius: 0 50px 50px 0;\n}\n.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {\n  -webkit-box-shadow: -10px 0 0 ${e};\n          box-shadow: -10px 0 0 ${e};\n}\n.flatpickr-day.selected.startRange.endRange,\n.flatpickr-day.startRange.startRange.endRange,\n.flatpickr-day.endRange.startRange.endRange {\n  border-radius: 50px;\n}\n.flatpickr-day.inRange {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 ${i}, 5px 0 0 ${i};\n          box-shadow: -5px 0 0 ${i}, 5px 0 0 ${i};\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover,\n.flatpickr-day.prevMonthDay,\n.flatpickr-day.nextMonthDay,\n.flatpickr-day.notAllowed,\n.flatpickr-day.notAllowed.prevMonthDay,\n.flatpickr-day.notAllowed.nextMonthDay {\n  color: rgba(64,72,72,0.3);\n  background: transparent;\n  cursor: default;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover {\n  cursor: not-allowed;\n  color: rgba(64,72,72,0.1);\n}\n.flatpickr-day.week.selected {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 ${e}, 5px 0 0 ${e};\n          box-shadow: -5px 0 0 ${e}, 5px 0 0 ${e};\n}\n.flatpickr-day.hidden {\n  visibility: hidden;\n}\n.rangeMode .flatpickr-day {\n  margin-top: 1px;\n}\n.flatpickr-weekwrapper {\n  float: left;\n}\n.flatpickr-weekwrapper .flatpickr-weeks {\n  padding: 0 12px;\n  -webkit-box-shadow: 1px 0 0 ${a};\n          box-shadow: 1px 0 0 ${a};\n}\n.flatpickr-weekwrapper .flatpickr-weekday {\n  float: none;\n  width: 100%;\n  line-height: 28px;\n}\n.flatpickr-weekwrapper span.flatpickr-day,\n.flatpickr-weekwrapper span.flatpickr-day:hover {\n  display: block;\n  width: 100%;\n  max-width: none;\n  color: rgba(64,72,72,0.3);\n  background: transparent;\n  cursor: default;\n  border: none;\n}\n.flatpickr-innerContainer {\n  display: block;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n.flatpickr-rContainer {\n  display: inline-block;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.flatpickr-time {\n  text-align: center;\n  outline: 0;\n  display: block;\n  height: 0;\n  line-height: 40px;\n  max-height: 40px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-time:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.flatpickr-time .numInputWrapper {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  width: 40%;\n  height: 40px;\n  float: left;\n}\n.flatpickr-time .numInputWrapper span.arrowUp:after {\n  border-bottom-color: ${s};\n}\n.flatpickr-time .numInputWrapper span.arrowDown:after {\n  border-top-color: ${s};\n}\n.flatpickr-time.hasSeconds .numInputWrapper {\n  width: 26%;\n}\n.flatpickr-time.time24hr .numInputWrapper {\n  width: 49%;\n}\n.flatpickr-time input {\n  background: transparent;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  border: 0;\n  border-radius: 0;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: inherit;\n  line-height: inherit;\n  color: ${s};\n  font-size: 14px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-time input.flatpickr-hour {\n  font-weight: bold;\n}\n.flatpickr-time input.flatpickr-minute,\n.flatpickr-time input.flatpickr-second {\n  font-weight: 400;\n}\n.flatpickr-time input:focus {\n  outline: 0;\n  border: 0;\n}\n.flatpickr-time .flatpickr-time-separator,\n.flatpickr-time .flatpickr-am-pm {\n  height: inherit;\n  float: left;\n  line-height: inherit;\n  color: ${s};\n  font-weight: bold;\n  width: 2%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-align-self: center;\n      -ms-flex-item-align: center;\n          align-self: center;\n}\n.flatpickr-time .flatpickr-am-pm {\n  outline: 0;\n  width: 18%;\n  cursor: pointer;\n  text-align: center;\n  font-weight: 400;\n}\n.flatpickr-time input:hover,\n.flatpickr-time .flatpickr-am-pm:hover,\n.flatpickr-time input:focus,\n.flatpickr-time .flatpickr-am-pm:focus {\n  background: #f1f1f1;\n}\n.flatpickr-input[readonly] {\n  cursor: pointer;\n}\n@-webkit-keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n            transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n            transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0);\n  }\n}\n.flatpickr-calendar {\n  width: 200px;\n}\n.dayContainer {\n  padding: 0;\n  border-right: 0;\n}\nspan.flatpickr-day,\nspan.flatpickr-day.prevMonthDay,\nspan.flatpickr-day.nextMonthDay {\n  border-radius: 0 !important;\n  border: 1px solid ${i};\n  max-width: none;\n  border-right-color: transparent;\n}\nspan.flatpickr-day:nth-child(n+8),\nspan.flatpickr-day.prevMonthDay:nth-child(n+8),\nspan.flatpickr-day.nextMonthDay:nth-child(n+8) {\n  border-top-color: transparent;\n}\nspan.flatpickr-day:nth-child(7n-6),\nspan.flatpickr-day.prevMonthDay:nth-child(7n-6),\nspan.flatpickr-day.nextMonthDay:nth-child(7n-6) {\n  border-left: 0;\n}\nspan.flatpickr-day:nth-child(n+36),\nspan.flatpickr-day.prevMonthDay:nth-child(n+36),\nspan.flatpickr-day.nextMonthDay:nth-child(n+36) {\n  border-bottom: 0;\n}\nspan.flatpickr-day:nth-child(-n+7),\nspan.flatpickr-day.prevMonthDay:nth-child(-n+7),\nspan.flatpickr-day.nextMonthDay:nth-child(-n+7) {\n  margin-top: 0;\n}\nspan.flatpickr-day.today:not(.selected),\nspan.flatpickr-day.prevMonthDay.today:not(.selected),\nspan.flatpickr-day.nextMonthDay.today:not(.selected) {\n  border-color: ${i};\n  border-right-color: transparent;\n  border-top-color: transparent;\n  border-bottom-color: ${i};\n}\nspan.flatpickr-day.today:not(.selected):hover,\nspan.flatpickr-day.prevMonthDay.today:not(.selected):hover,\nspan.flatpickr-day.nextMonthDay.today:not(.selected):hover {\n  border: 1px solid ${i};\n}\nspan.flatpickr-day.startRange,\nspan.flatpickr-day.prevMonthDay.startRange,\nspan.flatpickr-day.nextMonthDay.startRange,\nspan.flatpickr-day.endRange,\nspan.flatpickr-day.prevMonthDay.endRange,\nspan.flatpickr-day.nextMonthDay.endRange {\n  border-color: ${e};\n}\nspan.flatpickr-day.today,\nspan.flatpickr-day.prevMonthDay.today,\nspan.flatpickr-day.nextMonthDay.today,\nspan.flatpickr-day.selected,\nspan.flatpickr-day.prevMonthDay.selected,\nspan.flatpickr-day.nextMonthDay.selected {\n  z-index: 2;\n}\n.rangeMode .flatpickr-day {\n  margin-top: -1px;\n}\n.flatpickr-weekwrapper .flatpickr-weeks {\n  -webkit-box-shadow: none;\n          box-shadow: none;\n}\n.flatpickr-weekwrapper span.flatpickr-day {\n  border: 0;\n  margin: -1px 0 0 -1px;\n}\n.hasWeeks .flatpickr-days {\n  border-right: 0;\n}\n\n\t@media screen and (min-width:0\\0) and (min-resolution: +72dpi) {\n\t\tspan.flatpickr-day {\n\t\t\tdisplay: block;\n\t\t\t-webkit-box-flex: 1;\n\t\t\t-webkit-flex: 1 0 auto;\n\t\t\t    -ms-flex: 1 0 auto;\n\t\t\t        flex: 1 0 auto;\n\t\t}\n\t}\n\t\t`))}}Object.defineProperty(ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateRangeSelector"}),Object.defineProperty(ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([ei.className])});class ti extends Y{constructor(){super(...arguments),Object.defineProperty(this,"_groupChangedDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_groupChangedTo",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew();const t=this.getPrivate("button");t.className=t.className+" am5stock-no-hover",this._initPeriodButtons()}_initPeriodButtons(){const t=this.getPrivate("label");t.style.display="";const e=this.get("periods",[]),i=this._getAxis();this.setPrivate("deferTimeout",this.setTimeout(()=>this.setPrivate("deferReset",!1),i.get("interpolationDuration",1e3)+200)),i.onPrivate("min",()=>this._setPeriodButtonStatus()),i.onPrivate("max",()=>this._setPeriodButtonStatus()),x.S6(e,s=>{const a=document.createElement("a");a.innerHTML=s.name||s.timeUnit.toUpperCase()+s.count||"1",a.className="am5stock-link",a.setAttribute("data-period",s.timeUnit+(s.count||"")),t.appendChild(a),this._disposers.push(b.Oo(a,"click",r=>{this.setPrivate("deferReset",!1),this._resetActiveButtons(),this.selectPeriod(s),this.setPrivate("deferReset",!0),b.cn(a,"am5stock-active");const n=this.getPrivate("deferTimeout");n&&n.dispose()}))})}_resetActiveButtons(){if(!0!==this.getPrivate("deferReset")){const e=this.getPrivate("label").getElementsByClassName("am5stock-active");x.S6(e,s=>{b.IV(s,"am5stock-active")});let i=this.getPrivate("axis");i||(i=this._getAxis(),this.setPrivate("axis",i),this._disposers.push(new Oe.FV([i.on("start",()=>this._resetActiveButtons()),i.on("end",()=>this._resetActiveButtons())])))}}_setPeriodButtonStatus(){if(this.get("hideLongPeriods")){let t=this.getPrivate("axis");const i=this.getPrivate("label").getElementsByTagName("a");if(!t){t=this._getAxis();const s=t.getPrivate("min",0),a=t.getPrivate("max",0);if(s&&a){const r=a-s,n=this.get("periods",[]);x.S6(n,o=>{if("ytd"!==o.timeUnit&&"max"!==o.timeUnit){const u=je.g9(o.timeUnit,o.count||1),h=o.timeUnit+(o.count||"");for(let p=0;p<i.length;p++){const g=i[p];g.getAttribute("data-period")==h&&(u>r?b.cn(g,"am5stock-hidden"):b.IV(g,"am5stock-hidden"))}}})}}}}_afterChanged(){super._afterChanged()}_getChart(){return this.get("stockChart").panels.getIndex(0)}_getAxis(){return this._getChart().xAxes.getIndex(0)}selectPeriod(t){if(this._highlightPeriod(t),"max"==t.timeUnit)this._getChart().zoomOut();else{const e=this._getAxis();let s,i=new Date(e.getPrivate("max"));if("ytd"==t.timeUnit){if(s=new Date(i.getFullYear(),0,1,0,0,0,0),i=new Date(e.getIntervalMax(e.get("baseInterval"))),e.get("groupData"))return e.zoomToDates(s,i,0),void setTimeout(()=>{e.zoomToDates(s,i,0)},10)}else{if(e.get("groupData")){const a=e.getGroupInterval(je.g9(t.timeUnit,t.count));if(a){let r=e.getIntervalMax(e.get("baseInterval"));if(null!=r){const n=this._root.locale.firstDayOfWeek,o=this._root.timezone,u=this._root.utc;i=je.NM(new Date(r),a.timeUnit,a.count,n,u,void 0,o),i.setTime(i.getTime()+je.g9(a.timeUnit,1.05*a.count)),i=je.NM(i,a.timeUnit,a.count,n,u,void 0,o)}return s=je.IH(new Date(i),t.timeUnit,-1*(t.count||1)),this._groupChangedDp&&(this._groupChangedDp.dispose(),this._groupChangedDp=void 0),this._groupChangedTo&&this._groupChangedTo.dispose(),this._groupChangedDp=e.events.once("groupintervalchanged",()=>{e.zoomToDates(s,i,0)}),e.zoomToDates(s,i,0),void(this._groupChangedTo=this.setTimeout(()=>{this._groupChangedDp&&this._groupChangedDp.dispose(),this._groupChangedTo=void 0},500))}}s=je.IH(new Date(i),t.timeUnit,-1*(t.count||1))}e.zoomToDates(s,i)}}_highlightPeriod(t){const e=t.timeUnit+(t.count||""),s=this.getPrivate("label").getElementsByTagName("a");for(let a=0;a<s.length;a++){const r=s[a];r.getAttribute("data-period")==e?b.cn(r,"am5stock-active"):b.IV(r,"am5stock-active")}}}Object.defineProperty(ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PeriodSelector"}),Object.defineProperty(ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([ti.className])});class ii extends me{}Object.defineProperty(ii,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SeriesTypeControl"}),Object.defineProperty(ii,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:me.classNames.concat([ii.className])});class si extends me{_getDefaultIcon(){return te.getIcon("Interval")}}Object.defineProperty(si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"IntervalControl"}),Object.defineProperty(si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:me.classNames.concat([si.className])});class ai extends Y{_afterNew(){super._afterNew(),this.events.on("click",()=>{const t=this.get("stockChart");t.panels.each(e=>{e.drawings.each(i=>{i.data.clear()})}),t.indicators.clear()})}_getDefaultIcon(){return te.getIcon("Reset")}}Object.defineProperty(ai,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ResetControl"}),Object.defineProperty(ai,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Y.classNames.concat([ai.className])});class ri extends me{_afterNew(){super._afterNew(),this.getPrivate("dropdown").events.on("changed",e=>{const i=this.get("stockChart");i.get("stockSeries")&&("y-scale"==e.item.id?"percent"==e.item.value?(i.setPercentScale(!0),this._setLogarithmic(!1)):(i.setPercentScale(!1),this._setLogarithmic("logarithmic"==e.item.value)):"fills"==e.item.id&&this._setFills(e.checked))}),this.on("active",()=>{this._populateInputs()})}_getDefaultIcon(){return te.getIcon("Settings")}_populateInputs(){const e=this.getPrivate("button").getElementsByTagName("input"),i=this._getYScale();for(let s=0;s<e.length;s++){const a=e[s];switch(a.id){case"am5stock-list-fills":a.checked=this._getFillEnabled();break;case"am5stock-list-y-scale-percent":case"am5stock-list-y-scale-regular":case"am5stock-list-y-scale-logarithmic":a.checked=a.value==i}}}_getFillEnabled(){const e=this.get("stockChart").get("stockSeries");if(e){const s=e.get("xAxis").get("renderer").axisFills.values;return s.length>0&&s[0].get("visible",!1)}return!1}_getYScale(){const e=this.get("stockChart").get("stockSeries");if(e){const i=e.get("yAxis");if(i instanceof fi.m){if("valueYChangeSelectionPercent"==e.get("valueYShow"))return"percent";if(i.get("logarithmic"))return"logarithmic"}}return"regular"}_setLogarithmic(t){const i=this.get("stockChart").get("stockSeries");if(i){const s=i.get("yAxis");s instanceof fi.m&&(x.S6(s.series,a=>{a.resetExtremes(),a.markDirtyValues()}),s.set("logarithmic",t))}}_setFills(t){this.get("stockChart").panels.each(i=>{i.xAxes.each(s=>{s.get("renderer").axisFills.template.set("visible",t),s.get("renderer").grid.template.set("forceHidden",t)})})}}Object.defineProperty(ri,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SettingsControl"}),Object.defineProperty(ri,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:me.classNames.concat([ri.className])});class ni extends me{_getDefaultIcon(){return te.getIcon("Comparison")}}Object.defineProperty(ni,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ComparisonControl"}),Object.defineProperty(ni,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:me.classNames.concat([ni.className])})},89989:()=>{"function"!=typeof Object.assign&&(Object.assign=function(ze){for(var qe=[],F=1;F<arguments.length;F++)qe[F-1]=arguments[F];if(!ze)throw TypeError("Cannot convert undefined or null to object");for(var Oe=function(Se){Se&&Object.keys(Se).forEach(function(et){return ze[et]=Se[et]})},fe=0,Ie=qe;fe<Ie.length;fe++)Oe(Ie[fe]);return ze})},81998:function(ze,qe){var F,fe;F=function(Ie){"use strict";var Se=Object.assign||function(ie){for(var P=1;P<arguments.length;P++){var M=arguments[P];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(ie[D]=M[D])}return ie};function et(ie){if(Array.isArray(ie)){for(var P=0,M=Array(ie.length);P<ie.length;P++)M[P]=ie[P];return M}return Array.from(ie)}var B={order:2,precision:2,period:null};function q(ie,P){var M=[],D=[];ie.forEach(function(b,Y){null!==b[1]&&(D.push(b),M.push(P[Y]))});var C=D.reduce(function(b,Y){return b+Y[1]},0)/D.length,oe=D.reduce(function(b,Y){var G=Y[1]-C;return b+G*G},0);return 1-D.reduce(function(b,Y,G){var Z=Y[1]-M[G][1];return b+Z*Z},0)/oe}function ee(ie,P){var M=Math.pow(10,P);return Math.round(ie*M)/M}var te={linear:function(P,M){for(var D=[0,0,0,0,0],X=0,C=0;C<P.length;C++)null!==P[C][1]&&(X++,D[0]+=P[C][0],D[1]+=P[C][1],D[2]+=P[C][0]*P[C][0],D[3]+=P[C][0]*P[C][1],D[4]+=P[C][1]*P[C][1]);var oe=X*D[2]-D[0]*D[0],b=0===oe?0:ee((X*D[3]-D[0]*D[1])/oe,M.precision),Y=ee(D[1]/X-b*D[0]/X,M.precision),G=function(he){return[ee(he,M.precision),ee(b*he+Y,M.precision)]},x=P.map(function(Z){return G(Z[0])});return{points:x,predict:G,equation:[b,Y],r2:ee(q(P,x),M.precision),string:0===Y?"y = "+b+"x":"y = "+b+"x + "+Y}},exponential:function(P,M){for(var D=[0,0,0,0,0,0],X=0;X<P.length;X++)null!==P[X][1]&&(D[0]+=P[X][0],D[1]+=P[X][1],D[2]+=P[X][0]*P[X][0]*P[X][1],D[3]+=P[X][1]*Math.log(P[X][1]),D[4]+=P[X][0]*P[X][1]*Math.log(P[X][1]),D[5]+=P[X][0]*P[X][1]);var C=D[1]*D[2]-D[5]*D[5],oe=Math.exp((D[2]*D[3]-D[5]*D[4])/C),re=(D[1]*D[4]-D[5]*D[3])/C,b=ee(oe,M.precision),Y=ee(re,M.precision),G=function(he){return[ee(he,M.precision),ee(b*Math.exp(Y*he),M.precision)]},x=P.map(function(Z){return G(Z[0])});return{points:x,predict:G,equation:[b,Y],string:"y = "+b+"e^("+Y+"x)",r2:ee(q(P,x),M.precision)}},logarithmic:function(P,M){for(var D=[0,0,0,0],X=P.length,C=0;C<X;C++)null!==P[C][1]&&(D[0]+=Math.log(P[C][0]),D[1]+=P[C][1]*Math.log(P[C][0]),D[2]+=P[C][1],D[3]+=Math.pow(Math.log(P[C][0]),2));var re=ee((X*D[1]-D[2]*D[0])/(X*D[3]-D[0]*D[0]),M.precision),b=ee((D[2]-re*D[0])/X,M.precision),Y=function(Z){return[ee(Z,M.precision),ee(ee(b+re*Math.log(Z),M.precision),M.precision)]},G=P.map(function(x){return Y(x[0])});return{points:G,predict:Y,equation:[b,re],string:"y = "+b+" + "+re+" ln(x)",r2:ee(q(P,G),M.precision)}},power:function(P,M){for(var D=[0,0,0,0,0],X=P.length,C=0;C<X;C++)null!==P[C][1]&&(D[0]+=Math.log(P[C][0]),D[1]+=Math.log(P[C][1])*Math.log(P[C][0]),D[2]+=Math.log(P[C][1]),D[3]+=Math.pow(Math.log(P[C][0]),2));var oe=(X*D[1]-D[0]*D[2])/(X*D[3]-Math.pow(D[0],2)),b=ee(Math.exp((D[2]-oe*D[0])/X),M.precision),Y=ee(oe,M.precision),G=function(he){return[ee(he,M.precision),ee(ee(b*Math.pow(he,Y),M.precision),M.precision)]},x=P.map(function(Z){return G(Z[0])});return{points:x,predict:G,equation:[b,Y],string:"y = "+b+"x^"+Y,r2:ee(q(P,x),M.precision)}},polynomial:function(P,M){for(var D=[],X=[],C=0,oe=0,re=P.length,b=M.order+1,Y=0;Y<b;Y++){for(var G=0;G<re;G++)null!==P[G][1]&&(C+=Math.pow(P[G][0],Y)*P[G][1]);D.push(C),C=0;for(var x=[],Z=0;Z<b;Z++){for(var he=0;he<re;he++)null!==P[he][1]&&(oe+=Math.pow(P[he][0],Y+Z));x.push(oe),oe=0}X.push(x)}X.push(D);for(var _e=function _(ie,P){for(var M=ie,D=ie.length-1,X=[P],C=0;C<D;C++){for(var oe=C,re=C+1;re<D;re++)Math.abs(M[C][re])>Math.abs(M[C][oe])&&(oe=re);for(var b=C;b<D+1;b++){var Y=M[b][C];M[b][C]=M[b][oe],M[b][oe]=Y}for(var G=C+1;G<D;G++)for(var x=D;x>=C;x--)M[x][G]-=M[x][C]*M[C][G]/M[C][C]}for(var Z=D-1;Z>=0;Z--){for(var he=0,_e=Z+1;_e<D;_e++)he+=M[_e][Z]*X[_e];X[Z]=(M[D][Z]-he)/M[Z][Z]}return X}(X,b).map(function(We){return ee(We,M.precision)}),Ee=function($e){return[ee($e,M.precision),ee(_e.reduce(function($t,Ae,Fe){return $t+Ae*Math.pow($e,Fe)},0),M.precision)]},pe=P.map(function(We){return Ee(We[0])}),se="y = ",Pe=_e.length-1;Pe>=0;Pe--)se+=Pe>1?_e[Pe]+"x^"+Pe+" + ":1===Pe?_e[Pe]+"x + ":_e[Pe];return{string:se,points:pe,predict:Ee,equation:[].concat(et(_e)).reverse(),r2:ee(q(P,pe),M.precision)}}};Ie.exports=function be(){return Object.keys(te).reduce(function(M,D){return Se({_round:ee},M,function De(ie,P,M){return P in ie?Object.defineProperty(ie,P,{value:M,enumerable:!0,configurable:!0,writable:!0}):ie[P]=M,ie}({},D,function(X,C){return te[D](X,Se({},B,C))}))},{})}()},void 0!==(fe=F.apply(qe,[ze]))&&(ze.exports=fe)}}]);