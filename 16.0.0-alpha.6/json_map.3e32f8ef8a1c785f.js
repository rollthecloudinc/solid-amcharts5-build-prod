(self.webpackChunkplugin_amcharts5=self.webpackChunkplugin_amcharts5||[]).push([[6750],{35866:(Lt,pt,E)=>{E.d(pt,{z:()=>x});var tt=E(6905),I=E(38489),Q=E(43933);class x extends I.W{_afterNew(){this._settings.themeTags=Q.Fy(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",tt.c.new(this._root,{themeTags:Q.Fy(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const k=this._prevSettings.icon,U=this.get("icon");U!==k&&(this._disposeProperty("icon"),k&&k.dispose(),U&&this.children.push(U),this._prevSettings.icon=U)}if(this.isDirty("label")){const k=this._prevSettings.label,U=this.get("label");U!==k&&(this._disposeProperty("label"),k&&k.dispose(),U&&this.children.push(U),this._prevSettings.label=U)}}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.W.classNames.concat([x.className])})},83570:(Lt,pt,E)=>{E.d(pt,{k:()=>Q});var tt=E(38489),I=E(49648);class Q extends tt.W{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(tt.W.new(this._root,{width:I.AQ,height:I.AQ,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:tt.W.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:I.AQ,height:I.AQ})})}}Object.defineProperty(Q,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(Q,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.W.classNames.concat([Q.className])})},6905:(Lt,pt,E)=>{E.d(pt,{c:()=>G});var tt=E(50886),I=E(71765),Q=E(43933),x=E(53962);class G extends x.A{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let U=this.width(),b=this.height(),D=U,W=b,w=D/Math.abs(U),Z=W/Math.abs(b);if(tt.hj(D)&&tt.hj(W)){let M=Math.min(D,W)/2,B=Q.Iy(this.get("cornerRadiusTL",8),M),X=Q.Iy(this.get("cornerRadiusTR",8),M),R=Q.Iy(this.get("cornerRadiusBR",8),M),A=Q.Iy(this.get("cornerRadiusBL",8),M),S=Math.min(Math.abs(D/2),Math.abs(W/2));B=I.C7(B,0,S),X=I.C7(X,0,S),R=I.C7(R,0,S),A=I.C7(A,0,S);const L=this._display;L.moveTo(B*w,0),L.lineTo(D-X*w,0),X>0&&L.arcTo(D,0,D,X*Z,X),L.lineTo(D,W-R*Z),R>0&&L.arcTo(D,W,D-R*w,W,R),L.lineTo(A*w,W),A>0&&L.arcTo(0,W,0,W-A*Z,A),L.lineTo(0,B*Z),B>0&&L.arcTo(0,0,B*w,0,B),L.closePath()}}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.A.classNames.concat([G.className])})},71742:(Lt,pt,E)=>{E.d(pt,{j:()=>k});var tt=E(83570),I=E(38489),Q=E(25905),x=E(49648),G=E(15784);class k extends tt.k{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.W.new(this._root,{width:x.AQ,height:x.AQ,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new Q.dn})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const b=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(D=>{if("clear"===D.type){G.S6(D.oldValues,w=>{this._removeSeries(w)});const W=this.get("colors");W&&W.reset()}else if("push"===D.type)b.moveValue(D.newValue),this._processSeries(D.newValue);else if("setIndex"===D.type)b.setIndex(D.index,D.newValue),this._processSeries(D.newValue);else if("insertIndex"===D.type)b.insertIndex(D.index,D.newValue),this._processSeries(D.newValue);else if("removeIndex"===D.type)this._removeSeries(D.oldValue);else{if("moveIndex"!==D.type)throw new Error("Unknown IListEvent type");b.moveValue(D.value,D.newIndex),this._processSeries(D.value)}}))}_processSeries(b){b.chart=this,b._placeBulletsContainer(this)}_removeSeries(b){b.isDisposed()||(this.seriesContainer.children.removeValue(b),b._removeBulletsContainer())}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.k.classNames.concat([k.className])})},51208:(Lt,pt,E)=>{E.d(pt,{GraticuleSeries:()=>he,MapChart:()=>ze,MapLine:()=>Qt,MapLineSeries:()=>Yt,MapPointSeries:()=>Ae,MapPolygon:()=>se,MapPolygonSeries:()=>Ge,MapSeries:()=>x,ZoomControl:()=>Xe});var tt=E(19037),I=E(15784),Q=E(17679);class x extends tt.F{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geometries",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_geoJSONparsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_excluded",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_notIncluded",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this.fields.push("geometry","geometryType"),this._setRawDefault("geometryField","geometry"),this._setRawDefault("geometryTypeField","geometryType"),this._setRawDefault("idField","id"),this.on("geoJSON",t=>{let e=this._prevSettings.geoJSON;e&&e!=t&&this.data.clear()}),super._afterNew()}_handleDirties(){const t=this.get("geoJSON");let e=this._prevSettings.geoJSON;e&&e!=t&&(this._prevSettings.geoJSON=void 0,this._geoJSONparsed=!1),this._geoJSONparsed||(this._parseGeoJSON(),this._geoJSONparsed=!0)}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty&&this._handleDirties(),this.isDirty("geoJSON")||this.isDirty("include")||this.isDirty("exclude")){this._handleDirties();const t=this.chart,e=this.get("exclude");e&&(t&&(t._centerLocation=null),I.S6(e,r=>{const o=this.getDataItemById(r);o&&this._excludeDataItem(o)})),(!e||0==e.length)&&(I.S6(this._excluded,r=>{this._unexcludeDataItem(r)}),this._excluded=[]);const i=this.get("include");i&&(t&&(t._centerLocation=null),I.S6(this.dataItems,r=>{const o=r.get("id");o&&-1==i.indexOf(o)?this._notIncludeDataItem(r):this._unNotIncludeDataItem(r)})),i||(I.S6(this._notIncluded,r=>{this._unNotIncludeDataItem(r)}),this._notIncluded=[])}}_excludeDataItem(t){this._removeGeometry(t.get("geometry")),I.pB(this._excluded,t)}_unexcludeDataItem(t){this._addGeometry(t.get("geometry"),this)}_notIncludeDataItem(t){this._removeGeometry(t.get("geometry")),I.pB(this._notIncluded,t)}_unNotIncludeDataItem(t){this._addGeometry(t.get("geometry"),this)}checkInclude(t,e,i){if(e){if(0==e.length)return!1;if(-1==e.indexOf(t))return!1}return!(i&&i.length>0&&-1!=i.indexOf(t))}_parseGeoJSON(){const t=this.get("geoJSON");if(t){let e;"FeatureCollection"==t.type?e=t.features:"Feature"==t.type?e=[t]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(t.type)?e=[{geometry:t}]:console.log("nothing found in geoJSON");const i=this.get("geodataNames");if(e){const o=this.get("idField","id");for(let s=0,a=e.length;s<a;s++){let u=e[s],c=u.geometry;if(c){let l=c.type,h=u[o];if(i&&i[h]&&(u.properties.name=i[h]),-1!=this._types.indexOf(l)){let f,p;null!=h&&(f=I.sE(this.dataItems,g=>g.get("id")==h)),f&&(p=f.dataContext),f?p.geometry||(p.geometry=c,p.geometryType=l,f.set("geometry",c),f.set("geometryType",l),this.processDataItem(f)):(p={geometry:c,geometryType:l,madeFromGeoData:!0},p[o]=h,this.data.push(p)),Q.VN(u.properties,p)}}}}const r="geodataprocessed";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this})}}_placeBulletsContainer(t){this.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){}projection(){const t=this.chart;if(t)return t.get("projection")}geoPath(){const t=this.chart;if(t)return t.getPrivate("geoPath")}_addGeometry(t,e){if(t&&e.get("affectsBounds",!0)){this._geometries.push(t);const i=this.chart;i&&i.markDirtyGeometries()}}_removeGeometry(t){if(t){I.Od(this._geometries,t);const e=this.chart;e&&e.markDirtyGeometries()}}_dispose(){super._dispose();const t=this.chart;t&&t.series.removeValue(this)}_onDataClear(){super._onDataClear(),this._geoJSONparsed=!1}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapSeries"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tt.F.classNames.concat([x.className])});var G=E(50886),k=E(49648),U=E(54416);class b{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(e[i++]=a),t=s}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let i,r,o,e=this._n,s=0;if(e>0){for(s=t[--e];e>0&&(i=s,r=t[--e],s=i+r,o=r-(s-i),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=2*o,i=s+r,r==i-s&&(s=i))}return s}}var w=1e-6,Z=1e-12,M=Math.PI,B=M/2,X=M/4,R=2*M,A=180/M,S=M/180,L=Math.abs,it=Math.atan,lt=Math.atan2,O=Math.cos,Ot=Math.ceil,$t=Math.exp,Gt=(Math,Math.hypot),Jt=Math.log,T=(Math,Math.sin),Ii=Math.sign||function(n){return n>0?1:n<0?-1:0},yt=Math.sqrt,Bi=Math.tan;function Tt(n){return n>1?B:n<-1?-B:Math.asin(n)}function Dn(n){return(n=T(n/2))*n}function H(){}function le(n,t){n&&Mn.hasOwnProperty(n.type)&&Mn[n.type](n,t)}var Cn={Feature:function(n,t){le(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)le(e[i].geometry,t)}},Mn={Sphere:function(n,t){t.sphere()},Point:function(n,t){t.point((n=n.coordinates)[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)t.point((n=e[i])[0],n[1],n[2])},LineString:function(n,t){ke(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)ke(e[i],t,0)},Polygon:function(n,t){xn(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)xn(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)le(e[i],t)}};function ke(n,t,e){var o,i=-1,r=n.length-e;for(t.lineStart();++i<r;)t.point((o=n[i])[0],o[1],o[2]);t.lineEnd()}function xn(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)ke(n[e],t,1);t.polygonEnd()}function wt(n,t){n&&Cn.hasOwnProperty(n.type)?Cn[n.type](n,t):le(n,t)}var We,Ze,ue,ce,Xt={sphere:H,point:H,lineStart:function Ai(){Xt.point=Xi,Xt.lineEnd=Gi},lineEnd:H,polygonStart:H,polygonEnd:H};function Gi(){Xt.point=Xt.lineEnd=H}function Xi(n,t){Ze=n*=S,ue=T(t*=S),ce=O(t),Xt.point=Yi}function Yi(n,t){n*=S;var e=T(t*=S),i=O(t),r=L(n-Ze),o=O(r),a=i*T(r),u=ce*e-ue*i*o,c=ue*e+ce*i*o;We.add(lt(yt(a*a+u*u),c)),Ze=n,ue=e,ce=i}function En(n){return We=new b,wt(n,Xt),+We}var Fe=[null,null],ki={type:"LineString",coordinates:Fe};function Wi(n,t){return Fe[0]=n,Fe[1]=t,En(ki)}class Qt extends U.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const t=this.get("geometry");if(t){const i=this.getPrivate("series");if(i){const r=i.chart;if(r){const o=r.get("projection");let s=null;o&&o.clipAngle&&(s=o.clipAngle(),o.precision(this.get("precision",.5)));const a=this.dataItem,u=r.getPrivate("geoPath");if(u&&a)if(this._clear=!0,"straight"==a.get("lineType",i.get("lineType"))){const c=this.get("geometry");if(c){let l=c.coordinates;if(l){let h;"LineString"==c.type?h=[l]:"MultiLineString"==c.type&&(h=l),this.set("draw",f=>{for(let p=0;p<h.length;p++){let g=h[p];if(g.length>0){const y=g[0],m=r.convert({longitude:y[0],latitude:y[1]});f.lineTo(m.x,m.y);for(let v=0;v<g.length;v++){const P=g[v],d=r.convert({longitude:P[0],latitude:P[1]});f.lineTo(d.x,d.y)}}}})}}}else this.set("draw",c=>{o&&!1===i.get("clipBack")&&o.clipAngle(180),u.context(this._display),u(t),u.context(null),o&&o.clipAngle&&o.clipAngle(s)})}}}const e="linechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}_getTooltipPoint(){let t=this.get("tooltipX"),e=this.get("tooltipY"),i=0,r=0;if(G.hj(t)&&(i=t),G.hj(e)&&(r=e),t instanceof k.gG){const o=this.positionToGeoPoint(t.value),s=this.getPrivate("series");if(s){const a=s.chart;if(a){const u=a.convert(o);i=u.x,r=u.y}}}return{x:i,y:r}}positionToGeoPoint(t){const e=this.get("geometry"),i=this.getPrivate("series"),r=i.chart,o=this.dataItem;if(e&&i&&r&&o){const s=o.get("lineType",i.get("lineType"));let c,f,p,a=En(e),u=0,l=0,h=0,g=e.coordinates;if(g){let y;"LineString"==e.type?y=[g]:"MultiLineString"==e.type&&(y=g);for(let m=0;m<y.length;m++){let v=y[m];if(v.length>1){for(let P=1;P<v.length;P++)if(f=v[P-1],p=v[P],l=u/a,c=Wi(f,p),u+=c,h=u/a,l<=t&&h>t){m=y.length;break}}else 1==v.length&&(f=v[0],p=v[0],l=0,h=1)}if(f&&p){let v,m=(t-l)/(h-l);if("straight"==s){let P=r.convert({longitude:f[0],latitude:f[1]}),d=r.convert({longitude:p[0],latitude:p[1]});return r.invert({x:P.x+(d.x-P.x)*m,y:P.y+(d.y-P.y)*m})}return v=function Zi(n,t){var e=n[0]*S,i=n[1]*S,r=t[0]*S,o=t[1]*S,s=O(i),a=T(i),u=O(o),c=T(o),l=s*O(e),h=s*T(e),f=u*O(r),p=u*T(r),g=2*Tt(yt(Dn(o-i)+s*u*Dn(r-e))),y=T(g),m=g?function(v){var P=T(v*=g)/y,d=T(g-v)/y,C=d*l+P*f,N=d*h+P*p,j=d*a+P*c;return[lt(N,C)*A,lt(j,yt(C*C+N*N))*A]}:function(){return[e*A,i*A]};return m.distance=g,m}(f,p)(m),{longitude:v[0],latitude:v[1]}}}}return{longitude:0,latitude:0}}}Object.defineProperty(Qt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLine"}),Object.defineProperty(Qt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.T.classNames.concat([Qt.className])});var Ln=E(25905),On=E(24837);class Yt extends x{constructor(){super(...arguments),Object.defineProperty(this,"mapLines",{enumerable:!0,configurable:!0,writable:!0,value:new Ln.o(On.YS.new({}),()=>Qt._new(this._root,{},[this.mapLines.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["LineString","MultiLineString"]})}_afterNew(){this.fields.push("lineType"),this._setRawDefault("lineTypeField","lineType"),super._afterNew()}makeMapLine(t){const e=this.children.push(this.mapLines.make());return e._setDataItem(t),this.mapLines.push(e),e}markDirtyProjection(){I.S6(this.dataItems,t=>{let e=t.get("mapLine");e&&e.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("stroke")&&this.mapLines.template.set("stroke",this.get("stroke"))}processDataItem(t){super.processDataItem(t);let e=t.get("mapLine");e||(e=this.makeMapLine(t)),this._handlePointsToConnect(t),t.on("pointsToConnect",()=>{this._handlePointsToConnect(t)}),t.set("mapLine",e),this._addGeometry(t.get("geometry"),this),e.setPrivate("series",this)}_handlePointsToConnect(t){const e=t.get("pointsToConnect");e&&(I.S6(e,i=>{i.on("geometry",()=>{this.markDirtyValues(t)}),i.on("longitude",()=>{this.markDirtyValues(t)}),i.on("latitude",()=>{this.markDirtyValues(t)})}),this.markDirtyValues(t))}markDirtyValues(t){if(super.markDirtyValues(),t){const e=t.get("mapLine");if(e){const i=t.get("pointsToConnect");if(i){let r=[];I.S6(i,s=>{const a=s.get("longitude"),u=s.get("latitude");if(null!=a&&null!=u)r.push([a,u]);else{const c=s.get("geometry");if(c){const l=c.coordinates;l&&r.push([l[0],l[1]])}}});let o={type:"LineString",coordinates:r};t.setRaw("geometry",o),e.set("geometry",o)}else e.set("geometry",t.get("geometry"))}}}disposeDataItem(t){super.disposeDataItem(t);const e=t.get("mapLine");e&&(this.mapLines.removeValue(e),e.dispose())}_excludeDataItem(t){super._excludeDataItem(t);const e=t.get("mapLine");e&&e.setPrivate("visible",!1)}_unexcludeDataItem(t){super._unexcludeDataItem(t);const e=t.get("mapLine");e&&e.setPrivate("visible",!0)}_notIncludeDataItem(t){super._notIncludeDataItem(t);const e=t.get("mapLine");e&&e.setPrivate("visible",!1)}_unNotIncludeDataItem(t){super._unNotIncludeDataItem(t);const e=t.get("mapLine");e&&e.setPrivate("visible",!0)}}function kt(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((t-n)/e)),o=new Array(r);++i<r;)o[i]=n+i*e;return o}function Tn(n,t,e){var i=kt(n,t-w,e).concat(t);return function(r){return i.map(function(o){return[r,o]})}}function Nn(n,t,e){var i=kt(n,t-w,e).concat(t);return function(r){return i.map(function(o){return[o,r]})}}Object.defineProperty(Yt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapLineSeries"}),Object.defineProperty(Yt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.classNames.concat([Yt.className])});class he extends Yt{constructor(){super(...arguments),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:this.makeDataItem({})})}_afterNew(){super._afterNew(),this.dataItems.push(this._dataItem),this._generate()}_updateChildren(){if(super._updateChildren(),this.isDirty("step")&&this._generate(),this.isDirty("clipExtent")&&this.get("clipExtent")){const t=this.chart;t&&t.events.on("geoboundschanged",()=>{this._generate()}),this._generate()}}_generate(){let t=function jn(){var n,t,e,i,r,o,s,a,f,p,g,y,u=10,c=u,l=90,h=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:P()}}function P(){return kt(Ot(i/l)*l,e,l).map(g).concat(kt(Ot(a/h)*h,s,h).map(y)).concat(kt(Ot(t/u)*u,n,u).filter(function(d){return L(d%l)>w}).map(f)).concat(kt(Ot(o/c)*c,r,c).filter(function(d){return L(d%h)>w}).map(p))}return v.lines=function(){return P().map(function(d){return{type:"LineString",coordinates:d}})},v.outline=function(){return{type:"Polygon",coordinates:[g(i).concat(y(s).slice(1),g(e).reverse().slice(1),y(a).reverse().slice(1))]}},v.extent=function(d){return arguments.length?v.extentMajor(d).extentMinor(d):v.extentMinor()},v.extentMajor=function(d){return arguments.length?(a=+d[0][1],s=+d[1][1],(i=+d[0][0])>(e=+d[1][0])&&(d=i,i=e,e=d),a>s&&(d=a,a=s,s=d),v.precision(m)):[[i,a],[e,s]]},v.extentMinor=function(d){return arguments.length?(o=+d[0][1],r=+d[1][1],(t=+d[0][0])>(n=+d[1][0])&&(d=t,t=n,n=d),o>r&&(d=o,o=r,r=d),v.precision(m)):[[t,o],[n,r]]},v.step=function(d){return arguments.length?v.stepMajor(d).stepMinor(d):v.stepMinor()},v.stepMajor=function(d){return arguments.length?(l=+d[0],h=+d[1],v):[l,h]},v.stepMinor=function(d){return arguments.length?(u=+d[0],c=+d[1],v):[u,c]},v.precision=function(d){return arguments.length?(m=+d,f=Tn(o,r,90),p=Nn(t,n,m),g=Tn(a,s,90),y=Nn(i,e,m),v):m},v.extentMajor([[-180,-90+w],[180,90-w]]).extentMinor([[-180,-80-w],[180,80+w]])}();if(t){if(this.get("clipExtent")){const i=this.chart;if(i){const r=i.geoBounds();r&&t.extent([[r.left,r.bottom],[r.right,r.top]])}}const e=this.get("step",10);t.stepMinor([360,360]),t.stepMajor([e,e]),this._dataItem.set("geometry",t())}}}Object.defineProperty(he,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GraticuleSeries"}),Object.defineProperty(he,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Yt.classNames.concat([he.className])});var Fi=E(57333),Ve=E(98357);function Ue(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return(i=t.invert(i,r))&&n.invert(i[0],i[1])}),e}function $e(n,t){return L(n)>M&&(n-=Math.round(n/R)*R),[n,t]}function Rn(n,t,e){return(n%=R)?t||e?Ue(Bn(n),zn(t,e)):Bn(n):t||e?zn(t,e):$e}function In(n){return function(t,e){return L(t+=n)>M&&(t-=Math.round(t/R)*R),[t,e]}}function Bn(n){var t=In(n);return t.invert=In(-n),t}function zn(n,t){var e=O(n),i=T(n),r=O(t),o=T(t);function s(a,u){var c=O(u),l=O(a)*c,h=T(a)*c,f=T(u),p=f*e+l*i;return[lt(h*r-p*o,l*e-f*i),Tt(p*r+h*o)]}return s.invert=function(a,u){var c=O(u),l=O(a)*c,h=T(a)*c,f=T(u),p=f*r-h*o;return[lt(h*r+f*o,l*e+p*i),Tt(p*e-l*i)]},s}function An(){var t,n=[];return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:H,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function fe(n,t){return L(n[0]-t[0])<w&&L(n[1]-t[1])<w}function pe(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Gn(n,t,e,i,r){var a,u,o=[],s=[];if(n.forEach(function(g){if(!((y=g.length-1)<=0)){var y,P,m=g[0],v=g[y];if(fe(m,v)){if(!m[2]&&!v[2]){for(r.lineStart(),a=0;a<y;++a)r.point((m=g[a])[0],m[1]);return void r.lineEnd()}v[0]+=2*w}o.push(P=new pe(m,g,null,!0)),s.push(P.o=new pe(m,null,P,!1)),o.push(P=new pe(v,g,null,!1)),s.push(P.o=new pe(v,null,P,!0))}}),o.length){for(s.sort(t),Xn(o),Xn(s),a=0,u=s.length;a<u;++a)s[a].e=e=!e;for(var l,h,c=o[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,u=l.length;a<u;++a)r.point((h=l[a])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(a=(l=f.p.z).length-1;a>=0;--a)r.point((h=l[a])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}}function Xn(n){if(t=n.length){for(var t,r,e=0,i=n[0];++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function ge(n){return[lt(n[1],n[0]),Tt(n[2])]}function Rt(n){var t=n[0],e=n[1],i=O(e);return[i*O(t),i*T(t),T(e)]}function de(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Wt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Je(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function me(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ye(n){var t=yt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Qe(n){return L(n[0])<=M?n[0]:Ii(n[0])*((L(n[0])+M)%R-M)}function Yn(n){return Array.from(function*$i(n){for(const t of n)yield*t}(n))}function kn(n,t,e,i){return function(r){var c,l,h,o=t(r),s=An(),a=t(s),u=!1,f={point:p,lineStart:y,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=P,f.lineEnd=d,l=[],c=[]},polygonEnd:function(){f.point=p,f.lineStart=y,f.lineEnd=m,l=Yn(l);var C=function Ui(n,t){var e=Qe(t),i=t[1],r=T(i),o=[T(e),-O(e),0],s=0,a=0,u=new b;1===r?i=B+w:-1===r&&(i=-B-w);for(var c=0,l=n.length;c<l;++c)if(f=(h=n[c]).length)for(var h,f,p=h[f-1],g=Qe(p),y=p[1]/2+X,m=T(y),v=O(y),P=0;P<f;++P,g=C,m=j,v=$,p=d){var d=h[P],C=Qe(d),N=d[1]/2+X,j=T(N),$=O(N),F=C-g,V=F>=0?1:-1,K=V*F,z=K>M,ht=m*j;if(u.add(lt(ht*V*T(K),v*$+ht*O(K))),s+=z?F+V*R:F,z^g>=e^C>=e){var nt=Wt(Rt(p),Rt(d));ye(nt);var J=Wt(o,nt);ye(J);var _=(z^F>=0?-1:1)*Tt(J[2]);(i>_||i===_&&(nt[0]||nt[1]))&&(a+=z^F>=0?1:-1)}}return(s<-w||s<w&&u<-Z)^1&a}(c,i);l.length?(u||(r.polygonStart(),u=!0),Gn(l,Qi,C,e,r)):C&&(u||(r.polygonStart(),u=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),l=c=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(C,N){n(C,N)&&r.point(C,N)}function g(C,N){o.point(C,N)}function y(){f.point=g,o.lineStart()}function m(){f.point=p,o.lineEnd()}function v(C,N){h.push([C,N]),a.point(C,N)}function P(){a.lineStart(),h=[]}function d(){v(h[0][0],h[0][1]),a.lineEnd();var j,F,V,K,C=a.clean(),N=s.result(),$=N.length;if(h.pop(),c.push(h),h=null,$){if(1&C){if((F=(V=N[0]).length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),j=0;j<F;++j)r.point((K=V[j])[0],K[1]);r.lineEnd()}return}$>1&&2&C&&N.push(N.pop().concat(N.shift())),l.push(N.filter(Ji))}}return f}}function Ji(n){return n.length>1}function Qi(n,t){return((n=n.x)[0]<0?n[1]-B-w:B-n[1])-((t=t.x)[0]<0?t[1]-B-w:B-t[1])}$e.invert=$e;const Wn=kn(function(){return!0},function Ki(n){var r,t=NaN,e=NaN,i=NaN;return{lineStart:function(){n.lineStart(),r=1},point:function(o,s){var a=o>0?M:-M,u=L(o-t);L(u-M)<w?(n.point(t,e=(e+s)/2>0?B:-B),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(a,e),n.point(o,e),r=0):i!==a&&u>=M&&(L(t-i)<w&&(t-=i*w),L(o-a)<w&&(o-=a*w),e=function Hi(n,t,e,i){var r,o,s=T(n-e);return L(s)>w?it((T(t)*(o=O(i))*T(e)-T(i)*(r=O(t))*T(n))/(r*o*s)):(t+i)/2}(t,e,o,s),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(a,e),r=0),n.point(t=o,e=s),i=a},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}},function qi(n,t,e,i){var r;if(null==n)i.point(-M,r=e*B),i.point(0,r),i.point(M,r),i.point(M,0),i.point(M,-r),i.point(0,-r),i.point(-M,-r),i.point(-M,0),i.point(-M,r);else if(L(n[0]-t[0])>w){var o=n[0]<t[0]?M:-M;i.point(-o,r=e*o/2),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-M,-B]);function Fn(n,t){(t=Rt(t))[0]-=n,ye(t);var e=function zi(n){return n>1?0:n<-1?M:Math.acos(n)}(-t[1]);return((-t[2]<0?-e:e)+R-w)%R}var Kt=1e9,ve=-Kt;const Ke=n=>n;function _e(n){return function(t){var e=new He;for(var i in n)e[i]=n[i];return e.stream=t,e}}function He(){}He.prototype={constructor:He,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zt=1/0,Pe=Zt,Ht=-Zt,we=Ht;const be={point:function rr(n,t){n<Zt&&(Zt=n),n>Ht&&(Ht=n),t<Pe&&(Pe=t),t>we&&(we=t)},lineStart:H,lineEnd:H,polygonStart:H,polygonEnd:H,result:function(){var n=[[Zt,Pe],[Ht,we]];return Ht=we=-(Pe=Zt=1/0),n}};function qe(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),wt(e,n.stream(be)),t(be.result()),null!=i&&n.clipExtent(i),n}function Vn(n,t,e){return qe(n,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+t[0][0]+(r-s*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(o-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([a,u])},e)}var Un=16,lr=O(30*S);function $n(n,t){return+t?function cr(n,t){function e(i,r,o,s,a,u,c,l,h,f,p,g,y,m){var v=c-i,P=l-r,d=v*v+P*P;if(d>4*t&&y--){var C=s+f,N=a+p,j=u+g,$=yt(C*C+N*N+j*j),F=Tt(j/=$),V=L(L(j)-1)<w||L(o-h)<w?(o+h)/2:lt(N,C),K=n(V,F),z=K[0],ht=K[1],nt=z-i,J=ht-r,_=P*nt-v*J;(_*_/d>t||L((v*nt+P*J)/d-.5)>.3||s*f+a*p+u*g<lr)&&(e(i,r,o,s,a,u,z,ht,V,C/=$,N/=$,j,y,m),m.point(z,ht),e(z,ht,V,C,N,j,c,l,h,f,p,g,y,m))}}return function(i){var r,o,s,a,u,c,l,h,f,p,g,y,m={point:v,lineStart:P,lineEnd:C,polygonStart:function(){i.polygonStart(),m.lineStart=N},polygonEnd:function(){i.polygonEnd(),m.lineStart=P}};function v(F,V){F=n(F,V),i.point(F[0],F[1])}function P(){h=NaN,m.point=d,i.lineStart()}function d(F,V){var K=Rt([F,V]),z=n(F,V);e(h,f,l,p,g,y,h=z[0],f=z[1],l=F,p=K[0],g=K[1],y=K[2],Un,i),i.point(h,f)}function C(){m.point=v,i.lineEnd()}function N(){P(),m.point=j,m.lineEnd=$}function j(F,V){d(r=F,V),o=h,s=f,a=p,u=g,c=y,m.point=d}function $(){e(h,f,l,p,g,y,o,s,r,a,u,c,Un,i),m.lineEnd=C,C()}return m}}(n,t):function ur(n){return _e({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var hr=_e({point:function(n,t){this.stream.point(n*S,t*S)}});function Jn(n,t,e,i,r,o){if(!o)return function pr(n,t,e,i,r){function o(s,a){return[t+n*(s*=i),e-n*(a*=r)]}return o.invert=function(s,a){return[(s-t)/n*i,(e-a)/n*r]},o}(n,t,e,i,r);var s=O(o),a=T(o),u=s*n,c=a*n,l=s/n,h=a/n,f=(a*e-s*t)/n,p=(a*t+s*e)/n;function g(y,m){return[u*(y*=i)-c*(m*=r)+t,e-c*y-u*m]}return g.invert=function(y,m){return[i*(l*y-h*m+f),r*(p-h*y-l*m)]},g}function gr(n){return function dr(n){var t,l,v,P,d,j,$,F,V,K,e=150,i=480,r=250,o=0,s=0,a=0,u=0,c=0,h=0,f=1,p=1,g=null,y=Wn,m=null,C=Ke,N=.5;function z(_){return F(_[0]*S,_[1]*S)}function ht(_){return(_=F.invert(_[0],_[1]))&&[_[0]*A,_[1]*A]}function nt(){var _=Jn(e,0,0,f,p,h).apply(null,t(o,s)),Y=Jn(e,i-_[0],r-_[1],f,p,h);return l=Rn(a,u,c),$=Ue(t,Y),F=Ue(l,$),j=$n($,N),J()}function J(){return V=K=null,z}return z.stream=function(_){return V&&K===_?V:V=hr(function fr(n){return _e({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}(l)(y(j(C(K=_)))))},z.preclip=function(_){return arguments.length?(y=_,g=void 0,J()):y},z.postclip=function(_){return arguments.length?(C=_,m=v=P=d=null,J()):C},z.clipAngle=function(_){return arguments.length?(y=+_?function tr(n){var t=O(n),e=6*S,i=t>0,r=L(t)>w;function s(l,h){return O(l)*O(h)>t}function u(l,h,f){var y=[1,0,0],m=Wt(Rt(l),Rt(h)),v=de(m,m),P=m[0],d=v-P*P;if(!d)return!f&&l;var C=t*v/d,N=-t*P/d,j=Wt(y,m),$=me(y,C);Je($,me(m,N));var V=j,K=de($,V),z=de(V,V),ht=K*K-z*(de($,$)-1);if(!(ht<0)){var nt=yt(ht),J=me(V,(-K-nt)/z);if(Je(J,$),J=ge(J),!f)return J;var mt,_=l[0],Y=h[0],rt=l[1],ft=h[1];Y<_&&(mt=_,_=Y,Y=mt);var ae=Y-_,xt=L(ae-M)<w;if(!xt&&ft<rt&&(mt=rt,rt=ft,ft=mt),xt||ae<w?xt?rt+ft>0^J[1]<(L(J[0]-_)<w?rt:ft):rt<=J[1]&&J[1]<=ft:ae>M^(_<=J[0]&&J[0]<=Y)){var Et=me(V,(-K+nt)/z);return Je(Et,$),[J,ge(Et)]}}}function c(l,h){var f=i?n:M-n,p=0;return l<-f?p|=1:l>f&&(p|=2),h<-f?p|=4:h>f&&(p|=8),p}return kn(s,function a(l){var h,f,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(m,v){var d,P=[m,v],C=s(m,v),N=i?C?0:c(m,v):C?c(m+(m<0?M:-M),v):0;if(!h&&(g=p=C)&&l.lineStart(),C!==p&&(!(d=u(h,P))||fe(h,d)||fe(P,d))&&(P[2]=1),C!==p)y=0,C?(l.lineStart(),d=u(P,h),l.point(d[0],d[1])):(d=u(h,P),l.point(d[0],d[1],2),l.lineEnd()),h=d;else if(r&&h&&i^C){var j;!(N&f)&&(j=u(P,h,!0))&&(y=0,i?(l.lineStart(),l.point(j[0][0],j[0][1]),l.point(j[1][0],j[1][1]),l.lineEnd()):(l.point(j[1][0],j[1][1]),l.lineEnd(),l.lineStart(),l.point(j[0][0],j[0][1],3)))}C&&(!h||!fe(h,P))&&l.point(P[0],P[1]),h=P,p=C,f=N},lineEnd:function(){p&&l.lineEnd(),h=null},clean:function(){return y|(g&&p)<<1}}},function o(l,h,f,p){!function Zn(n,t,e,i,r,o){if(e){var s=O(t),a=T(t),u=i*e;null==r?(r=t+i*R,o=t-u/2):(r=Fn(s,r),o=Fn(s,o),(i>0?r<o:r>o)&&(r+=i*R));for(var c,l=r;i>0?l>o:l<o;l-=u)c=ge([s,-a*O(l),-a*T(l)]),n.point(c[0],c[1])}}(p,n,e,f,l,h)},i?[0,-n]:[-M,n-M])}(g=_*S):(g=null,Wn),J()):g*A},z.clipExtent=function(_){return arguments.length?(C=null==_?(m=v=P=d=null,Ke):function nr(n,t,e,i){function r(c,l){return n<=c&&c<=e&&t<=l&&l<=i}function o(c,l,h,f){var p=0,g=0;if(null==c||(p=s(c,h))!==(g=s(l,h))||u(c,l)<0^h>0)do{f.point(0===p||3===p?n:e,p>1?i:t)}while((p=(p+h+4)%4)!==g);else f.point(l[0],l[1])}function s(c,l){return L(c[0]-n)<w?l>0?0:3:L(c[0]-e)<w?l>0?2:1:L(c[1]-t)<w?l>0?1:0:l>0?3:2}function a(c,l){return u(c.x,l.x)}function u(c,l){var h=s(c,1),f=s(l,1);return h!==f?h-f:0===h?l[1]-c[1]:1===h?c[0]-l[0]:2===h?c[1]-l[1]:l[0]-c[0]}return function(c){var f,p,g,y,m,v,P,d,C,N,j,l=c,h=An(),$={point:F,lineStart:function ht(){$.point=J,p&&p.push(g=[]),N=!0,C=!1,P=d=NaN},lineEnd:function nt(){f&&(J(y,m),v&&C&&h.rejoin(),f.push(h.result())),$.point=F,C&&l.lineEnd()},polygonStart:function K(){l=h,f=[],p=[],j=!0},polygonEnd:function z(){var _=function V(){for(var _=0,Y=0,rt=p.length;Y<rt;++Y)for(var At,Et,ft=p[Y],mt=1,ae=ft.length,xt=ft[0],Ye=xt[0],Ut=xt[1];mt<ae;++mt)At=Ye,Et=Ut,Ye=(xt=ft[mt])[0],Ut=xt[1],Et<=i?Ut>i&&(Ye-At)*(i-Et)>(Ut-Et)*(n-At)&&++_:Ut<=i&&(Ye-At)*(i-Et)<(Ut-Et)*(n-At)&&--_;return _}(),Y=j&&_,rt=(f=Yn(f)).length;(Y||rt)&&(c.polygonStart(),Y&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),rt&&Gn(f,a,_,o,c),c.polygonEnd()),l=c,f=p=g=null}};function F(_,Y){r(_,Y)&&l.point(_,Y)}function J(_,Y){var rt=r(_,Y);if(p&&g.push([_,Y]),N)y=_,m=Y,v=rt,N=!1,rt&&(l.lineStart(),l.point(_,Y));else if(rt&&C)l.point(_,Y);else{var ft=[P=Math.max(ve,Math.min(Kt,P)),d=Math.max(ve,Math.min(Kt,d))],mt=[_=Math.max(ve,Math.min(Kt,_)),Y=Math.max(ve,Math.min(Kt,Y))];!function er(n,t,e,i,r,o){var g,s=n[0],a=n[1],l=0,h=1,f=t[0]-s,p=t[1]-a;if(g=e-s,f||!(g>0)){if(g/=f,f<0){if(g<l)return;g<h&&(h=g)}else if(f>0){if(g>h)return;g>l&&(l=g)}if(g=r-s,f||!(g<0)){if(g/=f,f<0){if(g>h)return;g>l&&(l=g)}else if(f>0){if(g<l)return;g<h&&(h=g)}if(g=i-a,p||!(g>0)){if(g/=p,p<0){if(g<l)return;g<h&&(h=g)}else if(p>0){if(g>h)return;g>l&&(l=g)}if(g=o-a,p||!(g<0)){if(g/=p,p<0){if(g>h)return;g>l&&(l=g)}else if(p>0){if(g<l)return;g<h&&(h=g)}return l>0&&(n[0]=s+l*f,n[1]=a+l*p),h<1&&(t[0]=s+h*f,t[1]=a+h*p),!0}}}}}(ft,mt,n,t,e,i)?rt&&(l.lineStart(),l.point(_,Y),j=!1):(C||(l.lineStart(),l.point(ft[0],ft[1])),l.point(mt[0],mt[1]),rt||l.lineEnd(),j=!1)}P=_,d=Y,C=rt}return $}}(m=+_[0][0],v=+_[0][1],P=+_[1][0],d=+_[1][1]),J()):null==m?null:[[m,v],[P,d]]},z.scale=function(_){return arguments.length?(e=+_,nt()):e},z.translate=function(_){return arguments.length?(i=+_[0],r=+_[1],nt()):[i,r]},z.center=function(_){return arguments.length?(o=_[0]%360*S,s=_[1]%360*S,nt()):[o*A,s*A]},z.rotate=function(_){return arguments.length?(a=_[0]%360*S,u=_[1]%360*S,c=_.length>2?_[2]%360*S:0,nt()):[a*A,u*A,c*A]},z.angle=function(_){return arguments.length?(h=_%360*S,nt()):h*A},z.reflectX=function(_){return arguments.length?(f=_?-1:1,nt()):f<0},z.reflectY=function(_){return arguments.length?(p=_?-1:1,nt()):p<0},z.precision=function(_){return arguments.length?(j=$n($,N=_*_),J()):yt(N)},z.fitExtent=function(_,Y){return Vn(z,_,Y)},z.fitSize=function(_,Y){return function or(n,t,e){return Vn(n,[[0,0],t],e)}(z,_,Y)},z.fitWidth=function(_,Y){return function sr(n,t,e){return qe(n,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),s=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];n.scale(150*o).translate([s,a])},e)}(z,_,Y)},z.fitHeight=function(_,Y){return function ar(n,t,e){return qe(n,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),s=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([s,a])},e)}(z,_,Y)},function(){return t=n.apply(this,arguments),z.invert=t.invert&&ht,nt()}}(function(){return n})()}function tn(n,t){return[n,Jt(Bi((B+t)/2))]}tn.invert=function(n,t){return[n,2*it($t(t))-B]};var Se=E(22927);class vr extends Fi.Q{setupDefaultRules(){super.setupDefaultRules();const t=this._root.interfaceColors,e=this.rule.bind(this);e("MapChart").setAll({projection:function yr(n){var a,u,c,t=gr(n),e=t.center,i=t.scale,r=t.translate,o=t.clipExtent,s=null;function l(){var h=M*i(),f=t(function Vi(n){function t(e){return(e=n(e[0]*S,e[1]*S))[0]*=A,e[1]*=A,e}return n=Rn(n[0]*S,n[1]*S,n.length>2?n[2]*S:0),t.invert=function(e){return(e=n.invert(e[0]*S,e[1]*S))[0]*=A,e[1]*=A,e},t}(t.rotate()).invert([0,0]));return o(null==s?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:n===tn?[[Math.max(f[0]-h,s),a],[Math.min(f[0]+h,u),c]]:[[s,Math.max(f[1]-h,a)],[u,Math.min(f[1]+h,c)]])}return t.scale=function(h){return arguments.length?(i(h),l()):i()},t.translate=function(h){return arguments.length?(r(h),l()):r()},t.center=function(h){return arguments.length?(e(h),l()):e()},t.clipExtent=function(h){return arguments.length?(null==h?s=a=u=c=null:(s=+h[0][0],a=+h[0][1],u=+h[1][0],c=+h[1][1]),l()):null==s?null:[[s,a],[u,c]]},l()}(tn).scale(961/R),panX:"translateX",panY:"translateY",pinchZoom:!0,zoomStep:2,zoomLevel:1,rotationX:0,rotationY:0,rotationZ:0,maxZoomLevel:32,minZoomLevel:1,wheelY:"zoom",wheelX:"none",animationEasing:Se.C0(Se.T7),wheelEasing:Se.C0(Se.T7),wheelDuration:0,wheelSensitivity:1,maxPanOut:.4,centerMapOnZoomOut:!0});{const i=e("MapLine");i.setAll({precision:.5,role:"figure"}),(0,Ve.v)(i,"stroke",t,"grid")}e("MapPolygonSeries").setAll({affectsBounds:!0}),e("MapPointSeries").setAll({affectsBounds:!1,clipFront:!1,clipBack:!0,autoScale:!1}),e("MapLineSeries").setAll({affectsBounds:!1});{const i=e("MapPolygon");i.setAll({precision:.5,isMeasured:!1,role:"figure",fillOpacity:1,position:"absolute",strokeWidth:.2,strokeOpacity:1}),(0,Ve.v)(i,"fill",t,"primaryButton"),(0,Ve.v)(i,"stroke",t,"background")}e("Button",["zoomcontrol"]).setAll({marginTop:1,marginBottom:1}),e("Graphics",["map","button","plus","icon"]).setAll({x:k.CI,y:k.CI,draw:i=>{i.moveTo(-4,0),i.lineTo(4,0),i.moveTo(0,-4),i.lineTo(0,4)}}),e("Graphics",["map","button","minus","icon"]).setAll({x:k.CI,y:k.CI,draw:i=>{i.moveTo(-4,0),i.lineTo(4,0)}}),e("GraticuleSeries").setAll({step:10}),e("ZoomControl").setAll({x:k.AQ,centerX:k.AQ,y:k.AQ,centerY:k.AQ,paddingRight:10,paddingBottom:10})}}var Kn,Hn,rn,on,Qn=E(71742),_r=E(53962),en=new b,nn=new b,Nt={point:H,lineStart:H,lineEnd:H,polygonStart:function(){Nt.lineStart=Pr,Nt.lineEnd=br},polygonEnd:function(){Nt.lineStart=Nt.lineEnd=Nt.point=H,en.add(L(nn)),nn=new b},result:function(){var n=en/2;return en=new b,n}};function Pr(){Nt.point=wr}function wr(n,t){Nt.point=qn,Kn=rn=n,Hn=on=t}function qn(n,t){nn.add(on*n-rn*t),rn=n,on=t}function br(){qn(Kn,Hn)}const ti=Nt;var ei,ni,bt,St,sn=0,an=0,qt=0,De=0,Ce=0,Ft=0,ln=0,un=0,te=0,vt={point:It,lineStart:ii,lineEnd:ri,polygonStart:function(){vt.lineStart=Cr,vt.lineEnd=Mr},polygonEnd:function(){vt.point=It,vt.lineStart=ii,vt.lineEnd=ri},result:function(){var n=te?[ln/te,un/te]:Ft?[De/Ft,Ce/Ft]:qt?[sn/qt,an/qt]:[NaN,NaN];return sn=an=qt=De=Ce=Ft=ln=un=te=0,n}};function It(n,t){sn+=n,an+=t,++qt}function ii(){vt.point=Sr}function Sr(n,t){vt.point=Dr,It(bt=n,St=t)}function Dr(n,t){var e=n-bt,i=t-St,r=yt(e*e+i*i);De+=r*(bt+n)/2,Ce+=r*(St+t)/2,Ft+=r,It(bt=n,St=t)}function ri(){vt.point=It}function Cr(){vt.point=xr}function Mr(){oi(ei,ni)}function xr(n,t){vt.point=oi,It(ei=bt=n,ni=St=t)}function oi(n,t){var e=n-bt,i=t-St,r=yt(e*e+i*i);De+=r*(bt+n)/2,Ce+=r*(St+t)/2,Ft+=r,ln+=(r=St*n-bt*t)*(bt+n),un+=r*(St+t),te+=3*r,It(bt=n,St=t)}const si=vt;function ai(n){this._context=n}ai.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,R)}},result:H};var hn,li,ui,ee,ne,cn=new b,Me={point:H,lineStart:function(){Me.point=Er},lineEnd:function(){hn&&ci(li,ui),Me.point=H},polygonStart:function(){hn=!0},polygonEnd:function(){hn=null},result:function(){var n=+cn;return cn=new b,n}};function Er(n,t){Me.point=ci,li=ee=n,ui=ne=t}function ci(n,t){cn.add(yt((ee-=n)*ee+(ne-=t)*ne)),ee=n,ne=t}const hi=Me;let fi,xe,pi,gi;class di{constructor(t){this._append=null==t?mi:function Lr(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return mi;if(t!==fi){const e=10**t;fi=t,xe=function(r){let o=1;this._+=r[0];for(const s=r.length;o<s;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return xe}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==pi||this._append!==xe){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,pi=i,xe=this._append,gi=this._,this._=r}this._+=gi}}result(){const t=this._;return this._="",t.length?t:null}}function mi(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}var ie,Ee,Le,Oe,Te,Ne,je,Re,fn,pn,gn,vi,_i,ot,st,at,Tr=E(11951),yi=E(37839),Bt=E(71765),_t={sphere:H,point:dn,lineStart:Pi,lineEnd:wi,polygonStart:function(){_t.lineStart=Rr,_t.lineEnd=Ir},polygonEnd:function(){_t.lineStart=Pi,_t.lineEnd=wi}};function dn(n,t){n*=S;var e=O(t*=S);re(e*O(n),e*T(n),T(t))}function re(n,t,e){++ie,Le+=(n-Le)/ie,Oe+=(t-Oe)/ie,Te+=(e-Te)/ie}function Pi(){_t.point=Nr}function Nr(n,t){n*=S;var e=O(t*=S);ot=e*O(n),st=e*T(n),at=T(t),_t.point=jr,re(ot,st,at)}function jr(n,t){n*=S;var e=O(t*=S),i=e*O(n),r=e*T(n),o=T(t),s=lt(yt((s=st*o-at*r)*s+(s=at*i-ot*o)*s+(s=ot*r-st*i)*s),ot*i+st*r+at*o);Ee+=s,Ne+=s*(ot+(ot=i)),je+=s*(st+(st=r)),Re+=s*(at+(at=o)),re(ot,st,at)}function wi(){_t.point=dn}function Rr(){_t.point=Br}function Ir(){bi(vi,_i),_t.point=dn}function Br(n,t){vi=n,_i=t,n*=S,t*=S,_t.point=bi;var e=O(t);ot=e*O(n),st=e*T(n),at=T(t),re(ot,st,at)}function bi(n,t){n*=S;var e=O(t*=S),i=e*O(n),r=e*T(n),o=T(t),s=st*o-at*r,a=at*i-ot*o,u=ot*r-st*i,c=Gt(s,a,u),l=Tt(c),h=c&&-l/c;fn.add(h*s),pn.add(h*a),gn.add(h*u),Ee+=l,Ne+=l*(ot+(ot=i)),je+=l*(st+(st=r)),Re+=l*(at+(at=o)),re(ot,st,at)}var Si,Di,mn,yn,vn,Ie=new b,Be=new b,Dt={point:H,lineStart:H,lineEnd:H,polygonStart:function(){Ie=new b,Dt.lineStart=Ar,Dt.lineEnd=Gr},polygonEnd:function(){var n=+Ie;Be.add(n<0?R+n:n),this.lineStart=this.lineEnd=this.point=H},sphere:function(){Be.add(R)}};function Ar(){Dt.point=Xr}function Gr(){Ci(Si,Di)}function Xr(n,t){Dt.point=Ci,Si=n,Di=t,mn=n*=S,yn=O(t=(t*=S)/2+X),vn=T(t)}function Ci(n,t){var e=(n*=S)-mn,i=e>=0?1:-1,r=i*e,o=O(t=(t*=S)/2+X),s=T(t),a=vn*s,u=yn*o+a*O(r),c=a*i*T(r);Ie.add(lt(c,u)),mn=n,yn=o,vn=s}var q,ct,et,gt,zt,Mi,xi,Vt,oe,jt,Ct,Mt={point:_n,lineStart:Li,lineEnd:Oi,polygonStart:function(){Mt.point=Ti,Mt.lineStart=kr,Mt.lineEnd=Wr,oe=new b,Dt.polygonStart()},polygonEnd:function(){Dt.polygonEnd(),Mt.point=_n,Mt.lineStart=Li,Mt.lineEnd=Oi,Ie<0?(q=-(et=180),ct=-(gt=90)):oe>w?gt=90:oe<-w&&(ct=-90),Ct[0]=q,Ct[1]=et},sphere:function(){q=-(et=180),ct=-(gt=90)}};function _n(n,t){jt.push(Ct=[q=n,et=n]),t<ct&&(ct=t),t>gt&&(gt=t)}function Ei(n,t){var e=Rt([n*S,t*S]);if(Vt){var i=Wt(Vt,e),o=Wt([i[1],-i[0],0],i);ye(o),o=ge(o);var c,s=n-zt,a=s>0?1:-1,u=o[0]*A*a,l=L(s)>180;l^(a*zt<u&&u<a*n)?(c=o[1]*A)>gt&&(gt=c):l^(a*zt<(u=(u+360)%360-180)&&u<a*n)?(c=-o[1]*A)<ct&&(ct=c):(t<ct&&(ct=t),t>gt&&(gt=t)),l?n<zt?dt(q,n)>dt(q,et)&&(et=n):dt(n,et)>dt(q,et)&&(q=n):et>=q?(n<q&&(q=n),n>et&&(et=n)):n>zt?dt(q,n)>dt(q,et)&&(et=n):dt(n,et)>dt(q,et)&&(q=n)}else jt.push(Ct=[q=n,et=n]);t<ct&&(ct=t),t>gt&&(gt=t),Vt=e,zt=n}function Li(){Mt.point=Ei}function Oi(){Ct[0]=q,Ct[1]=et,Mt.point=_n,Vt=null}function Ti(n,t){if(Vt){var e=n-zt;oe.add(L(e)>180?e+(e>0?360:-360):e)}else Mi=n,xi=t;Dt.point(n,t),Ei(n,t)}function kr(){Dt.lineStart()}function Wr(){Ti(Mi,xi),Dt.lineEnd(),L(oe)>w&&(q=-(et=180)),Ct[0]=q,Ct[1]=et,Vt=null}function dt(n,t){return(t-=n)<0?t+360:t}function Zr(n,t){return n[0]-t[0]}function Ni(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function Pn(n){const t=function zr(n){ie=Ee=Le=Oe=Te=Ne=je=Re=0,fn=new b,pn=new b,gn=new b,wt(n,_t);var t=+fn,e=+pn,i=+gn,r=Gt(t,e,i);return r<Z&&(t=Ne,e=je,i=Re,Ee<w&&(t=Le,e=Oe,i=Te),(r=Gt(t,e,i))<Z)?[NaN,NaN]:[lt(e,t)*A,Tt(i/r)*A]}(n);return{longitude:t[0],latitude:t[1]}}function wn(n){const t=function Fr(n){var t,e,i,r,o,s,a;if(gt=et=-(q=ct=1/0),jt=[],wt(n,Mt),e=jt.length){for(jt.sort(Zr),t=1,o=[i=jt[0]];t<e;++t)Ni(i,(r=jt[t])[0])||Ni(i,r[1])?(dt(i[0],r[1])>dt(i[0],i[1])&&(i[1]=r[1]),dt(r[0],i[1])>dt(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,t=0,i=o[e=o.length-1];t<=e;i=r,++t)(a=dt(i[1],(r=o[t])[0]))>s&&(s=a,q=r[0],et=i[1])}return jt=Ct=null,q===1/0||ct===1/0?[[NaN,NaN],[NaN,NaN]]:[[q,ct],[et,gt]]}(n);if(t){const e={left:t[0][0],right:t[1][0],top:t[1][1],bottom:t[0][1]};return e.right<e.left&&(e.right=180,e.left=-180),e}return{left:0,right:0,top:0,bottom:0}}var Sn=E(43933);class ze extends Qn.j{constructor(){super(...arguments),Object.defineProperty(this,"_downTranslateX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downTranslateY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downRotationZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pLat",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pLon",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downZoomLevel",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_doubleDownDistance",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dirtyGeometries",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_geometryColection",{enumerable:!0,configurable:!0,writable:!0,value:{type:"GeometryCollection",geometries:[]}}),Object.defineProperty(this,"_centerLocation",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rxa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapBounds",{enumerable:!0,configurable:!0,writable:!0,value:[[0,0],[0,0]]}),Object.defineProperty(this,"_geoCentroid",{enumerable:!0,configurable:!0,writable:!0,value:{longitude:0,latitude:0}}),Object.defineProperty(this,"_geoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_prevGeoBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_dispatchBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mapFitted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_centerX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_centerY",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGeoPath(){const t=this.get("projection"),e=function Or(n,t){let r,o,e=3,i=4.5;function s(a){return a&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),wt(a,r(o))),o.result()}return s.area=function(a){return wt(a,r(ti)),ti.result()},s.measure=function(a){return wt(a,r(hi)),hi.result()},s.bounds=function(a){return wt(a,r(be)),be.result()},s.centroid=function(a){return wt(a,r(si)),si.result()},s.projection=function(a){return arguments.length?(r=null==a?(n=null,Ke):(n=a).stream,s):n},s.context=function(a){return arguments.length?(o=null==a?(t=null,new di(e)):new ai(t=a),"function"!=typeof i&&o.pointRadius(i),s):t},s.pointRadius=function(a){return arguments.length?(i="function"==typeof a?a:(o.pointRadius(+a),+a),s):i},s.digits=function(a){if(!arguments.length)return e;if(null==a)e=null;else{const u=Math.floor(a);if(!(u>=0))throw new RangeError(`invalid digits: ${a}`);e=u}return null===t&&(o=new di(e)),s},s.projection(n).digits(e).context(t)}();e.projection(t),this.setPrivateRaw("geoPath",e)}geoPoint(){return this.invert(this.seriesContainer.toGlobal({x:this.width()/2,y:this.height()/2}))}geoCentroid(){return this._geoCentroid}geoBounds(){return this._geoBounds}_handleSetWheel(){const t=this.get("wheelX"),e=this.get("wheelY"),i=this.chartContainer;"none"!=t||"none"!=e?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=i.events.on("wheel",r=>{const o=this.get("wheelEasing"),s=this.get("wheelSensitivity",1),a=this.get("wheelDuration",0),u=r.originalEvent;if(!Sn.sp(u,this))return;u.preventDefault();const c=i._display.toLocal(r.point);"zoom"==e?this._handleWheelZoom(u.deltaY,c):"rotateY"==e?this._handleWheelRotateY(u.deltaY/5*s,a,o):"rotateX"==e&&this._handleWheelRotateX(u.deltaY/5*s,a,o),"zoom"==t?this._handleWheelZoom(u.deltaX,c):"rotateY"==t?this._handleWheelRotateY(u.deltaX/5*s,a,o):"rotateX"==t&&this._handleWheelRotateX(u.deltaX/5*s,a,o)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_prepareChildren(){super._prepareChildren();const t=this.get("projection"),e=this.innerWidth(),i=this.innerHeight(),r=this._geometryColection.geometries;if(this.isDirty("projection")){this._makeGeoPath(),this.markDirtyProjection(),this._fitMap(),t.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),t.rotate&&t.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]);let o=this._prevSettings.projection;if(o&&o!=t){let s=e/2,a=i/2;if(o.invert){let u=o.invert([s,a]);if(u){let c=t(u);if(c){let l=t.translate(),h=s-(c[0]-l[0]),f=a-(c[1]-l[1]);t.translate([h,f]),this.setRaw("translateX",h),this.setRaw("translateY",f)}}}}}if((this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this._dirtyGeometries&&(this._geometryColection.geometries=[],this.series.each(o=>{I.wd(this._geometryColection.geometries,o._geometries)}),this._fitMap()),0!=r.length&&(e!=this._pw||i!=this._ph||this._dirtyGeometries)&&e>0&&i>0){let o=e/2,s=i/2;t.fitSize([e,i],this._geometryColection);const a=t.scale();if(this.setPrivateRaw("mapScale",a),t.scale(a*this.get("zoomLevel",1)),this._centerLocation){let c=t(this._centerLocation);if(c){let l=t.translate(),h=o-(c[0]-l[0]),f=s-(c[1]-l[1]);t.translate([h,f]),this.setRaw("translateX",h),this.setRaw("translateY",f),this._centerX=l[0],this._centerY=l[1]}}this.markDirtyProjection();const u=this.getPrivate("geoPath");this._mapBounds=u.bounds(this._geometryColection)}if(this._pw=e,this._ph=i,this.isDirty("zoomControl")){const o=this._prevSettings.zoomControl,s=this.get("zoomControl");s!==o&&(this._disposeProperty("zoomControl"),o&&o.dispose(),s&&(s.setPrivate("chart",this),this.children.push(s)),this.setRaw("zoomControl",s))}this.isDirty("zoomLevel")&&(t.scale(this.getPrivate("mapScale")*this.get("zoomLevel",1)),this.markDirtyProjection(),this.series.each(o=>{o.isType("MapPointSeries")&&o.get("autoScale")&&I.S6(o.dataItems,s=>{const a=s.bullets;a&&I.S6(a,u=>{const c=u.get("sprite");c&&c.set("scale",this.get("zoomLevel"))})})})),(this.isDirty("translateX")||this.isDirty("translateY"))&&(t.translate([this.get("translateX",this.width()/2),this.get("translateY",this.height()/2)]),this.markDirtyProjection()),t.rotate&&(this.isDirty("rotationX")||this.isDirty("rotationY")||this.isDirty("rotationZ"))&&(t.rotate([this.get("rotationX",0),this.get("rotationY",0),this.get("rotationZ",0)]),this.markDirtyProjection()),(this.isDirty("pinchZoom")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_fitMap(){const t=this.get("projection");let e=this.innerWidth(),i=this.innerHeight();if(e>0&&i>0){t.fitSize([e,i],this._geometryColection),this.setPrivateRaw("mapScale",t.scale());const r=t.translate();this.setRaw("translateX",r[0]),this.setRaw("translateY",r[1]),this._centerX=r[0],this._centerY=r[1];const o=this.getPrivate("geoPath");this._mapBounds=o.bounds(this._geometryColection),this._geoCentroid=Pn(this._geometryColection);const s=wn(this._geometryColection);if(this._geoBounds=s,this._geometryColection.geometries.length>0){s.left=Bt.NM(this._geoBounds.left,3),s.right=Bt.NM(this._geoBounds.right,3),s.top=Bt.NM(this._geoBounds.top,3),s.bottom=Bt.NM(this._geoBounds.bottom,3);const a=this._prevGeoBounds;a&&!Sn.lM(s,a)&&(this._dispatchBounds=!0,this._prevGeoBounds=s)}this._mapFitted=!0}}homeGeoPoint(){let t=this.get("homeGeoPoint");if(!t){const i=this.getPrivate("geoPath").bounds(this._geometryColection),r=i[0][0],o=i[0][1];t=this.invert({x:r+(i[1][0]-r)/2,y:o+(i[1][1]-o)/2})}return t}goHome(t){this.zoomToGeoPoint(this.homeGeoPoint(),this.get("homeZoomLevel",1),!0,t,this.get("homeRotationX"),this.get("homeRotationY"))}_updateChildren(){const t=this.get("projection");if(t.invert){let e=this.innerWidth(),i=this.innerHeight();e>0&&i>0&&(this._centerLocation=t.invert([this.innerWidth()/2,this.innerHeight()/2]))}super._updateChildren()}_afterChanged(){if(super._afterChanged(),this._dispatchBounds){this._dispatchBounds=!1;const t="geoboundschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}}_setUpTouch(){this.chartContainer._display.cancelTouch||(this.chartContainer._display.cancelTouch=!!(this.get("pinchZoom")||this.get("panX")||this.get("panY")))}markDirtyGeometries(){this._dirtyGeometries=!0,this.markDirty()}markDirtyProjection(){this.series.each(t=>{t.markDirtyProjection()})}_afterNew(){this._defaultThemes.push(vr.new(this._root)),this._settings.themeTags=Sn.Fy(this._settings.themeTags,["map"]),this.children.push(this.bulletsContainer),super._afterNew(),this._makeGeoPath(),this.chartContainer.children.push(this.seriesContainer),null==this.get("translateX")&&this.set("translateX",this.width()/2),null==this.get("translateY")&&this.set("translateY",this.height()/2),this.chartContainer.set("interactive",!0),this.chartContainer.set("interactiveChildren",!1),this.chartContainer.set("background",_r.A.new(this._root,{themeTags:["map","background"],fill:Tr.Il.fromHex(0),fillOpacity:0})),this._disposers.push(this.chartContainer.events.on("pointerdown",e=>{this._handleChartDown(e)})),this._disposers.push(this.chartContainer.events.on("globalpointerup",e=>{this._handleChartUp(e)})),this._disposers.push(this.chartContainer.events.on("globalpointermove",e=>{this._handleChartMove(e)}));let t=!1;for(let e=0;e<yi.i_.licenses.length;e++)yi.i_.licenses[e].match(/^AM5M.{5,}/i)&&(t=!0);t||this._root._showBranding(),this._setUpTouch()}_handleChartDown(t){this._downZoomLevel=this.get("zoomLevel",1);let e=Q.XP(this.chartContainer._downPoints).length;if(1==e){const i=this.chartContainer._downPoints[1];i&&i.x==t.point.x&&i.y==t.point.y&&(e=0)}if(e>0){this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");const i=this.chartContainer._getDownPointId();if(i){let r=this._movePoints[i];r&&(this.chartContainer._downPoints[i]=r)}}else if(0==e){let i=this.chartContainer.get("background");if(i&&i.events.enableType("click"),this.get("panX")||this.get("panY")){this._za&&this._za.stop(),this._txa&&this._txa.stop(),this._tya&&this._tya.stop(),this._rxa&&this._rxa.stop(),this._rya&&this._rya.stop();const r=this.chartContainer._display.toLocal(t.point);this._downTranslateX=this.get("translateX"),this._downTranslateY=this.get("translateY"),this._downRotationX=this.get("rotationX"),this._downRotationY=this.get("rotationY"),this._downRotationZ=this.get("rotationZ");let o=this.get("projection");if(o.invert){let s=o.invert([r.x,r.y]),a=o.invert([r.x+1,r.y+1]);s&&a&&(this._pLon=Math.abs(a[0]-s[0]),this._pLat=Math.abs(a[1]-s[1]))}}}}invert(t){let e=this.get("projection");if(e.invert){const i=e.invert([t.x,t.y]);if(i)return{longitude:i[0],latitude:i[1]}}return{longitude:0,latitude:0}}convert(t,e,i){let o,r=this.get("projection");if(r.rotate||(e=void 0,i=void 0),null!=e||null!=i){null==e&&(e=0),null==i&&(i=0);let s=r.rotate();r.rotate([e,i,0]),o=r([t.longitude,t.latitude]),r.rotate(s)}else o=r([t.longitude,t.latitude]);return o?{x:o[0],y:o[1]}:{x:0,y:0}}_handleChartUp(t){this.chartContainer._downPoints={}}_handlePinch(){const t=this.chartContainer;let e=0,i=[],r=[];if(Q.S6(t._downPoints,(o,s)=>{i[e]=s;let a=this._movePoints[o];a&&(r[e]=a),e++}),i.length>1&&r.length>1){const o=t._display;let s=i[0],a=i[1],u=r[0],c=r[1];if(s&&a&&u&&c){s=o.toLocal(s),a=o.toLocal(a),u=o.toLocal(u),c=o.toLocal(c);let l=Math.hypot(a.x-s.x,a.y-s.y),f=Math.hypot(c.x-u.x,c.y-u.y)/l*this._downZoomLevel;f=Bt.C7(f,this.get("minZoomLevel",1),this.get("maxZoomLevel",32));let p={x:u.x+(c.x-u.x)/2,y:u.y+(c.y-u.y)/2},g={x:s.x+(a.x-s.x)/2,y:s.y+(a.y-s.y)/2},v=this._downZoomLevel,P=p.x-(-(this._downTranslateX||0)+g.x)/v*f,d=p.y-(-(this._downTranslateY||0)+g.y)/v*f;this.set("zoomLevel",f),this.set("translateX",P),this.set("translateY",d)}}}_handleChartMove(t){const e=this.chartContainer;let i=e._getDownPoint();const r=e._getDownPointId(),s=t.originalEvent.pointerId;if(this.get("pinchZoom")&&s&&(this._movePoints[s]=t.point,Q.XP(e._downPoints).length>1))this._handlePinch();else if((!r||!s||s==r)&&i){const a=this.get("panX"),u=this.get("panY");if("none"!=a||"none"!=u){const c=e._display;let l=c.toLocal(t.point);i=c.toLocal(i);let h=this._downTranslateX,f=this._downTranslateY;if(Math.hypot(i.x-l.x,i.y-l.y)>5){let p=e.get("background");if(p&&p.events.disableType("click"),G.hj(h)&&G.hj(f)){let g=this.get("projection");const y=this.get("zoomLevel",1),m=this.get("maxPanOut",.4),v=this._mapBounds,P=this.width(),d=this.height(),C=v[1][0]-v[0][0],N=v[1][1]-v[0][1];if("translateX"==a){h+=l.x-i.x;const j=P/2-(P/2-this._centerX)*y;h=Math.min(h,j+C*m*y),h=Math.max(h,j-C*m*y)}if("translateY"==u){f+=l.y-i.y;const j=d/2-(d/2-this._centerY)*y;f=Math.min(f,j+N*m*y),f=Math.max(f,j-N*m*y)}if(this.set("translateX",h),this.set("translateY",f),g.invert){let j=g.invert([i.x,i.y]);location&&j&&("rotateX"==a&&this.set("rotationX",this._downRotationX-(i.x-l.x)*this._pLon),"rotateY"==u&&this.set("rotationY",this._downRotationY+(i.y-l.y)*this._pLat))}}}}}}_handleWheelRotateY(t,e,i){this._rya=this.animate({key:"rotationY",to:this.get("rotationY",0)-t,duration:e,easing:i})}_handleWheelRotateX(t,e,i){this._rxa=this.animate({key:"rotationX",to:this.get("rotationX",0)-t,duration:e,easing:i})}_handleWheelZoom(t,e){let i=this.get("zoomStep",2),r=this.get("zoomLevel",1),o=r;t>0?o=r/i:t<0&&(o=r*i),o!=r&&this.zoomToPoint(e,o)}zoomToGeoBounds(t,e,i,r){t.right<t.left&&(t.right=180,t.left=-180);const s=this.getPrivate("geoPath").bounds(this._geometryColection);let a=this.convert({longitude:t.left,latitude:t.top},i,r),u=this.convert({longitude:t.right,latitude:t.bottom},i,r);a.y<s[0][1]&&(a.y=s[0][1]),u.y>s[1][1]&&(u.y=s[1][1]);let c=this.get("zoomLevel",1),l_left=a.x,l_right=u.x,l_top=a.y,l_bottom=u.y,h=this.seriesContainer,f=.9*Math.min(h.innerWidth()/(l_right-l_left)*c,h.innerHeight()/(l_bottom-l_top)*c),y=this.invert({x:l_left+(l_right-l_left)/2,y:l_top+(l_bottom-l_top)/2});return(null!=i||null!=r)&&this.rotate(i,r),this.zoomToGeoPoint(y,f,!0,e)}zoomToPoint(t,e,i,r){e&&(e=Bt.C7(e,this.get("minZoomLevel",1),this.get("maxZoomLevel",32))),G.hj(r)||(r=this.get("animationDuration",0));const o=this.get("animationEasing"),s=this.get("zoomLevel",1);this.get("centerMapOnZoomOut")&&e==this.get("homeZoomLevel",1)&&(t=this.convert(this.homeGeoPoint()),i=!0);let a=t.x,u=t.y,c=this.get("translateX",0),l=this.get("translateY",0),h=a,f=u;i&&(h=this.width()/2,f=this.height()/2);let g=f-(u-l)/s*e;return this._txa=this.animate({key:"translateX",to:h-(a-c)/s*e,duration:r,easing:o}),this._tya=this.animate({key:"translateY",to:g,duration:r,easing:o}),this._za=this.animate({key:"zoomLevel",to:e,duration:r,easing:o}),s!=e&&this._root.readerAlert(this._t("Zoom level changed to %1",this._root.locale,G.D$(e))),this._za}zoomToGeoPoint(t,e,i,r,o,s){let a=this.convert(t,o,s);if((null!=o||null!=s)&&this.rotate(o,s,r),a)return this.zoomToPoint(a,e,i,r)}rotate(t,e,i){if(this.get("projection").rotate){G.hj(i)||(i=this.get("animationDuration",0));const o=this.get("animationEasing");null!=t&&this.animate({key:"rotationX",to:t,duration:i,easing:o}),null!=e&&this.animate({key:"rotationY",to:e,duration:i,easing:o})}}zoomIn(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)*this.get("zoomStep",2))}zoomOut(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.get("zoomLevel",1)/this.get("zoomStep",2))}_clearDirty(){super._clearDirty(),this._dirtyGeometries=!1,this._mapFitted=!1}getArea(t){const e=this.getPrivate("geoPath"),i=t.get("geometry");return i?e.area(i):0}}Object.defineProperty(ze,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapChart"}),Object.defineProperty(ze,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qn.j.classNames.concat([ze.className])});class Ae extends x{constructor(){super(...arguments),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Point","MultiPoint"]}),Object.defineProperty(this,"_lineChangedDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("polygonId","lineId","longitude","latitude","fixed"),super._afterNew()}markDirtyProjection(){this.markDirty()}markDirtyValues(t){super.markDirtyValues(),t&&this._positionBullets(t)}processDataItem(t){super.processDataItem(t);let e=t.get("geometry");if(e){if("Point"==e.type){const i=e.coordinates;i&&(t.set("longitude",i[0]),t.set("latitude",i[1]))}else if("MultiPoint"==e.type){const i=e.coordinates;i&&i[0]&&(t.set("longitude",i[0][0]),t.set("latitude",i[0][1]))}}else e={type:"Point",coordinates:[t.get("longitude",0),t.get("latitude",0)]},t.set("geometry",e);this._addGeometry(e,this)}_makeBullets(t){t.bullets=[],this.bullets.each(e=>{const i=t.get("geometry");if(i)if("Point"==i.type)this._setBulletParent(this._makeBullet(t,e));else if(i.type="MultiPoint"){let r=0;I.S6(i.coordinates,()=>{this._setBulletParent(this._makeBullet(t,e,r)),r++})}})}_setBulletParent(t){if(t){const e=t.get("sprite"),i=this.chart;if(e&&i){const r=e.dataItem;r&&(r.get("fixed")?e.parent!=i.bulletsContainer&&i.bulletsContainer.children.moveValue(e):e.parent!=this.bulletsContainer&&this.bulletsContainer.children.moveValue(e))}}}_positionBullet(t){const e=t.get("sprite");if(e){const i=e.dataItem;if(i&&i.get("fixed"))return;const r=i.get("latitude"),o=i.get("longitude"),s=i.get("lineDataItem"),a=i.get("fixed"),u=this.chart;let c;if(s)c=s.get("mapLine");else{const y=i.get("lineId");y&&u&&u.series.each(m=>{if(m.isType("MapLineSeries")){let v=m.getDataItemById(y);v&&(i.set("lineDataItem",v),c=v.get("mapLine"))}})}this._lineChangedDp&&this._lineChangedDp.dispose(),c&&(this._lineChangedDp=c.events.on("linechanged",()=>{this._positionBullets(i)}));const l=i.get("polygonDataItem");let h;if(l)h=l.get("mapPolygon");else{const y=i.get("polygonId");y&&u&&u.series.each(m=>{if(m.isType("MapPolygonSeries")){let v=m.getDataItemById(y);v&&(i.set("polygonDataItem",v),h=v.get("mapPolygon"))}})}const f=i.get("positionOnLine");let p,g;if(h){let y=h.visualCentroid();p=[y.longitude,y.latitude],i.setRaw("longitude",y.longitude),i.setRaw("latitude",y.latitude)}else if(c&&G.hj(f)){let y=c.positionToGeoPoint(f);if(p=[y.longitude,y.latitude],i.get("autoRotate",t.get("autoRotate"))&&u){const m=c.positionToGeoPoint(f-.002),v=c.positionToGeoPoint(f+.002),P=u.convert(m),d=u.convert(v);g=Bt._O(P,d)}i.setRaw("longitude",y.longitude),i.setRaw("latitude",y.latitude)}else if(G.hj(o)&&G.hj(r))p=[o,r];else{const y=i.get("geometry");y&&("Point"==y.type?this._positionBulletReal(t,y,y.coordinates,g):"MultiPoint"==y.type&&(p=y.coordinates[t._index||0]))}!a&&p&&this._positionBulletReal(t,{type:"Point",coordinates:p},p,g)}}_positionBulletReal(t,e,i,r){const o=t.get("sprite"),s=this.chart;if(s){const a=s.get("projection"),u=s.getPrivate("geoPath"),c=o.dataItem,l=a(i);l&&o.setAll({x:l[0],y:l[1]});let h=!0;u(e)?this.get("clipFront")&&(h=!1):this.get("clipBack")&&(h=!1),o.setPrivate("visible",h),c&&null!=r&&c.get("autoRotate",t.get("autoRotate"))&&o.set("rotation",r+c.get("autoRotateAngle",t.get("autoRotateAngle",0)))}}zoomToDataItem(t,e,i){const r=this.chart;if(r){const o=t.get("longitude",0),s=t.get("latitude",0);return i?r.zoomToGeoPoint({longitude:o,latitude:s},e,!0,void 0,-o,-s):r.zoomToGeoPoint({longitude:o,latitude:s},e,!0)}}disposeDataItem(t){const e=this.chart;e&&e.series.each(i=>{i.isType("MapLineSeries")&&I.S6(i.dataItems,r=>{const o=r.get("pointsToConnect");o&&I.S6(o,s=>{s==t&&(I.Od(o,s),i.markDirtyValues(r))})})}),super.disposeDataItem(t)}_excludeDataItem(t){super._excludeDataItem(t);const e=t.bullets;e&&I.S6(e,i=>{const r=i.get("sprite");r&&r.setPrivate("visible",!1)})}_unexcludeDataItem(t){super._unexcludeDataItem(t);const e=t.bullets;e&&I.S6(e,i=>{const r=i.get("sprite");r&&r.setPrivate("visible",!0)})}_notIncludeDataItem(t){super._notIncludeDataItem(t);const e=t.bullets;e&&I.S6(e,i=>{const r=i.get("sprite");r&&r.setPrivate("visible",!1)})}_unNotIncludeDataItem(t){super._unNotIncludeDataItem(t);const e=t.bullets;e&&I.S6(e,i=>{const r=i.get("sprite");r&&r.setPrivate("visible",!0)})}}Object.defineProperty(Ae,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPointSeries"}),Object.defineProperty(Ae,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.classNames.concat([Ae.className])});var Vr=E(97306),Ur=E.n(Vr);class se extends U.T{constructor(){super(...arguments),Object.defineProperty(this,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){if(super._beforeChanged(),this._projectionDirty||this.isDirty("geometry")||this.isDirty("precision")){const t=this.get("geometry");if(t){const e=this.series;if(e){const i=e.projection();i&&i.precision(this.get("precision",.5));const r=e.geoPath();r&&(this._clear=!0,this.set("draw",o=>{r.context(this._display),r(t),r.context(null)}),this.isHover()&&this.showTooltip())}}}}markDirtyProjection(){this.markDirty(),this._projectionDirty=!0}_clearDirty(){super._clearDirty(),this._projectionDirty=!1}geoCentroid(){const t=this.get("geometry");return t?Pn(t):{latitude:0,longitude:0}}visualCentroid(){let t=0,e=[];const i=this.get("geometry");if(i){if("Polygon"==i.type)e=i.coordinates;else if("MultiPolygon"==i.type)for(let o=0;o<i.coordinates.length;o++){let s=i.coordinates[o],a=(n={type:"Polygon",coordinates:s},Be=new b,wt(n,Dt),2*Be);a>t&&(e=s,t=a)}let r=Ur()(e);return{longitude:r[0],latitude:r[1]}}var n;return{longitude:0,latitude:0}}_getTooltipPoint(){const t=this.series;if(t){const e=t.projection();if(e){const i=this.visualCentroid(),r=e([i.longitude,i.latitude]);if(r)return{x:r[0],y:r[1]}}}return{x:0,y:0}}}Object.defineProperty(se,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygon"}),Object.defineProperty(se,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:U.T.classNames.concat([se.className])});class Ge extends x{constructor(){super(...arguments),Object.defineProperty(this,"mapPolygons",{enumerable:!0,configurable:!0,writable:!0,value:new Ln.o(On.YS.new({}),()=>se._new(this._root,{},[this.mapPolygons.template]))}),Object.defineProperty(this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:["Polygon","MultiPolygon"]})}makeMapPolygon(t){const e=this.children.push(this.mapPolygons.make());return e._setDataItem(t),this.mapPolygons.push(e),e}markDirtyProjection(){I.S6(this.dataItems,t=>{let e=t.get("mapPolygon");e&&e.markDirtyProjection()})}_prepareChildren(){super._prepareChildren(),this.isDirty("fill")&&this.mapPolygons.template.set("fill",this.get("fill")),this.isDirty("stroke")&&this.mapPolygons.template.set("stroke",this.get("stroke"))}processDataItem(t){super.processDataItem(t);let e=t.get("mapPolygon");e||(e=this.makeMapPolygon(t)),t.set("mapPolygon",e);let i=t.get("geometry");if(i){if(this.get("reverseGeodata")&&i.coordinates)for(let o=0;o<i.coordinates.length;o++)if("MultiPolygon"==i.type)for(let s=0;s<i.coordinates[o].length;s++)i.coordinates[o][s].reverse();else i.coordinates[o].reverse();e.set("geometry",i)}e.series=this,this._addGeometry(t.get("geometry"),this)}disposeDataItem(t){super.disposeDataItem(t);const e=t.get("mapPolygon");e&&(this.mapPolygons.removeValue(e),e.dispose()),this._removeGeometry(t.get("geometry"))}_excludeDataItem(t){super._excludeDataItem(t);const e=t.get("mapPolygon");e&&e.setPrivate("visible",!1)}_unexcludeDataItem(t){super._unexcludeDataItem(t);const e=t.get("mapPolygon");e&&e.setPrivate("visible",!0)}_notIncludeDataItem(t){super._notIncludeDataItem(t);const e=t.get("mapPolygon");e&&e.setPrivate("visible",!1)}_unNotIncludeDataItem(t){super._unNotIncludeDataItem(t);const e=t.get("mapPolygon");e&&e.setPrivate("visible",!0)}markDirtyValues(t){if(super.markDirtyValues(),t){const e=t.get("mapPolygon");e&&e.set("geometry",t.get("geometry"))}}zoomToDataItem(t,e){const i=t.get("mapPolygon");if(i){const r=i.get("geometry"),o=this.chart;if(r&&o){if(e){const s=Pn(r);return o.rotate(-s.longitude,-s.latitude),o.zoomToGeoBounds(wn(r),void 0,-s.longitude,-s.latitude)}return o.zoomToGeoBounds(wn(r))}}}}Object.defineProperty(Ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"MapPolygonSeries"}),Object.defineProperty(Ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x.classNames.concat([Ge.className])});var ji=E(38489),Ri=E(35866),$r=E(42863);class Xe extends ji.W{constructor(){super(...arguments),Object.defineProperty(this,"plusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ri.z.new(this._root,{width:36,height:36,themeTags:["plus"]}))}),Object.defineProperty(this,"minusButton",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ri.z.new(this._root,{width:36,height:36,themeTags:["minus"]}))}),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.set("themeTags",["zoomcontrol"]),this.plusButton.setAll({icon:U.T.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:U.T.new(this._root,{themeTags:["icon"]}),layout:void 0})}_prepareChildren(){if(super._prepareChildren(),this.isPrivateDirty("chart")){const t=this.getPrivate("chart"),e=this._prevPrivateSettings.chart;t&&(this._disposer=new $r.FV([this.plusButton.events.on("click",()=>{t.zoomIn()}),this.minusButton.events.on("click",()=>{t.zoomOut()})])),e&&this._disposer&&this._disposer.dispose()}}}Object.defineProperty(Xe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomControl"}),Object.defineProperty(Xe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ji.W.classNames.concat([Xe.className])})},97306:(Lt,pt,E)=>{var tt=E(30054);function I(b,D,W){D=D||1;for(var w,Z,M,B,X=0;X<b[0].length;X++){var R=b[0][X];(!X||R[0]<w)&&(w=R[0]),(!X||R[1]<Z)&&(Z=R[1]),(!X||R[0]>M)&&(M=R[0]),(!X||R[1]>B)&&(B=R[1])}var A=M-w,S=B-Z,L=Math.min(A,S),it=L/2;if(0===L){var lt=[w,Z];return lt.distance=0,lt}for(var O=new tt(void 0,Q),Ot=w;Ot<M;Ot+=L)for(var $t=Z;$t<B;$t+=L)O.push(new x(Ot+it,$t+it,it,b));var Pt=function k(b){for(var D=0,W=0,w=0,Z=b[0],M=0,B=Z.length,X=B-1;M<B;X=M++){var R=Z[M],A=Z[X],S=R[0]*A[1]-A[0]*R[1];W+=(R[0]+A[0])*S,w+=(R[1]+A[1])*S,D+=3*S}return 0===D?new x(Z[0][0],Z[0][1],0,b):new x(W/D,w/D,0,b)}(b),Gt=new x(w+A/2,Z+S/2,0,b);Gt.d>Pt.d&&(Pt=Gt);for(var Jt=O.length;O.length;){var ut=O.pop();ut.d>Pt.d&&(Pt=ut,W&&console.log("found best %d after %d probes",Math.round(1e4*ut.d)/1e4,Jt)),!(ut.max-Pt.d<=D)&&(O.push(new x(ut.x-(it=ut.h/2),ut.y-it,it,b)),O.push(new x(ut.x+it,ut.y-it,it,b)),O.push(new x(ut.x-it,ut.y+it,it,b)),O.push(new x(ut.x+it,ut.y+it,it,b)),Jt+=4)}W&&(console.log("num probes: "+Jt),console.log("best distance: "+Pt.d));var T=[Pt.x,Pt.y];return T.distance=Pt.d,T}function Q(b,D){return D.max-b.max}function x(b,D,W,w){this.x=b,this.y=D,this.h=W,this.d=function G(b,D,W){for(var w=!1,Z=1/0,M=0;M<W.length;M++)for(var B=W[M],X=0,R=B.length,A=R-1;X<R;A=X++){var S=B[X],L=B[A];S[1]>D!=L[1]>D&&b<(L[0]-S[0])*(D-S[1])/(L[1]-S[1])+S[0]&&(w=!w),Z=Math.min(Z,U(b,D,S,L))}return 0===Z?0:(w?1:-1)*Math.sqrt(Z)}(b,D,w),this.max=this.d+this.h*Math.SQRT2}function U(b,D,W,w){var Z=W[0],M=W[1],B=w[0]-Z,X=w[1]-M;if(0!==B||0!==X){var R=((b-Z)*B+(D-M)*X)/(B*B+X*X);R>1?(Z=w[0],M=w[1]):R>0&&(Z+=B*R,M+=X*R)}return(B=b-Z)*B+(X=D-M)*X}tt.default&&(tt=tt.default),Lt.exports=I,Lt.exports.default=I},30054:(Lt,pt,E)=>{E.r(pt),E.d(pt,{default:()=>tt});class tt{constructor(x=[],G=I){if(this.data=x,this.length=this.data.length,this.compare=G,this.length>0)for(let k=(this.length>>1)-1;k>=0;k--)this._down(k)}push(x){this.data.push(x),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const x=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),x}peek(){return this.data[0]}_up(x){const{data:G,compare:k}=this,U=G[x];for(;x>0;){const b=x-1>>1,D=G[b];if(k(U,D)>=0)break;G[x]=D,x=b}G[x]=U}_down(x){const{data:G,compare:k}=this,U=this.length>>1,b=G[x];for(;x<U;){let D=1+(x<<1),W=G[D];const w=D+1;if(w<this.length&&k(G[w],W)<0&&(D=w,W=G[w]),k(W,b)>=0)break;G[x]=W,x=D}G[x]=b}}function I(Q,x){return Q<x?-1:Q>x?1:0}}}]);